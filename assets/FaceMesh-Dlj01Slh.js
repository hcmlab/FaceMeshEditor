var X=Object.defineProperty;var ee=(n,r,o)=>r in n?X(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o;var $=(n,r,o)=>ee(n,typeof r!="symbol"?r+"":r,o);import{d as T,u as Y,r as B,o as K,w as O,a as E,c as A,b as S,e as V,f as w,F as R,g as u,h as te,B as ne,i as oe,y as re,P as ae,G as ie,M as x,j as se,k as F,W as le,l as ce,$ as C,T as ue,m as de,n as he,p as fe,_ as me,q as pe,s as ve,t as ge,v as we,x as be,z as ye,A as _e,C as Se,D as Ee,E as Me}from"./index-Cd8eRoSL.js";const xe=u("div",{class:"d-flex flex-column w-100 align-items-center"},[u("div",null,[u("b",null,[u("i",{class:"bi bi-eye me-1"}),w(" View ")])])],-1),Ae=u("div",{class:"mb-2"},null,-1),Ce=T({__name:"ViewOptions",setup(n){const r=Y(),o=B(r.showTesselation),a=()=>{r.showTesselation=o.value};return K(()=>{o.value=r.showTesselation,O(()=>r.showTesselation,i=>{o.value=i})}),(i,t)=>{const e=te,c=ne;return E(),A(R,null,[xe,S(c,null,{default:V(()=>[S(e,{switch:"","view-tesselation":"",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=h=>o.value=h),onChange:a,"aria-checked":"mixed"},{default:V(()=>[w(" Tesselation ")]),_:1},8,["modelValue"])]),_:1}),Ae],64)}}});function b(n,r,o,a){return new(o||(o=Promise))(function(i,t){function e(l){try{h(a.next(l))}catch(s){t(s)}}function c(l){try{h(a.throw(l))}catch(s){t(s)}}function h(l){var s;l.done?i(l.value):(s=l.value,s instanceof o?s:new o(function(f){f(s)})).then(e,c)}h((a=a.apply(n,[])).next())})}function y(n,r){var o,a,i,t,e={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return t={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(t[Symbol.iterator]=function(){return this}),t;function c(h){return function(l){return function(s){if(o)throw new TypeError("Generator is already executing.");for(;t&&(t=0,s[0]&&(e=0)),e;)try{if(o=1,a&&(i=2&s[0]?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return e.label++,{value:s[1],done:!1};case 5:e.label++,a=s[1],s=[0];continue;case 7:s=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!((i=i.length>0&&i[i.length-1])||s[0]!==6&&s[0]!==2)){e=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){e.label=s[1];break}if(s[0]===6&&e.label<i[1]){e.label=i[1],i=s;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(s);break}i[2]&&e.ops.pop(),e.trys.pop();continue}s=r.call(n,e)}catch(f){s=[6,f],a=0}finally{o=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([h,l])}}}var _={exclude:[]},J={},Te={timeout:"true"},g=function(n,r){typeof window<"u"&&(J[n]=r)},Pe=function(){return Object.fromEntries(Object.entries(J).filter(function(n){var r,o=n[0];return!(!((r=_==null?void 0:_.exclude)===null||r===void 0)&&r.includes(o))}).map(function(n){return[n[0],(0,n[1])()]}))};function U(n){return n^=n>>>16,n=Math.imul(n,2246822507),n^=n>>>13,n=Math.imul(n,3266489909),(n^=n>>>16)>>>0}var m=new Uint32Array([597399067,2869860233,951274213,2716044179]);function v(n,r){return n<<r|n>>>32-r}function W(n,r){var o;if(r===void 0&&(r=0),r=r?0|r:0,typeof n=="string"&&(o=n,n=new TextEncoder().encode(o).buffer),!(n instanceof ArrayBuffer))throw new TypeError("Expected key to be ArrayBuffer or string");var a=new Uint32Array([r,r,r,r]);(function(t,e){for(var c=t.byteLength/16|0,h=new Uint32Array(t,0,4*c),l=0;l<c;l++){var s=h.subarray(4*l,4*(l+1));s[0]=Math.imul(s[0],m[0]),s[0]=v(s[0],15),s[0]=Math.imul(s[0],m[1]),e[0]=e[0]^s[0],e[0]=v(e[0],19),e[0]=e[0]+e[1],e[0]=Math.imul(e[0],5)+1444728091,s[1]=Math.imul(s[1],m[1]),s[1]=v(s[1],16),s[1]=Math.imul(s[1],m[2]),e[1]=e[1]^s[1],e[1]=v(e[1],17),e[1]=e[1]+e[2],e[1]=Math.imul(e[1],5)+197830471,s[2]=Math.imul(s[2],m[2]),s[2]=v(s[2],17),s[2]=Math.imul(s[2],m[3]),e[2]=e[2]^s[2],e[2]=v(e[2],15),e[2]=e[2]+e[3],e[2]=Math.imul(e[2],5)+2530024501,s[3]=Math.imul(s[3],m[3]),s[3]=v(s[3],18),s[3]=Math.imul(s[3],m[0]),e[3]=e[3]^s[3],e[3]=v(e[3],13),e[3]=e[3]+e[0],e[3]=Math.imul(e[3],5)+850148119}})(n,a),function(t,e){var c=t.byteLength/16|0,h=t.byteLength%16,l=new Uint32Array(4),s=new Uint8Array(t,16*c,h);switch(h){case 15:l[3]=l[3]^s[14]<<16;case 14:l[3]=l[3]^s[13]<<8;case 13:l[3]=l[3]^s[12]<<0,l[3]=Math.imul(l[3],m[3]),l[3]=v(l[3],18),l[3]=Math.imul(l[3],m[0]),e[3]=e[3]^l[3];case 12:l[2]=l[2]^s[11]<<24;case 11:l[2]=l[2]^s[10]<<16;case 10:l[2]=l[2]^s[9]<<8;case 9:l[2]=l[2]^s[8]<<0,l[2]=Math.imul(l[2],m[2]),l[2]=v(l[2],17),l[2]=Math.imul(l[2],m[3]),e[2]=e[2]^l[2];case 8:l[1]=l[1]^s[7]<<24;case 7:l[1]=l[1]^s[6]<<16;case 6:l[1]=l[1]^s[5]<<8;case 5:l[1]=l[1]^s[4]<<0,l[1]=Math.imul(l[1],m[1]),l[1]=v(l[1],16),l[1]=Math.imul(l[1],m[2]),e[1]=e[1]^l[1];case 4:l[0]=l[0]^s[3]<<24;case 3:l[0]=l[0]^s[2]<<16;case 2:l[0]=l[0]^s[1]<<8;case 1:l[0]=l[0]^s[0]<<0,l[0]=Math.imul(l[0],m[0]),l[0]=v(l[0],15),l[0]=Math.imul(l[0],m[1]),e[0]=e[0]^l[0]}}(n,a),function(t,e){e[0]=e[0]^t.byteLength,e[1]=e[1]^t.byteLength,e[2]=e[2]^t.byteLength,e[3]=e[3]^t.byteLength,e[0]=e[0]+e[1]|0,e[0]=e[0]+e[2]|0,e[0]=e[0]+e[3]|0,e[1]=e[1]+e[0]|0,e[2]=e[2]+e[0]|0,e[3]=e[3]+e[0]|0,e[0]=U(e[0]),e[1]=U(e[1]),e[2]=U(e[2]),e[3]=U(e[3]),e[0]=e[0]+e[1]|0,e[0]=e[0]+e[2]|0,e[0]=e[0]+e[3]|0,e[1]=e[1]+e[0]|0,e[2]=e[2]+e[0]|0,e[3]=e[3]+e[0]|0}(n,a);var i=new Uint8Array(a.buffer);return Array.from(i).map(function(t){return t.toString(16).padStart(2,"0")}).join("")}function ke(n,r){return new Promise(function(o){setTimeout(function(){return o(r)},n)})}function Re(n,r,o){return Promise.all(n.map(function(a){return Promise.race([a,ke(r,o)])}))}function Ie(){return b(this,void 0,void 0,function(){var n,r,o,a,i;return y(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),n=Pe(),r=Object.keys(n),[4,Re(Object.values(n),(_==null?void 0:_.timeout)||1e3,Te)];case 1:return o=t.sent(),a=o.filter(function(e){return e!==void 0}),i={},a.forEach(function(e,c){i[r[c]]=e}),[2,Z(i,_.exclude||[])];case 2:throw t.sent();case 3:return[2]}})})}function Z(n,r){var o={},a=function(t){if(n.hasOwnProperty(t)){var e=n[t];if(typeof e!="object"||Array.isArray(e))r.includes(t)||(o[t]=e);else{var c=Z(e,r.map(function(h){return h.startsWith(t+".")?h.slice(t.length+1):h}));Object.keys(c).length>0&&(o[t]=c)}}};for(var i in n)a(i);return o}function G(n){return b(this,void 0,void 0,function(){var r,o;return y(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Ie()];case 1:return r=a.sent(),o=W(JSON.stringify(r)),[2,o.toString()];case 2:throw a.sent();case 3:return[2]}})})}function Le(n){for(var r=0,o=0;o<n.length;++o)r+=Math.abs(n[o]);return r}function Q(n,r,o){for(var a=[],i=0;i<n[0].data.length;i++){for(var t=[],e=0;e<n.length;e++)t.push(n[e].data[i]);a.push(Ue(t))}var c=new Uint8ClampedArray(a);return new ImageData(c,r,o)}function Ue(n){if(n.length===0)return 0;for(var r={},o=0,a=n;o<a.length;o++)r[t=a[o]]=(r[t]||0)+1;var i=n[0];for(var t in r)r[t]>r[i]&&(i=parseInt(t,10));return i}function I(){if(typeof navigator>"u")return{name:"unknown",version:"unknown"};for(var n=navigator.userAgent,r={Edg:"Edge",OPR:"Opera"},o=0,a=[/(?<name>Edge|Edg)\/(?<version>\d+(?:\.\d+)?)/,/(?<name>(?:Chrome|Chromium|OPR|Opera|Vivaldi|Brave))\/(?<version>\d+(?:\.\d+)?)/,/(?<name>(?:Firefox|Waterfox|Iceweasel|IceCat))\/(?<version>\d+(?:\.\d+)?)/,/(?<name>Safari)\/(?<version>\d+(?:\.\d+)?)/,/(?<name>MSIE|Trident|IEMobile).+?(?<version>\d+(?:\.\d+)?)/,/(?<name>[A-Za-z]+)\/(?<version>\d+(?:\.\d+)?)/,/(?<name>SamsungBrowser)\/(?<version>\d+(?:\.\d+)?)/];o<a.length;o++){var i=a[o],t=n.match(i);if(t&&t.groups)return{name:r[t.groups.name]||t.groups.name,version:t.groups.version}}return{name:"unknown",version:"unknown"}}g("audio",function(){return b(this,void 0,void 0,function(){return y(this,function(n){return[2,new Promise(function(r,o){try{var a=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,5e3,44100),i=a.createBufferSource(),t=a.createOscillator();t.frequency.value=1e3;var e,c=a.createDynamicsCompressor();c.threshold.value=-50,c.knee.value=40,c.ratio.value=12,c.attack.value=0,c.release.value=.2,t.connect(c),c.connect(a.destination),t.start(),a.oncomplete=function(h){e=h.renderedBuffer.getChannelData(0),r({sampleHash:Le(e),oscillator:t.type,maxChannels:a.destination.maxChannelCount,channelCountMode:i.channelCountMode})},a.startRendering()}catch(h){console.error("Error creating audio fingerprint:",h),o(h)}})]})})});var Fe=I().name!=="SamsungBrowser"?1:3,j=280,H=20;I().name!="Firefox"&&g("canvas",function(){return document.createElement("canvas").getContext("2d"),new Promise(function(n){var r=Array.from({length:Fe},function(){return function(){var o=document.createElement("canvas"),a=o.getContext("2d");if(!a)return new ImageData(1,1);o.width=j,o.height=H;var i=a.createLinearGradient(0,0,o.width,o.height);i.addColorStop(0,"red"),i.addColorStop(.16666666666666666,"orange"),i.addColorStop(.3333333333333333,"yellow"),i.addColorStop(.5,"green"),i.addColorStop(.6666666666666666,"blue"),i.addColorStop(.8333333333333334,"indigo"),i.addColorStop(1,"violet"),a.fillStyle=i,a.fillRect(0,0,o.width,o.height);var t="Random Text WMwmil10Oo";a.font="23.123px Arial",a.fillStyle="black",a.fillText(t,-5,15),a.fillStyle="rgba(0, 0, 255, 0.5)",a.fillText(t,-3.3,17.7),a.beginPath(),a.moveTo(0,0),a.lineTo(2*o.width/7,o.height),a.strokeStyle="white",a.lineWidth=2,a.stroke();var e=a.getImageData(0,0,o.width,o.height);return e}()});n({commonImageDataHash:W(Q(r,j,H).data.toString()).toString()})})});var N,Oe=["Arial","Arial Black","Arial Narrow","Arial Rounded MT","Arimo","Archivo","Barlow","Bebas Neue","Bitter","Bookman","Calibri","Cabin","Candara","Century","Century Gothic","Comic Sans MS","Constantia","Courier","Courier New","Crimson Text","DM Mono","DM Sans","DM Serif Display","DM Serif Text","Dosis","Droid Sans","Exo","Fira Code","Fira Sans","Franklin Gothic Medium","Garamond","Geneva","Georgia","Gill Sans","Helvetica","Impact","Inconsolata","Indie Flower","Inter","Josefin Sans","Karla","Lato","Lexend","Lucida Bright","Lucida Console","Lucida Sans Unicode","Manrope","Merriweather","Merriweather Sans","Montserrat","Myriad","Noto Sans","Nunito","Nunito Sans","Open Sans","Optima","Orbitron","Oswald","Pacifico","Palatino","Perpetua","PT Sans","PT Serif","Poppins","Prompt","Public Sans","Quicksand","Rajdhani","Recursive","Roboto","Roboto Condensed","Rockwell","Rubik","Segoe Print","Segoe Script","Segoe UI","Sora","Source Sans Pro","Space Mono","Tahoma","Taviraj","Times","Times New Roman","Titillium Web","Trebuchet MS","Ubuntu","Varela Round","Verdana","Work Sans"],Be=["monospace","sans-serif","serif"];function q(n,r){if(!n)throw new Error("Canvas context not supported");return n.font,n.font="72px ".concat(r),n.measureText("WwMmLli0Oo").width}function De(){var n,r,o,a,i=document.createElement("canvas"),t=(n=i.getContext("webgl"))!==null&&n!==void 0?n:i.getContext("experimental-webgl");if(t&&"getParameter"in t){try{(r=t.getExtension("WEBGL_debug_renderer_info"))&&(o=(t.getParameter(r.UNMASKED_VENDOR_WEBGL)||"").toString(),a=(t.getParameter(r.UNMASKED_RENDERER_WEBGL)||"").toString())}catch{}return{vendor:(t.getParameter(t.VENDOR)||"").toString(),vendorUnmasked:o,renderer:(t.getParameter(t.RENDERER)||"").toString(),rendererUnmasked:a,version:(t.getParameter(t.VERSION)||"").toString(),shadingLanguageVersion:(t.getParameter(t.SHADING_LANGUAGE_VERSION)||"").toString()}}return"undefined"}function Ne(){var n=new Float32Array(1),r=new Uint8Array(n.buffer);return n[0]=1/0,n[0]=n[0]-n[0],r[3]}function Ve(n,r){var o={};return r.forEach(function(a){var i=function(t){if(t.length===0)return null;var e={};t.forEach(function(l){var s=String(l);e[s]=(e[s]||0)+1});var c=t[0],h=1;return Object.keys(e).forEach(function(l){e[l]>h&&(c=l,h=e[l])}),c}(n.map(function(t){return a in t?t[a]:void 0}).filter(function(t){return t!==void 0}));i&&(o[a]=i)}),o}function We(){var n=[],r={"prefers-contrast":["high","more","low","less","forced","no-preference"],"any-hover":["hover","none"],"any-pointer":["none","coarse","fine"],pointer:["none","coarse","fine"],hover:["hover","none"],update:["fast","slow"],"inverted-colors":["inverted","none"],"prefers-reduced-motion":["reduce","no-preference"],"prefers-reduced-transparency":["reduce","no-preference"],scripting:["none","initial-only","enabled"],"forced-colors":["active","none"]};return Object.keys(r).forEach(function(o){r[o].forEach(function(a){matchMedia("(".concat(o,": ").concat(a,")")).matches&&n.push("".concat(o,": ").concat(a))})}),n}function $e(){if(window.location.protocol==="https:"&&typeof window.ApplePaySession=="function")try{for(var n=window.ApplePaySession.supportsVersion,r=15;r>0;r--)if(n(r))return r}catch{return 0}return 0}I().name!="Firefox"&&g("fonts",function(){var n=this;return new Promise(function(r,o){try{(function(a){var i;b(this,void 0,void 0,function(){var t,e,c;return y(this,function(h){switch(h.label){case 0:return document.body?[3,2]:[4,(l=50,new Promise(function(f){return setTimeout(f,l,s)}))];case 1:return h.sent(),[3,0];case 2:if((t=document.createElement("iframe")).setAttribute("frameBorder","0"),(e=t.style).setProperty("position","fixed"),e.setProperty("display","block","important"),e.setProperty("visibility","visible"),e.setProperty("border","0"),e.setProperty("opacity","0"),t.src="about:blank",document.body.appendChild(t),!(c=t.contentDocument||((i=t.contentWindow)===null||i===void 0?void 0:i.document)))throw new Error("Iframe document is not accessible");return a({iframe:c}),setTimeout(function(){document.body.removeChild(t)},0),[2]}var l,s})})})(function(a){var i=a.iframe;return b(n,void 0,void 0,function(){var t,e,c,h;return y(this,function(l){return t=i.createElement("canvas"),e=t.getContext("2d"),c=Be.map(function(s){return q(e,s)}),h={},Oe.forEach(function(s){var f=q(e,s);c.includes(f)||(h[s]=f)}),r(h),[2]})})})}catch{o({error:"unsupported"})}})}),g("hardware",function(){return new Promise(function(n,r){var o=navigator.deviceMemory!==void 0?navigator.deviceMemory:0,a=window.performance&&window.performance.memory?window.performance.memory:0;n({videocard:De(),architecture:Ne(),deviceMemory:o.toString()||"undefined",jsHeapSizeLimit:a.jsHeapSizeLimit||0})})}),g("locales",function(){return new Promise(function(n){n({languages:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone})})}),g("permissions",function(){return b(this,void 0,void 0,function(){var n;return y(this,function(r){return N=(_==null?void 0:_.permissions_to_check)||["accelerometer","accessibility","accessibility-events","ambient-light-sensor","background-fetch","background-sync","bluetooth","camera","clipboard-read","clipboard-write","device-info","display-capture","gyroscope","geolocation","local-fonts","magnetometer","microphone","midi","nfc","notifications","payment-handler","persistent-storage","push","speaker","storage-access","top-level-storage-access","window-management","query"],n=Array.from({length:(_==null?void 0:_.retries)||3},function(){return function(){return b(this,void 0,void 0,function(){var o,a,i,t,e;return y(this,function(c){switch(c.label){case 0:o={},a=0,i=N,c.label=1;case 1:if(!(a<i.length))return[3,6];t=i[a],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,navigator.permissions.query({name:t})];case 3:return e=c.sent(),o[t]=e.state.toString(),[3,5];case 4:return c.sent(),[3,5];case 5:return a++,[3,1];case 6:return[2,o]}})})}()}),[2,Promise.all(n).then(function(o){return Ve(o,N)})]})})}),g("plugins",function(){var n=[];if(navigator.plugins)for(var r=0;r<navigator.plugins.length;r++){var o=navigator.plugins[r];n.push([o.name,o.filename,o.description].join("|"))}return new Promise(function(a){a({plugins:n})})}),g("screen",function(){return new Promise(function(n){n({is_touchscreen:navigator.maxTouchPoints>0,maxTouchPoints:navigator.maxTouchPoints,colorDepth:screen.colorDepth,mediaMatches:We()})})}),g("system",function(){return new Promise(function(n){var r=I();n({platform:window.navigator.platform,cookieEnabled:window.navigator.cookieEnabled,productSub:navigator.productSub,product:navigator.product,useragent:navigator.userAgent,hardwareConcurrency:navigator.hardwareConcurrency,browser:{name:r.name,version:r.version},applePayVersion:$e()})})});var p,Ge=I().name!=="SamsungBrowser"?1:3,d=null;g("webgl",function(){return b(this,void 0,void 0,function(){var n;return y(this,function(r){typeof document<"u"&&((p=document.createElement("canvas")).width=200,p.height=100,d=p.getContext("webgl"));try{if(!d)throw new Error("WebGL not supported");return n=Array.from({length:Ge},function(){return function(){try{if(!d)throw new Error("WebGL not supported");var o=`
          attribute vec2 position;
          void main() {
              gl_Position = vec4(position, 0.0, 1.0);
          }
      `,a=`
          precision mediump float;
          void main() {
              gl_FragColor = vec4(0.812, 0.195, 0.553, 0.921); // Set line color
          }
      `,i=d.createShader(d.VERTEX_SHADER),t=d.createShader(d.FRAGMENT_SHADER);if(!i||!t)throw new Error("Failed to create shaders");if(d.shaderSource(i,o),d.shaderSource(t,a),d.compileShader(i),!d.getShaderParameter(i,d.COMPILE_STATUS))throw new Error("Vertex shader compilation failed: "+d.getShaderInfoLog(i));if(d.compileShader(t),!d.getShaderParameter(t,d.COMPILE_STATUS))throw new Error("Fragment shader compilation failed: "+d.getShaderInfoLog(t));var e=d.createProgram();if(!e)throw new Error("Failed to create shader program");if(d.attachShader(e,i),d.attachShader(e,t),d.linkProgram(e),!d.getProgramParameter(e,d.LINK_STATUS))throw new Error("Shader program linking failed: "+d.getProgramInfoLog(e));d.useProgram(e);for(var c=137,h=new Float32Array(4*c),l=2*Math.PI/c,s=0;s<c;s++){var f=s*l;h[4*s]=0,h[4*s+1]=0,h[4*s+2]=Math.cos(f)*(p.width/2),h[4*s+3]=Math.sin(f)*(p.height/2)}var D=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,D),d.bufferData(d.ARRAY_BUFFER,h,d.STATIC_DRAW);var P=d.getAttribLocation(e,"position");d.enableVertexAttribArray(P),d.vertexAttribPointer(P,2,d.FLOAT,!1,0,0),d.viewport(0,0,p.width,p.height),d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT),d.drawArrays(d.LINES,0,2*c);var k=new Uint8ClampedArray(p.width*p.height*4);return d.readPixels(0,0,p.width,p.height,d.RGBA,d.UNSIGNED_BYTE,k),new ImageData(k,p.width,p.height)}catch{return new ImageData(1,1)}finally{d&&(d.bindBuffer(d.ARRAY_BUFFER,null),d.useProgram(null),d.viewport(0,0,d.drawingBufferWidth,d.drawingBufferHeight),d.clearColor(0,0,0,0))}}()}),[2,{commonImageHash:W(Q(n,p.width,p.height).data.toString()).toString()}]}catch{return[2,{webgl:"unsupported"}]}return[2]})})});var M=function(n,r,o,a){for(var i=(o-r)/a,t=0,e=0;e<a;e++)t+=n(r+(e+.5)*i);return t*i};g("math",function(){return b(void 0,void 0,void 0,function(){return y(this,function(n){return[2,{acos:Math.acos(.5),asin:M(Math.asin,-1,1,97),atan:M(Math.atan,-1,1,97),cos:M(Math.cos,0,Math.PI,97),cosh:Math.cosh(9/7),e:Math.E,largeCos:Math.cos(1e20),largeSin:Math.sin(1e20),largeTan:Math.tan(1e20),log:Math.log(1e3),pi:Math.PI,sin:M(Math.sin,-Math.PI,Math.PI,97),sinh:M(Math.sinh,-9/7,7/9,97),sqrt:Math.sqrt(2),tan:M(Math.tan,0,2*Math.PI,97),tanh:M(Math.tanh,-9/7,7/9,97)}]})})});var L=(n=>(n.InvalidUrl="InvalidUrl",n.Unreachable="Unreachable",n))(L||{});class z{constructor(r){$(this,"url");this.url=r}async detect(r){const o=new FormData;return o.append("file",r.file),G().then(async a=>{const i=new Request(this.url+"/detect?__id__="+a,{method:"POST",body:o});return fetch(i).then(async t=>{if(!t.ok)throw new Error((await t.json()).message);return t.json()}).then(async t=>{if(t.sha256!==r.sha)throw new Error(`sha256 didn't match present file was ${t.sha256},  is , ${r.sha}`);if(!t.points)throw new Error("The request didn't return any point data.");return t.points[0]}).then(t=>t.map(e=>{const c=Array.from(oe(e.id,re.FACE_LANDMARKS_TESSELATION,1));return new ae(e.id,e.x,e.y,c)})).then(t=>new ie(t)).catch(t=>(console.error(t.message),null))})}async uploadAnnotations(r){const o=new Headers;return o.set("Content-Type","application/json"),o.set("Accept","application/json"),G().then(async a=>{const i=JSON.parse(r);i.__id__=a;const t=new Request(this.url+"/annotations",{method:"POST",headers:o,body:JSON.stringify(i)});return fetch(t)})}static async verifyUrl(r){if(r.endsWith("/")||(r=r+="/"),!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(r))return L.InvalidUrl;const a=new Request(r,{method:"POST"});return fetch(a).then(i=>null).catch(i=>(console.error("Network or other error:",i.message),L.Unreachable))}type(){return x.custom}}const je=u("p",null," The webservice address will be used to detect a face mesh on selected images. Therefore, the images must be transferred to the webservice for processing. The open format allows it to create individual webservices by everyone and can be easily swapped. ",-1),He={class:"alert alert-warning d-flex align-items-center",role:"alert"},qe={xmlns:"http://www.w3.org/2000/svg",class:"bi bi-exclamation-triangle-fill flex-shrink-0 me-2",viewBox:"0 0 16 16","aria-label":"Warning:",style:{width:"2vw"}},ze=u("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"},null,-1),Ye=[ze],Ke=u("div",null,"Be aware, that the webservice owner might store your images and annotations!",-1),Je=u("hr",null,null,-1),Ze=u("h6",null,"API",-1),Qe=u("p",null,[w(" The webservice API must provide the following addresses: "),u("br"),u("code",null,"/detect"),u("br"),w(" This call is used to detect a single face on a provided image file inside a POST request. "),u("br"),u("code",null,"/annotations"),u("br"),w(" This call is used to sync the annotations inside a POST request when the user triggers the download. ")],-1),Xe=u("hr",null,null,-1),et=u("h6",null,"URL",-1),tt=u("p",null," Insert the webservice URL in the text field below and submit with hitting the Save button. ",-1),nt=u("div",{id:"urlErrorText",class:"text-danger",hidden:""},null,-1),ot=u("label",{for:"modelurl",class:"form-label",hidden:""},null,-1),rt=u("input",{type:"url",class:"form-control",id:"modelurl",placeholder:"https://example.com/model/api",required:""},null,-1),at={class:"modal-footer"},it=T({__name:"WebserviceSelectModal",props:{modelValue:{type:Boolean}},emits:["input","changeModel"],setup(n,{emit:r}){const o=n,a=r,i=B(o.modelValue);return O(()=>o.modelValue,t=>{i.value=t}),O(i,t=>{a("input",t)}),(t,e)=>(E(),se(F(le),{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=c=>i.value=c),title:"Webservice","hide-footer":!0},{default:V(()=>[je,u("div",He,[(E(),A("svg",qe,Ye)),Ke]),Je,Ze,Qe,Xe,et,tt,nt,ot,rt,u("div",at,[u("button",{id:"btnCancelModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:e[0]||(e[0]=c=>a("changeModel",F(x).mediapipe))}," Cancel "),u("button",{id:"btnSaveCustomModel",type:"submit",class:"btn btn-primary",onClick:e[1]||(e[1]=c=>a("changeModel",F(x).custom))}," Save ")])]),_:1},8,["modelValue"]))}}),st=u("div",{class:"d-flex flex-column w-100 align-items-center"},[u("div",null,[u("b",null,[u("i",{class:"bi bi-cpu me-1"}),w(" Model ")])])],-1),lt={class:"btn-group",role:"group",style:{padding:"0.2vw",width:"100%"}},ct=u("label",{class:"btn btn-outline-secondary",for:"btnModelMediapipe"},[w("Mediapipe"),u("br"),u("small",null,"Offline")],-1),ut=u("label",{class:"btn btn-outline-secondary",for:"btnModelCustom"},[w("Webservice"),u("br"),u("small",null,"Online")],-1),dt=u("div",{class:"mb-2"},null,-1),ht=T({__name:"ModelSelector",setup(n){const r=ce(),o=B(!1);function a(){o.value=!0}function i(t){t===x.custom?C("#sendAnno").show(.1):C("#sendAnno").hide(.1);const e=document.getElementById("btnModelMediapipe"),c=document.getElementById("btnModelCustom");switch(t){case x.mediapipe:{e.checked=!0,r.model=new de,o.value=!1;break}case x.custom:{c.checked=!0;const h=C("#modelurl"),l=String(h.val()).trim();z.verifyUrl(l).then(s=>{const f=C("#urlErrorText");if(s===null){r.model=new z(l),o.value=!1,f.hide();const D=C("#saveNotification")[0],P=ue.getOrCreateInstance(D);P.show(),localStorage.setItem("apiUrl",l);const k=C("#saveNotificationText");k.text("Webservice url saved!"),setTimeout(()=>{P.hide(),k.text()},5e3)}else{switch(s){case L.InvalidUrl:{f.removeAttr("hidden"),f.text("Please enter a valid URL!");break}case L.Unreachable:{f.removeAttr("hidden"),f.text("The provided endpoint wasn't reachable!");break}}h.addClass("wrongInput"),setTimeout(function(){h.removeClass("wrongInput")},500)}});break}default:console.error('No model "'+t+'" found to change to!');break}return!1}return(t,e)=>(E(),A(R,null,[u("div",null,[st,u("fieldset",lt,[u("input",{type:"radio",class:"btn-check",name:"btnradio",id:"btnModelMediapipe",autocomplete:"off",onChange:e[0]||(e[0]=c=>i(F(x).mediapipe)),checked:""},null,32),ct,u("input",{type:"radio",class:"btn-check",name:"btnradio",id:"btnModelCustom",autocomplete:"off",onChange:a},null,32),ut]),dt]),S(it,{onChangeModel:e[1]||(e[1]=c=>i(c)),modelValue:o.value,"onUpdate:modelValue":e[2]||(e[2]=c=>o.value=c)},null,8,["modelValue"])],64))}}),ft=u("div",{class:"d-flex flex-column w-100 align-items-center"},[u("div",null,[u("b",null,[u("i",{class:"bi bi-gear me-1"}),w(" Features ")])])],-1),mt=T({__name:"FeatureSelector",setup(n){const r=he();function o(i){var e,c;const t=(e=r.selectedHistory)==null?void 0:e.get();if(t){switch(i){case"left_eye":t.deletePoints(ye);break;case"left_eyebrow":t.deletePoints(be);break;case"right_eye":t.deletePoints(we);break;case"right_eyebrow":t.deletePoints(ge);break;case"nose":t.deletePoints(ve);break;case"mouth":t.deletePoints(pe);break;default:console.error('No feature "'+i+'" found to delete!');break}(c=r.selectedHistory)==null||c.add(t)}}const a=["Left Eye","Left Eyebrow","Right Eye","Right Eyebrow","Nose","Mouth"];return(i,t)=>(E(),A(R,null,[ft,(E(),A(R,null,fe(a,e=>u("div",{key:e},[S(me,{text:e,icon:"bi-trash",shortcut:"",onClick:c=>o(e.toLowerCase().replace(/\s/g,"_"))},null,8,["text","onClick"])])),64))],64))}}),pt={class:"form",style:{"padding-top":"0.2vw","padding-bottom":"0.2vw"}},vt=u("div",{class:"d-flex flex-column w-100 align-items-center"},[u("label",{for:"feature_drag",class:"form-label","aria-keyshortcuts":"Shift+Wheel"},[u("b",null,[u("i",{class:"bi bi-bounding-box-circles pe-1"}),w(" Drag Depth ")])])],-1),gt={class:"d-flex align-items-center justify-content-around"},wt={class:"me-2"},bt=T({__name:"FeatureDragBar",setup(n){const r=Y(),o=B(0);function a(t){t.shiftKey&&i(t.deltaY/100)}K(()=>{window.addEventListener("wheel",a)}),_e(()=>{window.removeEventListener("wheel",a)});function i(t){o.value=Math.min(5,Math.max(0,o.value+t))}return O(o,t=>{r.dragDepth=t}),(t,e)=>(E(),A("div",pt,[vt,u("div",gt,[u("div",wt,Se(Math.round(o.value)),1),Ee(u("input",{type:"range",class:"form-range",min:"0",max:"5","onUpdate:modelValue":e[0]||(e[0]=c=>o.value=c),step:"1",id:"feature-drag"},null,512),[[Me,o.value]])])]))}}),Et=T({__name:"FaceMesh",setup(n){return(r,o)=>(E(),A(R,null,[S(bt),S(Ce),S(ht),S(mt)],64))}});export{Et as default};
