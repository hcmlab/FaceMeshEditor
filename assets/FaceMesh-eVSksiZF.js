var re=Object.defineProperty;var ae=(o,n,r)=>n in o?re(o,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[n]=r;var q=(o,n,r)=>ae(o,typeof n!="symbol"?n+"":n,r);import{d as T,u as Q,r as D,o as X,w as O,a as M,c as A,b as S,e as $,f as w,F as R,g as u,h as ie,B as se,i as le,P as ce,M as C,j as ue,k as B,W as de,l as he,m as ee,$ as P,T as fe,n as me,p as pe,_ as ve,q as ge,s as we,t as be,v as ye,x as _e,y as Se,z as Me,A as Ee,C as xe,D as Ce}from"./index-BQaihbEf.js";const Ae=u("div",{class:"d-flex flex-column w-100 align-items-center"},[u("div",null,[u("b",null,[u("i",{class:"bi bi-eye me-1"}),w(" View ")])])],-1),Pe=u("div",{class:"mb-2"},null,-1),Te=T({__name:"ViewOptions",setup(o){const n=Q(),r=D(n.showTesselation),a=()=>{n.showTesselation=r.value};return X(()=>{r.value=n.showTesselation,O(()=>n.showTesselation,i=>{r.value=i})}),(i,t)=>{const e=ie,c=se;return M(),A(R,null,[Ae,S(c,null,{default:$(()=>[S(e,{switch:"","view-tesselation":"",modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=h=>r.value=h),onChange:a,"aria-checked":"mixed"},{default:$(()=>[w(" Tesselation ")]),_:1},8,["modelValue"])]),_:1}),Pe],64)}}});function b(o,n,r,a){return new(r||(r=Promise))(function(i,t){function e(l){try{h(a.next(l))}catch(s){t(s)}}function c(l){try{h(a.throw(l))}catch(s){t(s)}}function h(l){var s;l.done?i(l.value):(s=l.value,s instanceof r?s:new r(function(p){p(s)})).then(e,c)}h((a=a.apply(o,[])).next())})}function y(o,n){var r,a,i,t,e={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return t={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(t[Symbol.iterator]=function(){return this}),t;function c(h){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;t&&(t=0,s[0]&&(e=0)),e;)try{if(r=1,a&&(i=2&s[0]?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return e.label++,{value:s[1],done:!1};case 5:e.label++,a=s[1],s=[0];continue;case 7:s=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!((i=i.length>0&&i[i.length-1])||s[0]!==6&&s[0]!==2)){e=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){e.label=s[1];break}if(s[0]===6&&e.label<i[1]){e.label=i[1],i=s;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(s);break}i[2]&&e.ops.pop(),e.trys.pop();continue}s=n.call(o,e)}catch(p){s=[6,p],a=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([h,l])}}}var _={exclude:[]},te={},ke={timeout:"true"},g=function(o,n){typeof window<"u"&&(te[o]=n)},Re=function(){return Object.fromEntries(Object.entries(te).filter(function(o){var n,r=o[0];return!(!((n=_==null?void 0:_.exclude)===null||n===void 0)&&n.includes(r))}).map(function(o){return[o[0],(0,o[1])()]}))};function L(o){return o^=o>>>16,o=Math.imul(o,2246822507),o^=o>>>13,o=Math.imul(o,3266489909),(o^=o>>>16)>>>0}var f=new Uint32Array([597399067,2869860233,951274213,2716044179]);function v(o,n){return o<<n|o>>>32-n}function G(o,n){var r;if(n===void 0&&(n=0),n=n?0|n:0,typeof o=="string"&&(r=o,o=new TextEncoder().encode(r).buffer),!(o instanceof ArrayBuffer))throw new TypeError("Expected key to be ArrayBuffer or string");var a=new Uint32Array([n,n,n,n]);(function(t,e){for(var c=t.byteLength/16|0,h=new Uint32Array(t,0,4*c),l=0;l<c;l++){var s=h.subarray(4*l,4*(l+1));s[0]=Math.imul(s[0],f[0]),s[0]=v(s[0],15),s[0]=Math.imul(s[0],f[1]),e[0]=e[0]^s[0],e[0]=v(e[0],19),e[0]=e[0]+e[1],e[0]=Math.imul(e[0],5)+1444728091,s[1]=Math.imul(s[1],f[1]),s[1]=v(s[1],16),s[1]=Math.imul(s[1],f[2]),e[1]=e[1]^s[1],e[1]=v(e[1],17),e[1]=e[1]+e[2],e[1]=Math.imul(e[1],5)+197830471,s[2]=Math.imul(s[2],f[2]),s[2]=v(s[2],17),s[2]=Math.imul(s[2],f[3]),e[2]=e[2]^s[2],e[2]=v(e[2],15),e[2]=e[2]+e[3],e[2]=Math.imul(e[2],5)+2530024501,s[3]=Math.imul(s[3],f[3]),s[3]=v(s[3],18),s[3]=Math.imul(s[3],f[0]),e[3]=e[3]^s[3],e[3]=v(e[3],13),e[3]=e[3]+e[0],e[3]=Math.imul(e[3],5)+850148119}})(o,a),function(t,e){var c=t.byteLength/16|0,h=t.byteLength%16,l=new Uint32Array(4),s=new Uint8Array(t,16*c,h);switch(h){case 15:l[3]=l[3]^s[14]<<16;case 14:l[3]=l[3]^s[13]<<8;case 13:l[3]=l[3]^s[12]<<0,l[3]=Math.imul(l[3],f[3]),l[3]=v(l[3],18),l[3]=Math.imul(l[3],f[0]),e[3]=e[3]^l[3];case 12:l[2]=l[2]^s[11]<<24;case 11:l[2]=l[2]^s[10]<<16;case 10:l[2]=l[2]^s[9]<<8;case 9:l[2]=l[2]^s[8]<<0,l[2]=Math.imul(l[2],f[2]),l[2]=v(l[2],17),l[2]=Math.imul(l[2],f[3]),e[2]=e[2]^l[2];case 8:l[1]=l[1]^s[7]<<24;case 7:l[1]=l[1]^s[6]<<16;case 6:l[1]=l[1]^s[5]<<8;case 5:l[1]=l[1]^s[4]<<0,l[1]=Math.imul(l[1],f[1]),l[1]=v(l[1],16),l[1]=Math.imul(l[1],f[2]),e[1]=e[1]^l[1];case 4:l[0]=l[0]^s[3]<<24;case 3:l[0]=l[0]^s[2]<<16;case 2:l[0]=l[0]^s[1]<<8;case 1:l[0]=l[0]^s[0]<<0,l[0]=Math.imul(l[0],f[0]),l[0]=v(l[0],15),l[0]=Math.imul(l[0],f[1]),e[0]=e[0]^l[0]}}(o,a),function(t,e){e[0]=e[0]^t.byteLength,e[1]=e[1]^t.byteLength,e[2]=e[2]^t.byteLength,e[3]=e[3]^t.byteLength,e[0]=e[0]+e[1]|0,e[0]=e[0]+e[2]|0,e[0]=e[0]+e[3]|0,e[1]=e[1]+e[0]|0,e[2]=e[2]+e[0]|0,e[3]=e[3]+e[0]|0,e[0]=L(e[0]),e[1]=L(e[1]),e[2]=L(e[2]),e[3]=L(e[3]),e[0]=e[0]+e[1]|0,e[0]=e[0]+e[2]|0,e[0]=e[0]+e[3]|0,e[1]=e[1]+e[0]|0,e[2]=e[2]+e[0]|0,e[3]=e[3]+e[0]|0}(o,a);var i=new Uint8Array(a.buffer);return Array.from(i).map(function(t){return t.toString(16).padStart(2,"0")}).join("")}function Ie(o,n){return new Promise(function(r){setTimeout(function(){return r(n)},o)})}function Ue(o,n,r){return Promise.all(o.map(function(a){return Promise.race([a,Ie(n,r)])}))}function Fe(){return b(this,void 0,void 0,function(){var o,n,r,a,i;return y(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),o=Re(),n=Object.keys(o),[4,Ue(Object.values(o),(_==null?void 0:_.timeout)||1e3,ke)];case 1:return r=t.sent(),a=r.filter(function(e){return e!==void 0}),i={},a.forEach(function(e,c){i[n[c]]=e}),[2,ne(i,_.exclude||[])];case 2:throw t.sent();case 3:return[2]}})})}function ne(o,n){var r={},a=function(t){if(o.hasOwnProperty(t)){var e=o[t];if(typeof e!="object"||Array.isArray(e))n.includes(t)||(r[t]=e);else{var c=ne(e,n.map(function(h){return h.startsWith(t+".")?h.slice(t.length+1):h}));Object.keys(c).length>0&&(r[t]=c)}}};for(var i in o)a(i);return r}function z(o){return b(this,void 0,void 0,function(){var n,r;return y(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Fe()];case 1:return n=a.sent(),r=G(JSON.stringify(n)),[2,r.toString()];case 2:throw a.sent();case 3:return[2]}})})}function Le(o){for(var n=0,r=0;r<o.length;++r)n+=Math.abs(o[r]);return n}function oe(o,n,r){for(var a=[],i=0;i<o[0].data.length;i++){for(var t=[],e=0;e<o.length;e++)t.push(o[e].data[i]);a.push(Be(t))}var c=new Uint8ClampedArray(a);return new ImageData(c,n,r)}function Be(o){if(o.length===0)return 0;for(var n={},r=0,a=o;r<a.length;r++)n[t=a[r]]=(n[t]||0)+1;var i=o[0];for(var t in n)n[t]>n[i]&&(i=parseInt(t,10));return i}function I(){if(typeof navigator>"u")return{name:"unknown",version:"unknown"};for(var o=navigator.userAgent,n={Edg:"Edge",OPR:"Opera"},r=0,a=[/(?<name>Edge|Edg)\/(?<version>\d+(?:\.\d+)?)/,/(?<name>(?:Chrome|Chromium|OPR|Opera|Vivaldi|Brave))\/(?<version>\d+(?:\.\d+)?)/,/(?<name>(?:Firefox|Waterfox|Iceweasel|IceCat))\/(?<version>\d+(?:\.\d+)?)/,/(?<name>Safari)\/(?<version>\d+(?:\.\d+)?)/,/(?<name>MSIE|Trident|IEMobile).+?(?<version>\d+(?:\.\d+)?)/,/(?<name>[A-Za-z]+)\/(?<version>\d+(?:\.\d+)?)/,/(?<name>SamsungBrowser)\/(?<version>\d+(?:\.\d+)?)/];r<a.length;r++){var i=a[r],t=o.match(i);if(t&&t.groups)return{name:n[t.groups.name]||t.groups.name,version:t.groups.version}}return{name:"unknown",version:"unknown"}}g("audio",function(){return b(this,void 0,void 0,function(){return y(this,function(o){return[2,new Promise(function(n,r){try{var a=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,5e3,44100),i=a.createBufferSource(),t=a.createOscillator();t.frequency.value=1e3;var e,c=a.createDynamicsCompressor();c.threshold.value=-50,c.knee.value=40,c.ratio.value=12,c.attack.value=0,c.release.value=.2,t.connect(c),c.connect(a.destination),t.start(),a.oncomplete=function(h){e=h.renderedBuffer.getChannelData(0),n({sampleHash:Le(e),oscillator:t.type,maxChannels:a.destination.maxChannelCount,channelCountMode:i.channelCountMode})},a.startRendering()}catch(h){console.error("Error creating audio fingerprint:",h),r(h)}})]})})});var Oe=I().name!=="SamsungBrowser"?1:3,Y=280,K=20;I().name!="Firefox"&&g("canvas",function(){return document.createElement("canvas").getContext("2d"),new Promise(function(o){var n=Array.from({length:Oe},function(){return function(){var r=document.createElement("canvas"),a=r.getContext("2d");if(!a)return new ImageData(1,1);r.width=Y,r.height=K;var i=a.createLinearGradient(0,0,r.width,r.height);i.addColorStop(0,"red"),i.addColorStop(.16666666666666666,"orange"),i.addColorStop(.3333333333333333,"yellow"),i.addColorStop(.5,"green"),i.addColorStop(.6666666666666666,"blue"),i.addColorStop(.8333333333333334,"indigo"),i.addColorStop(1,"violet"),a.fillStyle=i,a.fillRect(0,0,r.width,r.height);var t="Random Text WMwmil10Oo";a.font="23.123px Arial",a.fillStyle="black",a.fillText(t,-5,15),a.fillStyle="rgba(0, 0, 255, 0.5)",a.fillText(t,-3.3,17.7),a.beginPath(),a.moveTo(0,0),a.lineTo(2*r.width/7,r.height),a.strokeStyle="white",a.lineWidth=2,a.stroke();var e=a.getImageData(0,0,r.width,r.height);return e}()});o({commonImageDataHash:G(oe(n,Y,K).data.toString()).toString()})})});var W,De=["Arial","Arial Black","Arial Narrow","Arial Rounded MT","Arimo","Archivo","Barlow","Bebas Neue","Bitter","Bookman","Calibri","Cabin","Candara","Century","Century Gothic","Comic Sans MS","Constantia","Courier","Courier New","Crimson Text","DM Mono","DM Sans","DM Serif Display","DM Serif Text","Dosis","Droid Sans","Exo","Fira Code","Fira Sans","Franklin Gothic Medium","Garamond","Geneva","Georgia","Gill Sans","Helvetica","Impact","Inconsolata","Indie Flower","Inter","Josefin Sans","Karla","Lato","Lexend","Lucida Bright","Lucida Console","Lucida Sans Unicode","Manrope","Merriweather","Merriweather Sans","Montserrat","Myriad","Noto Sans","Nunito","Nunito Sans","Open Sans","Optima","Orbitron","Oswald","Pacifico","Palatino","Perpetua","PT Sans","PT Serif","Poppins","Prompt","Public Sans","Quicksand","Rajdhani","Recursive","Roboto","Roboto Condensed","Rockwell","Rubik","Segoe Print","Segoe Script","Segoe UI","Sora","Source Sans Pro","Space Mono","Tahoma","Taviraj","Times","Times New Roman","Titillium Web","Trebuchet MS","Ubuntu","Varela Round","Verdana","Work Sans"],Ne=["monospace","sans-serif","serif"];function J(o,n){if(!o)throw new Error("Canvas context not supported");return o.font,o.font="72px ".concat(n),o.measureText("WwMmLli0Oo").width}function Ve(){var o,n,r,a,i=document.createElement("canvas"),t=(o=i.getContext("webgl"))!==null&&o!==void 0?o:i.getContext("experimental-webgl");if(t&&"getParameter"in t){try{(n=t.getExtension("WEBGL_debug_renderer_info"))&&(r=(t.getParameter(n.UNMASKED_VENDOR_WEBGL)||"").toString(),a=(t.getParameter(n.UNMASKED_RENDERER_WEBGL)||"").toString())}catch{}return{vendor:(t.getParameter(t.VENDOR)||"").toString(),vendorUnmasked:r,renderer:(t.getParameter(t.RENDERER)||"").toString(),rendererUnmasked:a,version:(t.getParameter(t.VERSION)||"").toString(),shadingLanguageVersion:(t.getParameter(t.SHADING_LANGUAGE_VERSION)||"").toString()}}return"undefined"}function We(){var o=new Float32Array(1),n=new Uint8Array(o.buffer);return o[0]=1/0,o[0]=o[0]-o[0],n[3]}function $e(o,n){var r={};return n.forEach(function(a){var i=function(t){if(t.length===0)return null;var e={};t.forEach(function(l){var s=String(l);e[s]=(e[s]||0)+1});var c=t[0],h=1;return Object.keys(e).forEach(function(l){e[l]>h&&(c=l,h=e[l])}),c}(o.map(function(t){return a in t?t[a]:void 0}).filter(function(t){return t!==void 0}));i&&(r[a]=i)}),r}function Ge(){var o=[],n={"prefers-contrast":["high","more","low","less","forced","no-preference"],"any-hover":["hover","none"],"any-pointer":["none","coarse","fine"],pointer:["none","coarse","fine"],hover:["hover","none"],update:["fast","slow"],"inverted-colors":["inverted","none"],"prefers-reduced-motion":["reduce","no-preference"],"prefers-reduced-transparency":["reduce","no-preference"],scripting:["none","initial-only","enabled"],"forced-colors":["active","none"]};return Object.keys(n).forEach(function(r){n[r].forEach(function(a){matchMedia("(".concat(r,": ").concat(a,")")).matches&&o.push("".concat(r,": ").concat(a))})}),o}function je(){if(window.location.protocol==="https:"&&typeof window.ApplePaySession=="function")try{for(var o=window.ApplePaySession.supportsVersion,n=15;n>0;n--)if(o(n))return n}catch{return 0}return 0}I().name!="Firefox"&&g("fonts",function(){var o=this;return new Promise(function(n,r){try{(function(a){var i;b(this,void 0,void 0,function(){var t,e,c;return y(this,function(h){switch(h.label){case 0:return document.body?[3,2]:[4,(l=50,new Promise(function(p){return setTimeout(p,l,s)}))];case 1:return h.sent(),[3,0];case 2:if((t=document.createElement("iframe")).setAttribute("frameBorder","0"),(e=t.style).setProperty("position","fixed"),e.setProperty("display","block","important"),e.setProperty("visibility","visible"),e.setProperty("border","0"),e.setProperty("opacity","0"),t.src="about:blank",document.body.appendChild(t),!(c=t.contentDocument||((i=t.contentWindow)===null||i===void 0?void 0:i.document)))throw new Error("Iframe document is not accessible");return a({iframe:c}),setTimeout(function(){document.body.removeChild(t)},0),[2]}var l,s})})})(function(a){var i=a.iframe;return b(o,void 0,void 0,function(){var t,e,c,h;return y(this,function(l){return t=i.createElement("canvas"),e=t.getContext("2d"),c=Ne.map(function(s){return J(e,s)}),h={},De.forEach(function(s){var p=J(e,s);c.includes(p)||(h[s]=p)}),n(h),[2]})})})}catch{r({error:"unsupported"})}})}),g("hardware",function(){return new Promise(function(o,n){var r=navigator.deviceMemory!==void 0?navigator.deviceMemory:0,a=window.performance&&window.performance.memory?window.performance.memory:0;o({videocard:Ve(),architecture:We(),deviceMemory:r.toString()||"undefined",jsHeapSizeLimit:a.jsHeapSizeLimit||0})})}),g("locales",function(){return new Promise(function(o){o({languages:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone})})}),g("permissions",function(){return b(this,void 0,void 0,function(){var o;return y(this,function(n){return W=(_==null?void 0:_.permissions_to_check)||["accelerometer","accessibility","accessibility-events","ambient-light-sensor","background-fetch","background-sync","bluetooth","camera","clipboard-read","clipboard-write","device-info","display-capture","gyroscope","geolocation","local-fonts","magnetometer","microphone","midi","nfc","notifications","payment-handler","persistent-storage","push","speaker","storage-access","top-level-storage-access","window-management","query"],o=Array.from({length:(_==null?void 0:_.retries)||3},function(){return function(){return b(this,void 0,void 0,function(){var r,a,i,t,e;return y(this,function(c){switch(c.label){case 0:r={},a=0,i=W,c.label=1;case 1:if(!(a<i.length))return[3,6];t=i[a],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,navigator.permissions.query({name:t})];case 3:return e=c.sent(),r[t]=e.state.toString(),[3,5];case 4:return c.sent(),[3,5];case 5:return a++,[3,1];case 6:return[2,r]}})})}()}),[2,Promise.all(o).then(function(r){return $e(r,W)})]})})}),g("plugins",function(){var o=[];if(navigator.plugins)for(var n=0;n<navigator.plugins.length;n++){var r=navigator.plugins[n];o.push([r.name,r.filename,r.description].join("|"))}return new Promise(function(a){a({plugins:o})})}),g("screen",function(){return new Promise(function(o){o({is_touchscreen:navigator.maxTouchPoints>0,maxTouchPoints:navigator.maxTouchPoints,colorDepth:screen.colorDepth,mediaMatches:Ge()})})}),g("system",function(){return new Promise(function(o){var n=I();o({platform:window.navigator.platform,cookieEnabled:window.navigator.cookieEnabled,productSub:navigator.productSub,product:navigator.product,useragent:navigator.userAgent,hardwareConcurrency:navigator.hardwareConcurrency,browser:{name:n.name,version:n.version},applePayVersion:je()})})});var m,He=I().name!=="SamsungBrowser"?1:3,d=null;g("webgl",function(){return b(this,void 0,void 0,function(){var o;return y(this,function(n){typeof document<"u"&&((m=document.createElement("canvas")).width=200,m.height=100,d=m.getContext("webgl"));try{if(!d)throw new Error("WebGL not supported");return o=Array.from({length:He},function(){return function(){try{if(!d)throw new Error("WebGL not supported");var r=`
          attribute vec2 position;
          void main() {
              gl_Position = vec4(position, 0.0, 1.0);
          }
      `,a=`
          precision mediump float;
          void main() {
              gl_FragColor = vec4(0.812, 0.195, 0.553, 0.921); // Set line color
          }
      `,i=d.createShader(d.VERTEX_SHADER),t=d.createShader(d.FRAGMENT_SHADER);if(!i||!t)throw new Error("Failed to create shaders");if(d.shaderSource(i,r),d.shaderSource(t,a),d.compileShader(i),!d.getShaderParameter(i,d.COMPILE_STATUS))throw new Error("Vertex shader compilation failed: "+d.getShaderInfoLog(i));if(d.compileShader(t),!d.getShaderParameter(t,d.COMPILE_STATUS))throw new Error("Fragment shader compilation failed: "+d.getShaderInfoLog(t));var e=d.createProgram();if(!e)throw new Error("Failed to create shader program");if(d.attachShader(e,i),d.attachShader(e,t),d.linkProgram(e),!d.getProgramParameter(e,d.LINK_STATUS))throw new Error("Shader program linking failed: "+d.getProgramInfoLog(e));d.useProgram(e);for(var c=137,h=new Float32Array(4*c),l=2*Math.PI/c,s=0;s<c;s++){var p=s*l;h[4*s]=0,h[4*s+1]=0,h[4*s+2]=Math.cos(p)*(m.width/2),h[4*s+3]=Math.sin(p)*(m.height/2)}var E=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,E),d.bufferData(d.ARRAY_BUFFER,h,d.STATIC_DRAW);var F=d.getAttribLocation(e,"position");d.enableVertexAttribArray(F),d.vertexAttribPointer(F,2,d.FLOAT,!1,0,0),d.viewport(0,0,m.width,m.height),d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT),d.drawArrays(d.LINES,0,2*c);var k=new Uint8ClampedArray(m.width*m.height*4);return d.readPixels(0,0,m.width,m.height,d.RGBA,d.UNSIGNED_BYTE,k),new ImageData(k,m.width,m.height)}catch{return new ImageData(1,1)}finally{d&&(d.bindBuffer(d.ARRAY_BUFFER,null),d.useProgram(null),d.viewport(0,0,d.drawingBufferWidth,d.drawingBufferHeight),d.clearColor(0,0,0,0))}}()}),[2,{commonImageHash:G(oe(o,m.width,m.height).data.toString()).toString()}]}catch{return[2,{webgl:"unsupported"}]}return[2]})})});var x=function(o,n,r,a){for(var i=(r-n)/a,t=0,e=0;e<a;e++)t+=o(n+(e+.5)*i);return t*i};g("math",function(){return b(void 0,void 0,void 0,function(){return y(this,function(o){return[2,{acos:Math.acos(.5),asin:x(Math.asin,-1,1,97),atan:x(Math.atan,-1,1,97),cos:x(Math.cos,0,Math.PI,97),cosh:Math.cosh(9/7),e:Math.E,largeCos:Math.cos(1e20),largeSin:Math.sin(1e20),largeTan:Math.tan(1e20),log:Math.log(1e3),pi:Math.PI,sin:x(Math.sin,-Math.PI,Math.PI,97),sinh:x(Math.sinh,-9/7,7/9,97),sqrt:Math.sqrt(2),tan:x(Math.tan,0,2*Math.PI,97),tanh:x(Math.tanh,-9/7,7/9,97)}]})})});var U=(o=>(o.InvalidUrl="InvalidUrl",o.Unreachable="Unreachable",o))(U||{});class Z{constructor(n){q(this,"url");this.url=n}async detect(n){const r=new FormData;return r.append("file",n.filePointer),z().then(async a=>{const i=new Request(this.url+"/detect?__id__="+a,{method:"POST",body:r});return fetch(i).then(async t=>{if(!t.ok)throw new Error((await t.json()).message);return t.json()}).then(t=>le.fromJson(t,n,(e,c)=>new ce(e,0,0,0,c))).catch(t=>(console.error(t.message),null))})}async uploadAnnotations(n){const r=new Headers;return r.set("Content-Type","application/json"),r.set("Accept","application/json"),z().then(async a=>{n={__id__:a,...n};const i=new Request(this.url+"/annotations",{method:"POST",headers:r,body:JSON.stringify(n)});return fetch(i)})}static async verifyUrl(n){if(n.endsWith("/")||(n=n+="/"),!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(n))return U.InvalidUrl;const a=new Request(n,{method:"POST"});return fetch(a).then(i=>null).catch(i=>(console.error("Network or other error:",i.message),U.Unreachable))}type(){return C.custom}}const qe=u("p",null," The webservice address will be used to detect a face mesh on selected images. Therefore, the images must be transferred to the webservice for processing. The open format allows it to create individual webservices by everyone and can be easily swapped. ",-1),ze={class:"alert alert-warning d-flex align-items-center",role:"alert"},Ye={xmlns:"http://www.w3.org/2000/svg",class:"bi bi-exclamation-triangle-fill flex-shrink-0 me-2",viewBox:"0 0 16 16","aria-label":"Warning:",style:{width:"2vw"}},Ke=u("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"},null,-1),Je=[Ke],Ze=u("div",null,"Be aware, that the webservice owner might store your images and annotations!",-1),Qe=u("hr",null,null,-1),Xe=u("h6",null,"API",-1),et=u("p",null,[w(" The webservice API must provide the following addresses: "),u("br"),u("code",null,"/detect"),u("br"),w(" This call is used to detect a single face on a provided image file inside a POST request. "),u("br"),u("code",null,"/annotations"),u("br"),w(" This call is used to sync the annotations inside a POST request when the user triggers the download. ")],-1),tt=u("hr",null,null,-1),nt=u("h6",null,"URL",-1),ot=u("p",null," Insert the webservice URL in the text field below and submit with hitting the Save button. ",-1),rt=u("div",{id:"urlErrorText",class:"text-danger",hidden:""},null,-1),at=u("label",{for:"modelurl",class:"form-label",hidden:""},null,-1),it=u("input",{type:"url",class:"form-control",id:"modelurl",placeholder:"https://example.com/model/api",required:""},null,-1),st={class:"modal-footer"},lt=T({__name:"WebserviceSelectModal",props:{modelValue:{type:Boolean}},emits:["input","changeModel"],setup(o,{emit:n}){const r=o,a=n,i=D(r.modelValue);return O(()=>r.modelValue,t=>{i.value=t}),O(i,t=>{a("input",t)}),(t,e)=>(M(),ue(B(de),{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=c=>i.value=c),title:"Webservice","hide-footer":!0},{default:$(()=>[qe,u("div",ze,[(M(),A("svg",Ye,Je)),Ze]),Qe,Xe,et,tt,nt,ot,rt,at,it,u("div",st,[u("button",{id:"btnCancelModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:e[0]||(e[0]=c=>a("changeModel",B(C).mediapipe))}," Cancel "),u("button",{id:"btnSaveCustomModel",type:"submit",class:"btn btn-primary",onClick:e[1]||(e[1]=c=>a("changeModel",B(C).custom))}," Save ")])]),_:1},8,["modelValue"]))}}),ct=u("div",{class:"d-flex flex-column w-100 align-items-center"},[u("div",null,[u("b",null,[u("i",{class:"bi bi-cpu me-1"}),w(" Model ")])])],-1),ut={class:"btn-group",role:"group",style:{padding:"0.2vw",width:"100%"}},dt=u("label",{class:"btn btn-outline-secondary",for:"btnModelMediapipe"},[w("Mediapipe"),u("br"),u("small",null,"Offline")],-1),ht=u("label",{class:"btn btn-outline-secondary",for:"btnModelCustom"},[w("Webservice"),u("br"),u("small",null,"Online")],-1),ft=u("div",{class:"mb-2"},null,-1),mt=T({__name:"ModelSelector",setup(o){const n=he(),r=ee(),a=D(!1);function i(){a.value=!0}function t(e){e===C.custom?P("#sendAnno").show(.1):P("#sendAnno").hide(.1);const c=document.getElementById("btnModelMediapipe"),h=document.getElementById("btnModelCustom");switch(e){case C.mediapipe:{c.checked=!0,n.model=new me,a.value=!1;break}case C.custom:{h.checked=!0;const l=P("#modelurl"),s=String(l.val()).trim();Z.verifyUrl(s).then(p=>{const E=P("#urlErrorText");if(p===null){n.model=new Z(s),a.value=!1,E.hide();const F=P("#saveNotification")[0],k=fe.getOrCreateInstance(F);k.show(),localStorage.setItem("apiUrl",s);const N=P("#saveNotificationText");N.text("Webservice url saved!"),r.histories.forEach(V=>{var j;(j=n.model)==null||j.detect(V.file).then(H=>{H!==null&&(V.clear(),V.append(H))})}),setTimeout(()=>{k.hide(),N.text()},5e3)}else{switch(p){case U.InvalidUrl:{E.removeAttr("hidden"),E.text("Please enter a valid URL!");break}case U.Unreachable:{E.removeAttr("hidden"),E.text("The provided endpoint wasn't reachable!");break}}l.addClass("wrongInput"),setTimeout(function(){l.removeClass("wrongInput")},500)}});break}default:console.error('No model "'+e+'" found to change to!');break}return!1}return(e,c)=>(M(),A(R,null,[u("div",null,[ct,u("fieldset",ut,[u("input",{type:"radio",class:"btn-check",name:"btnradio",id:"btnModelMediapipe",autocomplete:"off",onChange:c[0]||(c[0]=h=>t(B(C).mediapipe)),checked:""},null,32),dt,u("input",{type:"radio",class:"btn-check",name:"btnradio",id:"btnModelCustom",autocomplete:"off",onChange:i},null,32),ht]),ft]),S(lt,{onChangeModel:c[1]||(c[1]=h=>t(h)),modelValue:a.value,"onUpdate:modelValue":c[2]||(c[2]=h=>a.value=h)},null,8,["modelValue"])],64))}}),pt=u("div",{class:"d-flex flex-column w-100 align-items-center"},[u("div",null,[u("b",null,[u("i",{class:"bi bi-gear me-1"}),w(" Features ")])])],-1),vt=T({__name:"FeatureSelector",setup(o){const n=ee();function r(i){var e,c;const t=(e=n.selectedHistory)==null?void 0:e.get();if(t){switch(i){case"left_eye":t.deletePoints(Se);break;case"left_eyebrow":t.deletePoints(_e);break;case"right_eye":t.deletePoints(ye);break;case"right_eyebrow":t.deletePoints(be);break;case"nose":t.deletePoints(we);break;case"mouth":t.deletePoints(ge);break;default:console.error('No feature "'+i+'" found to delete!');break}(c=n.selectedHistory)==null||c.add(t)}}const a=["Left Eye","Left Eyebrow","Right Eye","Right Eyebrow","Nose","Mouth"];return(i,t)=>(M(),A(R,null,[pt,(M(),A(R,null,pe(a,e=>u("div",{key:e},[S(ve,{text:e,icon:"bi-trash",shortcut:"",onClick:c=>r(e.toLowerCase().replace(/\s/g,"_"))},null,8,["text","onClick"])])),64))],64))}}),gt={class:"form",style:{"padding-top":"0.2vw","padding-bottom":"0.2vw"}},wt=u("div",{class:"d-flex flex-column w-100 align-items-center"},[u("label",{for:"feature_drag",class:"form-label","aria-keyshortcuts":"Shift+Wheel"},[u("b",null,[u("i",{class:"bi bi-bounding-box-circles pe-1"}),w(" Drag Depth ")])])],-1),bt={class:"d-flex align-items-center justify-content-around"},yt={class:"me-2"},_t=T({__name:"FeatureDragBar",setup(o){const n=Q(),r=D(0);function a(t){t.shiftKey&&i(t.deltaY/100)}X(()=>{window.addEventListener("wheel",a,{passive:!0})}),Me(()=>{window.removeEventListener("wheel",a)});function i(t){r.value=Math.min(5,Math.max(0,r.value+t))}return O(r,t=>{n.dragDepth=t}),(t,e)=>(M(),A("div",gt,[wt,u("div",bt,[u("div",yt,Ee(Math.round(r.value)),1),xe(u("input",{type:"range",class:"form-range",min:"0",max:"5","onUpdate:modelValue":e[0]||(e[0]=c=>r.value=c),step:"1",id:"feature-drag"},null,512),[[Ce,r.value]])])]))}}),Et=T({__name:"FaceMesh",setup(o){return(n,r)=>(M(),A(R,null,[S(_t),S(Te),S(mt),S(vt)],64))}});export{Et as default};
