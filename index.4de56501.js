let t,e,i,n,r,s,o,a,l,h,c,u,d,f,p,m,g;function _(t,e){return Object.keys(e).forEach(function(i){"default"===i||"__esModule"===i||Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[i]}})}),t}function v(t,e,i,n){Object.defineProperty(t,e,{get:i,set:n,enumerable:!0,configurable:!0})}/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var y,w,b={};v(b,"popperGenerator",()=>tX),v(b,"detectOverflow",()=>tU),v(b,"createPopperBase",()=>tY),v(b,"createPopper",()=>tq),v(b,"createPopperLite",()=>tJ);var A={};v(A,"top",()=>E),v(A,"bottom",()=>T),v(A,"right",()=>S),v(A,"left",()=>k),v(A,"auto",()=>x),v(A,"basePlacements",()=>C),v(A,"start",()=>L),v(A,"end",()=>I),v(A,"clippingParents",()=>M),v(A,"viewport",()=>O),v(A,"popper",()=>N),v(A,"reference",()=>P),v(A,"variationPlacements",()=>F),v(A,"placements",()=>R),v(A,"beforeRead",()=>D),v(A,"read",()=>U),v(A,"afterRead",()=>B),v(A,"beforeMain",()=>j),v(A,"main",()=>H),v(A,"afterMain",()=>G),v(A,"beforeWrite",()=>z),v(A,"write",()=>V),v(A,"afterWrite",()=>K),v(A,"modifierPhases",()=>W);var E="top",T="bottom",S="right",k="left",x="auto",C=[E,T,S,k],L="start",I="end",M="clippingParents",O="viewport",N="popper",P="reference",F=C.reduce(function(t,e){return t.concat([e+"-"+L,e+"-"+I])},[]),R=[].concat(C,[x]).reduce(function(t,e){return t.concat([e,e+"-"+L,e+"-"+I])},[]),D="beforeRead",U="read",B="afterRead",j="beforeMain",H="main",G="afterMain",z="beforeWrite",V="write",K="afterWrite",W=[D,U,B,j,H,G,z,V,K],X={};function Y(t){return t?(t.nodeName||"").toLowerCase():null}function q(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function J(t){var e=q(t).Element;return t instanceof e||t instanceof Element}function Q(t){var e=q(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Z(t){if("undefined"==typeof ShadowRoot)return!1;var e=q(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}v(X,"applyStyles",()=>tt),v(X,"arrow",()=>tw),v(X,"computeStyles",()=>tT),v(X,"eventListeners",()=>tk),v(X,"flip",()=>tB),v(X,"hide",()=>t$),v(X,"offset",()=>tG),v(X,"popperOffsets",()=>tz),v(X,"preventOverflow",()=>tV);var tt={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},r=e.elements[t];Q(r)&&Y(r)&&(Object.assign(r.style,i),Object.keys(n).forEach(function(t){var e=n[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(t){var n=e.elements[t],r=e.attributes[t]||{},s=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce(function(t,e){return t[e]="",t},{});Q(n)&&Y(n)&&(Object.assign(n.style,s),Object.keys(r).forEach(function(t){n.removeAttribute(t)}))})}},requires:["computeStyles"]};function te(t){return t.split("-")[0]}var ti=Math.max,tn=Math.min,tr=Math.round;function ts(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function to(){return!/^((?!chrome|android).)*safari/i.test(ts())}function ta(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),r=1,s=1;e&&Q(t)&&(r=t.offsetWidth>0&&tr(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&tr(n.height)/t.offsetHeight||1);var o=(J(t)?q(t):window).visualViewport,a=!to()&&i,l=(n.left+(a&&o?o.offsetLeft:0))/r,h=(n.top+(a&&o?o.offsetTop:0))/s,c=n.width/r,u=n.height/s;return{width:c,height:u,top:h,right:l+c,bottom:h+u,left:l,x:l,y:h}}function tl(t){var e=ta(t),i=t.offsetWidth,n=t.offsetHeight;return 1>=Math.abs(e.width-i)&&(i=e.width),1>=Math.abs(e.height-n)&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function th(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&Z(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function tc(t){return q(t).getComputedStyle(t)}function tu(t){return((J(t)?t.ownerDocument:t.document)||window.document).documentElement}function td(t){return"html"===Y(t)?t:t.assignedSlot||t.parentNode||(Z(t)?t.host:null)||tu(t)}function tf(t){return Q(t)&&"fixed"!==tc(t).position?t.offsetParent:null}function tp(t){for(var e=q(t),i=tf(t);i&&["table","td","th"].indexOf(Y(i))>=0&&"static"===tc(i).position;)i=tf(i);return i&&("html"===Y(i)||"body"===Y(i)&&"static"===tc(i).position)?e:i||function(t){var e=/firefox/i.test(ts());if(/Trident/i.test(ts())&&Q(t)&&"fixed"===tc(t).position)return null;var i=td(t);for(Z(i)&&(i=i.host);Q(i)&&0>["html","body"].indexOf(Y(i));){var n=tc(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(t)||e}function tm(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function tg(t,e,i){return ti(t,tn(e,i))}function t_(){return{top:0,right:0,bottom:0,left:0}}function tv(t){return Object.assign({},t_(),t)}function ty(t,e){return e.reduce(function(e,i){return e[i]=t,e},{})}var tw={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i=t.state,n=t.name,r=t.options,s=i.elements.arrow,o=i.modifiersData.popperOffsets,a=te(i.placement),l=tm(a),h=[k,S].indexOf(a)>=0?"height":"width";if(s&&o){var c,u=tv("number"!=typeof(c="function"==typeof(c=r.padding)?c(Object.assign({},i.rects,{placement:i.placement})):c)?c:ty(c,C)),d=tl(s),f="y"===l?E:k,p="y"===l?T:S,m=i.rects.reference[h]+i.rects.reference[l]-o[l]-i.rects.popper[h],g=o[l]-i.rects.reference[l],_=tp(s),v=_?"y"===l?_.clientHeight||0:_.clientWidth||0:0,y=u[f],w=v-d[h]-u[p],b=v/2-d[h]/2+(m/2-g/2),A=tg(y,b,w);i.modifiersData[n]=((e={})[l]=A,e.centerOffset=A-b,e)}},effect:function(t){var e=t.state,i=t.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&th(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tb(t){return t.split("-")[1]}var tA={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tE(t){var e,i,n,r,s,o,a,l=t.popper,h=t.popperRect,c=t.placement,u=t.variation,d=t.offsets,f=t.position,p=t.gpuAcceleration,m=t.adaptive,g=t.roundOffsets,_=t.isFixed,v=d.x,y=void 0===v?0:v,w=d.y,b=void 0===w?0:w,A="function"==typeof g?g({x:y,y:b}):{x:y,y:b};y=A.x,b=A.y;var x=d.hasOwnProperty("x"),C=d.hasOwnProperty("y"),L=k,M=E,O=window;if(m){var N=tp(l),P="clientHeight",F="clientWidth";N===q(l)&&"static"!==tc(N=tu(l)).position&&"absolute"===f&&(P="scrollHeight",F="scrollWidth"),(c===E||(c===k||c===S)&&u===I)&&(M=T,b-=(_&&N===O&&O.visualViewport?O.visualViewport.height:N[P])-h.height,b*=p?1:-1),(c===k||(c===E||c===T)&&u===I)&&(L=S,y-=(_&&N===O&&O.visualViewport?O.visualViewport.width:N[F])-h.width,y*=p?1:-1)}var R=Object.assign({position:f},m&&tA),D=!0===g?(e={x:y,y:b},i=q(l),n=e.x,r=e.y,{x:tr(n*(s=i.devicePixelRatio||1))/s||0,y:tr(r*s)/s||0}):{x:y,y:b};return(y=D.x,b=D.y,p)?Object.assign({},R,((a={})[M]=C?"0":"",a[L]=x?"0":"",a.transform=1>=(O.devicePixelRatio||1)?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",a)):Object.assign({},R,((o={})[M]=C?b+"px":"",o[L]=x?y+"px":"",o.transform="",o))}var tT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=i.adaptive,s=i.roundOffsets,o=void 0===s||s,a={placement:te(e.placement),variation:tb(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:void 0===n||n,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,tE(Object.assign({},a,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:void 0===r||r,roundOffsets:o})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,tE(Object.assign({},a,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},tS={passive:!0},tk={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,n=t.options,r=n.scroll,s=void 0===r||r,o=n.resize,a=void 0===o||o,l=q(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(t){t.addEventListener("scroll",i.update,tS)}),a&&l.addEventListener("resize",i.update,tS),function(){s&&h.forEach(function(t){t.removeEventListener("scroll",i.update,tS)}),a&&l.removeEventListener("resize",i.update,tS)}},data:{}},tx={left:"right",right:"left",bottom:"top",top:"bottom"};function tC(t){return t.replace(/left|right|bottom|top/g,function(t){return tx[t]})}var tL={start:"end",end:"start"};function tI(t){return t.replace(/start|end/g,function(t){return tL[t]})}function tM(t){var e=q(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function tO(t){return ta(tu(t)).left+tM(t).scrollLeft}function tN(t){var e=tc(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function tP(t,e){void 0===e&&(e=[]);var i,n=function t(e){return["html","body","#document"].indexOf(Y(e))>=0?e.ownerDocument.body:Q(e)&&tN(e)?e:t(td(e))}(t),r=n===(null==(i=t.ownerDocument)?void 0:i.body),s=q(n),o=r?[s].concat(s.visualViewport||[],tN(n)?n:[]):n,a=e.concat(o);return r?a:a.concat(tP(td(o)))}function tF(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function tR(t,e,i){var n,r,s,o,a,l,h,c,u,d;return e===O?tF(function(t,e){var i=q(t),n=tu(t),r=i.visualViewport,s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var h=to();(h||!h&&"fixed"===e)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+tO(t),y:l}}(t,i)):J(e)?((n=ta(e,!1,"fixed"===i)).top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n):tF((r=tu(t),o=tu(r),a=tM(r),l=null==(s=r.ownerDocument)?void 0:s.body,h=ti(o.scrollWidth,o.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),c=ti(o.scrollHeight,o.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),u=-a.scrollLeft+tO(r),d=-a.scrollTop,"rtl"===tc(l||o).direction&&(u+=ti(o.clientWidth,l?l.clientWidth:0)-h),{width:h,height:c,x:u,y:d}))}function tD(t){var e,i=t.reference,n=t.element,r=t.placement,s=r?te(r):null,o=r?tb(r):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(s){case E:e={x:a,y:i.y-n.height};break;case T:e={x:a,y:i.y+i.height};break;case S:e={x:i.x+i.width,y:l};break;case k:e={x:i.x-n.width,y:l};break;default:e={x:i.x,y:i.y}}var h=s?tm(s):null;if(null!=h){var c="y"===h?"height":"width";switch(o){case L:e[h]=e[h]-(i[c]/2-n[c]/2);break;case I:e[h]=e[h]+(i[c]/2-n[c]/2)}}return e}function tU(t,e){void 0===e&&(e={});var i,n,r,s,o,a,l,h,c=e,u=c.placement,d=void 0===u?t.placement:u,f=c.strategy,p=void 0===f?t.strategy:f,m=c.boundary,g=c.rootBoundary,_=c.elementContext,v=void 0===_?N:_,y=c.altBoundary,w=c.padding,b=void 0===w?0:w,A=tv("number"!=typeof b?b:ty(b,C)),k=t.rects.popper,x=t.elements[void 0!==y&&y?v===N?P:N:v],L=(i=J(x)?x:x.contextElement||tu(t.elements.popper),n=void 0===m?M:m,r=void 0===g?O:g,l=(a=[].concat("clippingParents"===n?(s=tP(td(i)),J(o=["absolute","fixed"].indexOf(tc(i).position)>=0&&Q(i)?tp(i):i)?s.filter(function(t){return J(t)&&th(t,o)&&"body"!==Y(t)}):[]):[].concat(n),[r]))[0],(h=a.reduce(function(t,e){var n=tR(i,e,p);return t.top=ti(n.top,t.top),t.right=tn(n.right,t.right),t.bottom=tn(n.bottom,t.bottom),t.left=ti(n.left,t.left),t},tR(i,l,p))).width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h),I=ta(t.elements.reference),F=tD({reference:I,element:k,strategy:"absolute",placement:d}),R=tF(Object.assign({},k,F)),D=v===N?R:I,U={top:L.top-D.top+A.top,bottom:D.bottom-L.bottom+A.bottom,left:L.left-D.left+A.left,right:D.right-L.right+A.right},B=t.modifiersData.offset;if(v===N&&B){var j=B[d];Object.keys(U).forEach(function(t){var e=[S,T].indexOf(t)>=0?1:-1,i=[E,T].indexOf(t)>=0?"y":"x";U[t]+=j[i]*e})}return U}var tB={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var r=i.mainAxis,s=void 0===r||r,o=i.altAxis,a=void 0===o||o,l=i.fallbackPlacements,h=i.padding,c=i.boundary,u=i.rootBoundary,d=i.altBoundary,f=i.flipVariations,p=void 0===f||f,m=i.allowedAutoPlacements,g=e.options.placement,_=te(g)===g,v=l||(_||!p?[tC(g)]:function(t){if(te(t)===x)return[];var e=tC(t);return[tI(t),e,tI(e)]}(g)),y=[g].concat(v).reduce(function(t,i){var n,r,s,o,a,l,d,f,g,_,v,y;return t.concat(te(i)===x?(r=(n={placement:i,boundary:c,rootBoundary:u,padding:h,flipVariations:p,allowedAutoPlacements:m}).placement,s=n.boundary,o=n.rootBoundary,a=n.padding,l=n.flipVariations,f=void 0===(d=n.allowedAutoPlacements)?R:d,0===(v=(_=(g=tb(r))?l?F:F.filter(function(t){return tb(t)===g}):C).filter(function(t){return f.indexOf(t)>=0})).length&&(v=_),Object.keys(y=v.reduce(function(t,i){return t[i]=tU(e,{placement:i,boundary:s,rootBoundary:o,padding:a})[te(i)],t},{})).sort(function(t,e){return y[t]-y[e]})):i)},[]),w=e.rects.reference,b=e.rects.popper,A=new Map,I=!0,M=y[0],O=0;O<y.length;O++){var N=y[O],P=te(N),D=tb(N)===L,U=[E,T].indexOf(P)>=0,B=U?"width":"height",j=tU(e,{placement:N,boundary:c,rootBoundary:u,altBoundary:d,padding:h}),H=U?D?S:k:D?T:E;w[B]>b[B]&&(H=tC(H));var G=tC(H),z=[];if(s&&z.push(j[P]<=0),a&&z.push(j[H]<=0,j[G]<=0),z.every(function(t){return t})){M=N,I=!1;break}A.set(N,z)}if(I)for(var V=p?3:1,K=function(t){var e=y.find(function(e){var i=A.get(e);if(i)return i.slice(0,t).every(function(t){return t})});if(e)return M=e,"break"},W=V;W>0&&"break"!==K(W);W--);e.placement!==M&&(e.modifiersData[n]._skip=!0,e.placement=M,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function tj(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function tH(t){return[E,S,T,k].some(function(e){return t[e]>=0})}var t$={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=tU(e,{elementContext:"reference"}),a=tU(e,{altBoundary:!0}),l=tj(o,n),h=tj(a,r,s),c=tH(l),u=tH(h);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:c,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":u})}},tG={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,n=t.name,r=i.offset,s=void 0===r?[0,0]:r,o=R.reduce(function(t,i){var n,r,o,a,l,h;return t[i]=(n=e.rects,o=[k,E].indexOf(r=te(i))>=0?-1:1,l=(a="function"==typeof s?s(Object.assign({},n,{placement:i})):s)[0],h=a[1],l=l||0,h=(h||0)*o,[k,S].indexOf(r)>=0?{x:h,y:l}:{x:l,y:h}),t},{}),a=o[e.placement],l=a.x,h=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=h),e.modifiersData[n]=o}},tz={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=tD({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},tV={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name,r=i.mainAxis,s=i.altAxis,o=i.boundary,a=i.rootBoundary,l=i.altBoundary,h=i.padding,c=i.tether,u=void 0===c||c,d=i.tetherOffset,f=void 0===d?0:d,p=tU(e,{boundary:o,rootBoundary:a,padding:h,altBoundary:l}),m=te(e.placement),g=tb(e.placement),_=!g,v=tm(m),y="x"===v?"y":"x",w=e.modifiersData.popperOffsets,b=e.rects.reference,A=e.rects.popper,x="function"==typeof f?f(Object.assign({},e.rects,{placement:e.placement})):f,C="number"==typeof x?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),I=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(w){if(void 0===r||r){var O,N="y"===v?E:k,P="y"===v?T:S,F="y"===v?"height":"width",R=w[v],D=R+p[N],U=R-p[P],B=u?-A[F]/2:0,j=g===L?b[F]:A[F],H=g===L?-A[F]:-b[F],G=e.elements.arrow,z=u&&G?tl(G):{width:0,height:0},V=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:t_(),K=V[N],W=V[P],X=tg(0,b[F],z[F]),Y=_?b[F]/2-B-X-K-C.mainAxis:j-X-K-C.mainAxis,q=_?-b[F]/2+B+X+W+C.mainAxis:H+X+W+C.mainAxis,J=e.elements.arrow&&tp(e.elements.arrow),Q=J?"y"===v?J.clientTop||0:J.clientLeft||0:0,Z=null!=(O=null==I?void 0:I[v])?O:0,tt=tg(u?tn(D,R+Y-Z-Q):D,R,u?ti(U,R+q-Z):U);w[v]=tt,M[v]=tt-R}if(void 0!==s&&s){var tr,ts,to="x"===v?E:k,ta="x"===v?T:S,th=w[y],tc="y"===y?"height":"width",tu=th+p[to],td=th-p[ta],tf=-1!==[E,k].indexOf(m),tv=null!=(ts=null==I?void 0:I[y])?ts:0,ty=tf?tu:th-b[tc]-A[tc]-tv+C.altAxis,tw=tf?th+b[tc]+A[tc]-tv-C.altAxis:td,tA=u&&tf?(tr=tg(ty,th,tw))>tw?tw:tr:tg(u?ty:tu,th,u?tw:td);w[y]=tA,M[y]=tA-th}e.modifiersData[n]=M}},requiresIfExists:["offset"]},tK={placement:"bottom",modifiers:[],strategy:"absolute"};function tW(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function tX(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,r=e.defaultOptions,s=void 0===r?tK:r;return function(t,e,i){void 0===i&&(i=s);var r,o,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},tK,s),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],h=!1,c={state:a,setOptions:function(i){var r,o,h,d,f,p="function"==typeof i?i(a.options):i;u(),a.options=Object.assign({},s,a.options,p),a.scrollParents={reference:J(t)?tP(t):t.contextElement?tP(t.contextElement):[],popper:tP(e)};var m=(o=Object.keys(r=[].concat(n,a.options.modifiers).reduce(function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t},{})).map(function(t){return r[t]}),h=new Map,d=new Set,f=[],o.forEach(function(t){h.set(t.name,t)}),o.forEach(function(t){d.has(t.name)||function t(e){d.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!d.has(e)){var i=h.get(e);i&&t(i)}}),f.push(e)}(t)}),W.reduce(function(t,e){return t.concat(f.filter(function(t){return t.phase===e}))},[]));return a.orderedModifiers=m.filter(function(t){return t.enabled}),a.orderedModifiers.forEach(function(t){var e=t.name,i=t.options,n=t.effect;if("function"==typeof n){var r=n({state:a,name:e,instance:c,options:void 0===i?{}:i});l.push(r||function(){})}}),c.update()},forceUpdate:function(){if(!h){var t=a.elements,e=t.reference,i=t.popper;if(tW(e,i)){a.rects={reference:(r=tp(i),s="fixed"===a.options.strategy,o=Q(r),f=Q(r)&&(u=tr((l=r.getBoundingClientRect()).width)/r.offsetWidth||1,d=tr(l.height)/r.offsetHeight||1,1!==u||1!==d),p=tu(r),m=ta(e,f,s),g={scrollLeft:0,scrollTop:0},_={x:0,y:0},(o||!o&&!s)&&(("body"!==Y(r)||tN(p))&&(g=(n=r)!==q(n)&&Q(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:tM(n)),Q(r)?(_=ta(r,!0),_.x+=r.clientLeft,_.y+=r.clientTop):p&&(_.x=tO(p))),{x:m.left+g.scrollLeft-_.x,y:m.top+g.scrollTop-_.y,width:m.width,height:m.height}),popper:tl(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(t){return a.modifiersData[t.name]=Object.assign({},t.data)});for(var n,r,s,o,l,u,d,f,p,m,g,_,v=0;v<a.orderedModifiers.length;v++){if(!0===a.reset){a.reset=!1,v=-1;continue}var y=a.orderedModifiers[v],w=y.fn,b=y.options,A=void 0===b?{}:b,E=y.name;"function"==typeof w&&(a=w({state:a,options:A,name:E,instance:c})||a)}}}},update:(r=function(){return new Promise(function(t){c.forceUpdate(),t(a)})},function(){return o||(o=new Promise(function(t){Promise.resolve().then(function(){o=void 0,t(r())})})),o}),destroy:function(){u(),h=!0}};if(!tW(t,e))return c;function u(){l.forEach(function(t){return t()}),l=[]}return c.setOptions(i).then(function(t){!h&&i.onFirstUpdate&&i.onFirstUpdate(t)}),c}}var tY=tX(),tq=tX({defaultModifiers:[tk,tz,tT,tt,tG,tB,tV,tw,t$]}),tJ=tX({defaultModifiers:[tk,tz,tT,tt]});_(b,A),_(b,X);const tQ=new Map,tZ={set(t,e,i){tQ.has(t)||tQ.set(t,new Map);let n=tQ.get(t);if(!n.has(e)&&0!==n.size){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,i)},get:(t,e)=>tQ.has(t)&&tQ.get(t).get(e)||null,remove(t,e){if(!tQ.has(t))return;let i=tQ.get(t);i.delete(e),0===i.size&&tQ.delete(t)}},t1="transitionend",t2=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),t),t3=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),t0=t=>{do t+=Math.floor(1e6*Math.random());while(document.getElementById(t))return t},t4=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t),n=Number.parseFloat(e),r=Number.parseFloat(i);return n||r?(e=e.split(",")[0],i=i.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(i))*1e3):0},t5=t=>{t.dispatchEvent(new Event(t1))},t6=t=>!!t&&"object"==typeof t&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),t8=t=>t6(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(t2(t)):null,t7=t=>{if(!t6(t)||0===t.getClientRects().length)return!1;let e="visible"===getComputedStyle(t).getPropertyValue("visibility"),i=t.closest("details:not([open])");if(!i)return e;if(i!==t){let e=t.closest("summary");if(e&&e.parentNode!==i||null===e)return!1}return e},t9=t=>!!(!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled"))||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),et=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){let e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?et(t.parentNode):null},ee=()=>{},ei=t=>{t.offsetHeight},en=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,er=[],es=t=>{"loading"===document.readyState?(er.length||document.addEventListener("DOMContentLoaded",()=>{for(let t of er)t()}),er.push(t)):t()},eo=()=>"rtl"===document.documentElement.dir,ea=t=>{es(()=>{let e=en();if(e){let i=t.NAME,n=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=n,t.jQueryInterface)}})},el=(t,e=[],i=t)=>"function"==typeof t?t(...e):i,eh=(t,e,i=!0)=>{if(!i){el(t);return}let n=t4(e)+5,r=!1,s=({target:i})=>{i===e&&(r=!0,e.removeEventListener(t1,s),el(t))};e.addEventListener(t1,s),setTimeout(()=>{r||t5(e)},n)},ec=(t,e,i,n)=>{let r=t.length,s=t.indexOf(e);return -1===s?!i&&n?t[r-1]:t[0]:(s+=i?1:-1,n&&(s=(s+r)%r),t[Math.max(0,Math.min(s,r-1))])},eu=/[^.]*(?=\..*)\.|.*/,ed=/\..*/,ef=/::\d+$/,ep={};let em=1;const eg={mouseenter:"mouseover",mouseleave:"mouseout"},e_=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ev(t,e){return e&&`${e}::${em++}`||t.uidEvent||em++}function ey(t){let e=ev(t);return t.uidEvent=e,ep[e]=ep[e]||{},ep[e]}function ew(t,e,i=null){return Object.values(t).find(t=>t.callable===e&&t.delegationSelector===i)}function eb(t,e,i){let n="string"==typeof e,r=eT(t);return e_.has(r)||(r=t),[n,n?i:e||i,r]}function eA(t,e,i,n,r){var s,o;if("string"!=typeof e||!t)return;let[a,l,h]=eb(e,i,n);if(e in eg){let t;t=l,l=function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)}}let c=ey(t),u=c[h]||(c[h]={}),d=ew(u,l,a?i:null);if(d){d.oneOff=d.oneOff&&r;return}let f=ev(l,e.replace(eu,"")),p=a?(s=l,function e(n){let r=t.querySelectorAll(i);for(let{target:o}=n;o&&o!==this;o=o.parentNode)for(let a of r)if(a===o)return ek(n,{delegateTarget:o}),e.oneOff&&eS.off(t,n.type,i,s),s.apply(o,[n])}):(o=l,function e(i){return ek(i,{delegateTarget:t}),e.oneOff&&eS.off(t,i.type,o),o.apply(t,[i])});p.delegationSelector=a?i:null,p.callable=l,p.oneOff=r,p.uidEvent=f,u[f]=p,t.addEventListener(h,p,a)}function eE(t,e,i,n,r){let s=ew(e[i],n,r);s&&(t.removeEventListener(i,s,!!r),delete e[i][s.uidEvent])}function eT(t){return eg[t=t.replace(ed,"")]||t}const eS={on(t,e,i,n){eA(t,e,i,n,!1)},one(t,e,i,n){eA(t,e,i,n,!0)},off(t,e,i,n){if("string"!=typeof e||!t)return;let[r,s,o]=eb(e,i,n),a=o!==e,l=ey(t),h=l[o]||{},c=e.startsWith(".");if(void 0!==s){if(!Object.keys(h).length)return;eE(t,l,o,s,r?i:null);return}if(c)for(let i of Object.keys(l))!function(t,e,i,n){for(let[r,s]of Object.entries(e[i]||{}))r.includes(n)&&eE(t,e,i,s.callable,s.delegationSelector)}(t,l,i,e.slice(1));for(let[i,n]of Object.entries(h)){let r=i.replace(ef,"");(!a||e.includes(r))&&eE(t,l,o,n.callable,n.delegationSelector)}},trigger(t,e,i){if("string"!=typeof e||!t)return null;let n=en(),r=eT(e),s=null,o=!0,a=!0,l=!1;e!==r&&n&&(s=n.Event(e,i),n(t).trigger(s),o=!s.isPropagationStopped(),a=!s.isImmediatePropagationStopped(),l=s.isDefaultPrevented());let h=ek(new Event(e,{bubbles:o,cancelable:!0}),i);return l&&h.preventDefault(),a&&t.dispatchEvent(h),h.defaultPrevented&&s&&s.preventDefault(),h}};function ek(t,e={}){for(let[i,n]of Object.entries(e))try{t[i]=n}catch(e){Object.defineProperty(t,i,{configurable:!0,get:()=>n})}return t}function ex(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function eC(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const eL={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${eC(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${eC(e)}`)},getDataAttributes(t){if(!t)return{};let e={};for(let i of Object.keys(t.dataset).filter(t=>t.startsWith("bs")&&!t.startsWith("bsConfig"))){let n=i.replace(/^bs/,"");e[n=n.charAt(0).toLowerCase()+n.slice(1,n.length)]=ex(t.dataset[i])}return e},getDataAttribute:(t,e)=>ex(t.getAttribute(`data-bs-${eC(e)}`))};class eI{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){let i=t6(e)?eL.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...t6(e)?eL.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(let[i,n]of Object.entries(e)){let e=t[i],r=t6(e)?"element":t3(e);if(!new RegExp(n).test(r))throw TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${r}" but expected type "${n}".`)}}}class eM extends eI{constructor(t,e){if(super(),!(t=t8(t)))return;this._element=t,this._config=this._getConfig(e),tZ.set(this._element,this.constructor.DATA_KEY,this)}dispose(){for(let t of(tZ.remove(this._element,this.constructor.DATA_KEY),eS.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this)))this[t]=null}_queueCallback(t,e,i=!0){eh(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return tZ.get(t8(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const eO=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&"#"!==i?i.trim():null}return e?e.split(",").map(t=>t2(t)).join(","):null},eN={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(t=>t.matches(e)),parents(t,e){let i=[],n=t.parentNode.closest(e);for(;n;)i.push(n),n=n.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(t=>!t9(t)&&t7(t))},getSelectorFromElement(t){let e=eO(t);return e&&eN.findOne(e)?e:null},getElementFromSelector(t){let e=eO(t);return e?eN.findOne(e):null},getMultipleElementsFromSelector(t){let e=eO(t);return e?eN.find(e):[]}},eP=(t,e="hide")=>{let i=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;eS.on(document,i,`[data-bs-dismiss="${n}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),t9(this))return;let r=eN.getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(r)[e]()})},eF=".bs.alert",eR=`close${eF}`,eD=`closed${eF}`;class eU extends eM{static get NAME(){return"alert"}close(){if(eS.trigger(this._element,eR).defaultPrevented)return;this._element.classList.remove("show");let t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),eS.trigger(this._element,eD),this.dispose()}static jQueryInterface(t){return this.each(function(){let e=eU.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t](this)}})}}eP(eU,"close"),ea(eU);const eB='[data-bs-toggle="button"]';class ej extends eM{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){let e=ej.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}eS.on(document,"click.bs.button.data-api",eB,t=>{t.preventDefault();let e=t.target.closest(eB);ej.getOrCreateInstance(e).toggle()}),ea(ej);const eH=".bs.swipe",e$=`touchstart${eH}`,eG=`touchmove${eH}`,ez=`touchend${eH}`,eV=`pointerdown${eH}`,eK=`pointerup${eH}`,eW={endCallback:null,leftCallback:null,rightCallback:null},eX={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class eY extends eI{constructor(t,e){if(super(),this._element=t,!t||!eY.isSupported())return;this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents()}static get Default(){return eW}static get DefaultType(){return eX}static get NAME(){return"swipe"}dispose(){eS.off(this._element,eH)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),el(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){let t=Math.abs(this._deltaX);if(t<=40)return;let e=t/this._deltaX;this._deltaX=0,e&&el(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(eS.on(this._element,eV,t=>this._start(t)),eS.on(this._element,eK,t=>this._end(t)),this._element.classList.add("pointer-event")):(eS.on(this._element,e$,t=>this._start(t)),eS.on(this._element,eG,t=>this._move(t)),eS.on(this._element,ez,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const eq=".bs.carousel",eJ=".data-api",eQ="next",eZ="prev",e1="left",e2="right",e3=`slide${eq}`,e0=`slid${eq}`,e4=`keydown${eq}`,e5=`mouseenter${eq}`,e6=`mouseleave${eq}`,e8=`dragstart${eq}`,e7=`load${eq}${eJ}`,e9=`click${eq}${eJ}`,it="carousel",ie="active",ii=".active",ir=".carousel-item",is=ii+ir,io={ArrowLeft:e2,ArrowRight:e1},ia={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},il={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ih extends eM{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=eN.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===it&&this.cycle()}static get Default(){return ia}static get DefaultType(){return il}static get NAME(){return"carousel"}next(){this._slide(eQ)}nextWhenVisible(){!document.hidden&&t7(this._element)&&this.next()}prev(){this._slide(eZ)}pause(){this._isSliding&&t5(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){eS.one(this._element,e0,()=>this.cycle());return}this.cycle()}}to(t){let e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){eS.one(this._element,e0,()=>this.to(t));return}let i=this._getItemIndex(this._getActive());i!==t&&this._slide(t>i?eQ:eZ,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&eS.on(this._element,e4,t=>this._keydown(t)),"hover"===this._config.pause&&(eS.on(this._element,e5,()=>this.pause()),eS.on(this._element,e6,()=>this._maybeEnableCycle())),this._config.touch&&eY.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let t of eN.find(".carousel-item img",this._element))eS.on(t,e8,t=>t.preventDefault());this._swipeHelper=new eY(this._element,{leftCallback:()=>this._slide(this._directionToOrder(e1)),rightCallback:()=>this._slide(this._directionToOrder(e2)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;let e=io[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;let e=eN.findOne(ii,this._indicatorsElement);e.classList.remove(ie),e.removeAttribute("aria-current");let i=eN.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(ie),i.setAttribute("aria-current","true"))}_updateInterval(){let t=this._activeElement||this._getActive();if(!t)return;let e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;let i=this._getActive(),n=t===eQ,r=e||ec(this._getItems(),i,n,this._config.wrap);if(r===i)return;let s=this._getItemIndex(r),o=e=>eS.trigger(this._element,e,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:s});if(o(e3).defaultPrevented||!i||!r)return;let a=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=r;let l=n?"carousel-item-start":"carousel-item-end",h=n?"carousel-item-next":"carousel-item-prev";r.classList.add(h),ei(r),i.classList.add(l),r.classList.add(l),this._queueCallback(()=>{r.classList.remove(l,h),r.classList.add(ie),i.classList.remove(ie,h,l),this._isSliding=!1,o(e0)},i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return eN.findOne(is,this._element)}_getItems(){return eN.find(ir,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return eo()?t===e1?eZ:eQ:t===e1?eQ:eZ}_orderToDirection(t){return eo()?t===eZ?e1:e2:t===eZ?e2:e1}static jQueryInterface(t){return this.each(function(){let e=ih.getOrCreateInstance(this,t);if("number"==typeof t){e.to(t);return}if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t]()}})}}eS.on(document,e9,"[data-bs-slide], [data-bs-slide-to]",function(t){let e=eN.getElementFromSelector(this);if(!e||!e.classList.contains(it))return;t.preventDefault();let i=ih.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){i.to(n),i._maybeEnableCycle();return}if("next"===eL.getDataAttribute(this,"slide")){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()}),eS.on(window,e7,()=>{for(let t of eN.find('[data-bs-ride="carousel"]'))ih.getOrCreateInstance(t)}),ea(ih);const ic=".bs.collapse",iu=`show${ic}`,id=`shown${ic}`,ip=`hide${ic}`,im=`hidden${ic}`,ig=`click${ic}.data-api`,i_="show",iv="collapse",iy="collapsing",iw=`:scope .${iv} .${iv}`,ib='[data-bs-toggle="collapse"]',iA={parent:null,toggle:!0},iE={parent:"(null|element)",toggle:"boolean"};class iT extends eM{constructor(t,e){for(let i of(super(t,e),this._isTransitioning=!1,this._triggerArray=[],eN.find(ib))){let t=eN.getSelectorFromElement(i),e=eN.find(t).filter(t=>t===this._element);null!==t&&e.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return iA}static get DefaultType(){return iE}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(t=>t!==this._element).map(t=>iT.getOrCreateInstance(t,{toggle:!1}))),t.length&&t[0]._isTransitioning||eS.trigger(this._element,iu).defaultPrevented)return;for(let e of t)e.hide();let e=this._getDimension();this._element.classList.remove(iv),this._element.classList.add(iy),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let i=e[0].toUpperCase()+e.slice(1),n=`scroll${i}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(iy),this._element.classList.add(iv,i_),this._element.style[e]="",eS.trigger(this._element,id)},this._element,!0),this._element.style[e]=`${this._element[n]}px`}hide(){if(this._isTransitioning||!this._isShown()||eS.trigger(this._element,ip).defaultPrevented)return;let t=this._getDimension();for(let e of(this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,ei(this._element),this._element.classList.add(iy),this._element.classList.remove(iv,i_),this._triggerArray)){let t=eN.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(iy),this._element.classList.add(iv),eS.trigger(this._element,im)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(i_)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=t8(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent)for(let t of this._getFirstLevelChildren(ib)){let e=eN.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(t){let e=eN.find(iw,this._config.parent);return eN.find(t,this._config.parent).filter(t=>!e.includes(t))}_addAriaAndCollapsedClass(t,e){if(t.length)for(let i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){let e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){let i=iT.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw TypeError(`No method named "${t}"`);i[t]()}})}}eS.on(document,ig,ib,function(t){for(let e of(("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault(),eN.getMultipleElementsFromSelector(this)))iT.getOrCreateInstance(e,{toggle:!1}).toggle()}),ea(iT);const iS="dropdown",ik=".bs.dropdown",ix=".data-api",iC="ArrowDown",iL=`hide${ik}`,iI=`hidden${ik}`,iM=`show${ik}`,iO=`shown${ik}`,iN=`click${ik}${ix}`,iP=`keydown${ik}${ix}`,iF=`keyup${ik}${ix}`,iR="show",iD='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',iU=`${iD}.${iR}`,iB=".dropdown-menu",ij=eo()?"top-end":"top-start",iH=eo()?"top-start":"top-end",i$=eo()?"bottom-end":"bottom-start",iG=eo()?"bottom-start":"bottom-end",iz=eo()?"left-start":"right-start",iV=eo()?"right-start":"left-start",iK={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},iW={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class iX extends eM{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=eN.next(this._element,iB)[0]||eN.prev(this._element,iB)[0]||eN.findOne(iB,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return iK}static get DefaultType(){return iW}static get NAME(){return iS}toggle(){return this._isShown()?this.hide():this.show()}show(){if(t9(this._element)||this._isShown())return;let t={relatedTarget:this._element};if(!eS.trigger(this._element,iM,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let t of[].concat(...document.body.children))eS.on(t,"mouseover",ee);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(iR),this._element.classList.add(iR),eS.trigger(this._element,iO,t)}}hide(){if(t9(this._element)||!this._isShown())return;let t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!eS.trigger(this._element,iL,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(let t of[].concat(...document.body.children))eS.off(t,"mouseover",ee);this._popper&&this._popper.destroy(),this._menu.classList.remove(iR),this._element.classList.remove(iR),this._element.setAttribute("aria-expanded","false"),eL.removeDataAttribute(this._menu,"popper"),eS.trigger(this._element,iI,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!t6(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw TypeError(`${iS.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===b)throw TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:t6(this._config.reference)?t=t8(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);let e=this._getPopperConfig();this._popper=b.createPopper(t,this._menu,e)}_isShown(){return this._menu.classList.contains(iR)}_getPlacement(){let t=this._parent;if(t.classList.contains("dropend"))return iz;if(t.classList.contains("dropstart"))return iV;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";let e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?iH:ij:e?iG:i$}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){let{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){let t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(eL.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...el(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){let i=eN.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(t=>t7(t));i.length&&ec(i,e,t===iC,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){let e=iX.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2!==t.button&&("keyup"!==t.type||"Tab"===t.key))for(let e of eN.find(iU)){let i=iX.getInstance(e);if(!i||!1===i._config.autoClose)continue;let n=t.composedPath(),r=n.includes(i._menu);if(n.includes(i._element)||"inside"===i._config.autoClose&&!r||"outside"===i._config.autoClose&&r||i._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;let s={relatedTarget:i._element};"click"===t.type&&(s.clickEvent=t),i._completeHide(s)}}static dataApiKeydownHandler(t){let e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,n=["ArrowUp",iC].includes(t.key);if(!n&&!i||e&&!i)return;t.preventDefault();let r=this.matches(iD)?this:eN.prev(this,iD)[0]||eN.next(this,iD)[0]||eN.findOne(iD,t.delegateTarget.parentNode),s=iX.getOrCreateInstance(r);if(n){t.stopPropagation(),s.show(),s._selectMenuItem(t);return}s._isShown()&&(t.stopPropagation(),s.hide(),r.focus())}}eS.on(document,iP,iD,iX.dataApiKeydownHandler),eS.on(document,iP,iB,iX.dataApiKeydownHandler),eS.on(document,iN,iX.clearMenus),eS.on(document,iF,iX.clearMenus),eS.on(document,iN,iD,function(t){t.preventDefault(),iX.getOrCreateInstance(this).toggle()}),ea(iX);const iY="backdrop",iq="show",iJ=`mousedown.bs.${iY}`,iQ={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},iZ={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class i1 extends eI{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return iQ}static get DefaultType(){return iZ}static get NAME(){return iY}show(t){if(!this._config.isVisible){el(t);return}this._append();let e=this._getElement();this._config.isAnimated&&ei(e),e.classList.add(iq),this._emulateAnimation(()=>{el(t)})}hide(t){if(!this._config.isVisible){el(t);return}this._getElement().classList.remove(iq),this._emulateAnimation(()=>{this.dispose(),el(t)})}dispose(){this._isAppended&&(eS.off(this._element,iJ),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=t8(t.rootElement),t}_append(){if(this._isAppended)return;let t=this._getElement();this._config.rootElement.append(t),eS.on(t,iJ,()=>{el(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){eh(t,this._getElement(),this._config.isAnimated)}}const i2=".bs.focustrap",i3=`focusin${i2}`,i0=`keydown.tab${i2}`,i4="backward",i5={autofocus:!0,trapElement:null},i6={autofocus:"boolean",trapElement:"element"};class i8 extends eI{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return i5}static get DefaultType(){return i6}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),eS.off(document,i2),eS.on(document,i3,t=>this._handleFocusin(t)),eS.on(document,i0,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,eS.off(document,i2))}_handleFocusin(t){let{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;let i=eN.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===i4?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?i4:"forward")}}const i7=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",i9=".sticky-top",nt="padding-right",ne="margin-right";class ni{constructor(){this._element=document.body}getWidth(){let t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){let t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,nt,e=>e+t),this._setElementAttributes(i7,nt,e=>e+t),this._setElementAttributes(i9,ne,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,nt),this._resetElementAttributes(i7,nt),this._resetElementAttributes(i9,ne)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){let n=this.getWidth();this._applyManipulationCallback(t,t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+n)return;this._saveInitialAttribute(t,e);let r=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${i(Number.parseFloat(r))}px`)})}_saveInitialAttribute(t,e){let i=t.style.getPropertyValue(e);i&&eL.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,t=>{let i=eL.getDataAttribute(t,e);if(null===i){t.style.removeProperty(e);return}eL.removeDataAttribute(t,e),t.style.setProperty(e,i)})}_applyManipulationCallback(t,e){if(t6(t)){e(t);return}for(let i of eN.find(t,this._element))e(i)}}const nn=".bs.modal",nr=`hide${nn}`,ns=`hidePrevented${nn}`,no=`hidden${nn}`,na=`show${nn}`,nl=`shown${nn}`,nh=`resize${nn}`,nc=`click.dismiss${nn}`,nu=`mousedown.dismiss${nn}`,nd=`keydown.dismiss${nn}`,nf=`click${nn}.data-api`,np="modal-open",nm="show",ng="modal-static",n_={backdrop:!0,focus:!0,keyboard:!0},nv={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ny extends eM{constructor(t,e){super(t,e),this._dialog=eN.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ni,this._addEventListeners()}static get Default(){return n_}static get DefaultType(){return nv}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||eS.trigger(this._element,na,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(np),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){this._isShown&&!this._isTransitioning&&(eS.trigger(this._element,nr).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(nm),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){eS.off(window,nn),eS.off(this._dialog,nn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new i1({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new i8({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let e=eN.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),ei(this._element),this._element.classList.add(nm),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,eS.trigger(this._element,nl,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){eS.on(this._element,nd,t=>{if("Escape"===t.key){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),eS.on(window,nh,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),eS.on(this._element,nu,t=>{eS.one(this._element,nc,e=>{if(this._element===t.target&&this._element===e.target){if("static"===this._config.backdrop){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(np),this._resetAdjustments(),this._scrollBar.reset(),eS.trigger(this._element,no)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(eS.trigger(this._element,ns).defaultPrevented)return;let t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(ng)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(ng),this._queueCallback(()=>{this._element.classList.remove(ng),this._queueCallback(()=>{this._element.style.overflowY=e},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){let t=eo()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!i&&t){let t=eo()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){let i=ny.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw TypeError(`No method named "${t}"`);i[t](e)}})}}eS.on(document,nf,'[data-bs-toggle="modal"]',function(t){let e=eN.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),eS.one(e,na,t=>{t.defaultPrevented||eS.one(e,no,()=>{t7(this)&&this.focus()})});let i=eN.findOne(".modal.show");i&&ny.getInstance(i).hide(),ny.getOrCreateInstance(e).toggle(this)}),eP(ny),ea(ny);const nw=".bs.offcanvas",nb=".data-api",nA=`load${nw}${nb}`,nE="show",nT="showing",nS="hiding",nk=".offcanvas.show",nx=`show${nw}`,nC=`shown${nw}`,nL=`hide${nw}`,nI=`hidePrevented${nw}`,nM=`hidden${nw}`,nO=`resize${nw}`,nN=`click${nw}${nb}`,nP=`keydown.dismiss${nw}`,nF={backdrop:!0,keyboard:!0,scroll:!1},nR={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class nD extends eM{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return nF}static get DefaultType(){return nR}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||eS.trigger(this._element,nx,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new ni().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(nT),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(nE),this._element.classList.remove(nT),eS.trigger(this._element,nC,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!eS.trigger(this._element,nL).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(nS),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(nE,nS),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ni().reset(),eS.trigger(this._element,nM)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let t=!!this._config.backdrop;return new i1({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{if("static"===this._config.backdrop){eS.trigger(this._element,nI);return}this.hide()}:null})}_initializeFocusTrap(){return new i8({trapElement:this._element})}_addEventListeners(){eS.on(this._element,nP,t=>{if("Escape"===t.key){if(this._config.keyboard){this.hide();return}eS.trigger(this._element,nI)}})}static jQueryInterface(t){return this.each(function(){let e=nD.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t](this)}})}}eS.on(document,nN,'[data-bs-toggle="offcanvas"]',function(t){let e=eN.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),t9(this))return;eS.one(e,nM,()=>{t7(this)&&this.focus()});let i=eN.findOne(nk);i&&i!==e&&nD.getInstance(i).hide(),nD.getOrCreateInstance(e).toggle(this)}),eS.on(window,nA,()=>{for(let t of eN.find(nk))nD.getOrCreateInstance(t).show()}),eS.on(window,nO,()=>{for(let t of eN.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&nD.getOrCreateInstance(t).hide()}),eP(nD),ea(nD);const nU={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},nB=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),nj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,nH=(t,e)=>{let i=t.nodeName.toLowerCase();return e.includes(i)?!nB.has(i)||!!nj.test(t.nodeValue):e.filter(t=>t instanceof RegExp).some(t=>t.test(i))},n$={allowList:nU,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},nG={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},nz={entry:"(string|element|function|null)",selector:"(string|element)"};class nV extends eI{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return n$}static get DefaultType(){return nG}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){let t=document.createElement("div");for(let[e,i]of(t.innerHTML=this._maybeSanitize(this._config.template),Object.entries(this._config.content)))this._setContent(t,i,e);let e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(let[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},nz)}_setContent(t,e,i){let n=eN.findOne(i,t);if(n){if(!(e=this._resolvePossibleFunction(e))){n.remove();return}if(t6(e)){this._putElementInTemplate(t8(e),n);return}if(this._config.html){n.innerHTML=this._maybeSanitize(e);return}n.textContent=e}}_maybeSanitize(t){return this._config.sanitize?function(t,e,i){if(!t.length)return t;if(i&&"function"==typeof i)return i(t);let n=new window.DOMParser().parseFromString(t,"text/html");for(let t of[].concat(...n.body.querySelectorAll("*"))){let i=t.nodeName.toLowerCase();if(!Object.keys(e).includes(i)){t.remove();continue}let n=[].concat(...t.attributes),r=[].concat(e["*"]||[],e[i]||[]);for(let e of n)nH(e,r)||t.removeAttribute(e.nodeName)}return n.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return el(t,[this])}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const nK=new Set(["sanitize","allowList","sanitizeFn"]),nW="fade",nX="show",nY=".modal",nq="hide.bs.modal",nJ="hover",nQ="focus",nZ={AUTO:"auto",TOP:"top",RIGHT:eo()?"left":"right",BOTTOM:"bottom",LEFT:eo()?"right":"left"},n1={allowList:nU,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},n2={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class n3 extends eM{constructor(t,e){if(void 0===b)throw TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return n1}static get DefaultType(){return n2}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),eS.off(this._element.closest(nY),nq,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let t=eS.trigger(this._element,this.constructor.eventName("show")),e=(et(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();let i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));let{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),eS.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(nX),"ontouchstart"in document.documentElement)for(let t of[].concat(...document.body.children))eS.on(t,"mouseover",ee);this._queueCallback(()=>{eS.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!eS.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(nX),"ontouchstart"in document.documentElement)for(let t of[].concat(...document.body.children))eS.off(t,"mouseover",ee);this._activeTrigger.click=!1,this._activeTrigger[nQ]=!1,this._activeTrigger[nJ]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),eS.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){let e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(nW,nX),e.classList.add(`bs-${this.constructor.NAME}-auto`);let i=t0(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(nW),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new nV({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(nW)}_isShown(){return this.tip&&this.tip.classList.contains(nX)}_createPopper(t){let e=nZ[el(this._config.placement,[this,t,this._element]).toUpperCase()];return b.createPopper(this._element,t,this._getPopperConfig(e))}_getOffset(){let{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return el(t,[this._element])}_getPopperConfig(t){let e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,...el(this._config.popperConfig,[e])}}_setListeners(){for(let t of this._config.trigger.split(" "))if("click"===t)eS.on(this._element,this.constructor.eventName("click"),this._config.selector,t=>{this._initializeOnDelegatedTarget(t).toggle()});else if("manual"!==t){let e=t===nJ?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=t===nJ?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");eS.on(this._element,e,this._config.selector,t=>{let e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?nQ:nJ]=!0,e._enter()}),eS.on(this._element,i,this._config.selector,t=>{let e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?nQ:nJ]=e._element.contains(t.relatedTarget),e._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},eS.on(this._element.closest(nY),nq,this._hideModalHandler)}_fixTitle(){let t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){let e=eL.getDataAttributes(this._element);for(let t of Object.keys(e))nK.has(t)&&delete e[t];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:t8(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){let t={};for(let[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){let e=n3.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw TypeError(`No method named "${t}"`);e[t]()}})}}ea(n3);const n0={...n3.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},n4={...n3.DefaultType,content:"(null|string|element|function)"};class n5 extends n3{static get Default(){return n0}static get DefaultType(){return n4}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){let e=n5.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw TypeError(`No method named "${t}"`);e[t]()}})}}ea(n5);const n6=".bs.scrollspy",n8=`activate${n6}`,n7=`click${n6}`,n9=`load${n6}.data-api`,rt="active",re="[href]",ri=".nav-link",rn=`${ri}, .nav-item > ${ri}, .list-group-item`,rr={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},rs={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ro extends eM{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return rr}static get DefaultType(){return rs}static get NAME(){return"scrollspy"}refresh(){for(let t of(this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver(),this._observableSections.values()))this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=t8(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(t=>Number.parseFloat(t))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(eS.off(this._config.target,n7),eS.on(this._config.target,n7,re,t=>{let e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();let i=this._rootElement||window,n=e.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:n,behavior:"smooth"});return}i.scrollTop=n}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){let e=t=>this._targetLinks.get(`#${t.target.id}`),i=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},n=(this._rootElement||document.documentElement).scrollTop,r=n>=this._previousScrollData.parentScrollTop;for(let s of(this._previousScrollData.parentScrollTop=n,t)){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(s));continue}let t=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&t){if(i(s),!n)return;continue}r||t||i(s)}}_initializeTargetsAndObservables(){for(let t of(this._targetLinks=new Map,this._observableSections=new Map,eN.find(re,this._config.target))){if(!t.hash||t9(t))continue;let e=eN.findOne(decodeURI(t.hash),this._element);t7(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(rt),this._activateParents(t),eS.trigger(this._element,n8,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item")){eN.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(rt);return}for(let e of eN.parents(t,".nav, .list-group"))for(let t of eN.prev(e,rn))t.classList.add(rt)}_clearActiveClass(t){for(let e of(t.classList.remove(rt),eN.find(`${re}.${rt}`,t)))e.classList.remove(rt)}static jQueryInterface(t){return this.each(function(){let e=ro.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t]()}})}}eS.on(window,n9,()=>{for(let t of eN.find('[data-bs-spy="scroll"]'))ro.getOrCreateInstance(t)}),ea(ro);const ra=".bs.tab",rl=`hide${ra}`,rh=`hidden${ra}`,rc=`show${ra}`,ru=`shown${ra}`,rd=`click${ra}`,rf=`keydown${ra}`,rp=`load${ra}`,rm="ArrowRight",rg="ArrowDown",r_="Home",rv="active",ry="fade",rw="show",rb=".dropdown-toggle",rA=`:not(${rb})`,rE=`.nav-link${rA}, .list-group-item${rA}, [role="tab"]${rA}`,rT='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',rS=`${rE}, ${rT}`,rk=`.${rv}[data-bs-toggle="tab"], .${rv}[data-bs-toggle="pill"], .${rv}[data-bs-toggle="list"]`;class rx extends eM{constructor(t){if(super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),!this._parent)return;this._setInitialAttributes(this._parent,this._getChildren()),eS.on(this._element,rf,t=>this._keydown(t))}static get NAME(){return"tab"}show(){let t=this._element;if(this._elemIsActive(t))return;let e=this._getActiveElem(),i=e?eS.trigger(e,rl,{relatedTarget:t}):null;eS.trigger(t,rc,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(rv),this._activate(eN.getElementFromSelector(t)),this._queueCallback(()=>{if("tab"!==t.getAttribute("role")){t.classList.add(rw);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),eS.trigger(t,ru,{relatedTarget:e})},t,t.classList.contains(ry)))}_deactivate(t,e){t&&(t.classList.remove(rv),t.blur(),this._deactivate(eN.getElementFromSelector(t)),this._queueCallback(()=>{if("tab"!==t.getAttribute("role")){t.classList.remove(rw);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),eS.trigger(t,rh,{relatedTarget:e})},t,t.classList.contains(ry)))}_keydown(t){let e;if(!["ArrowLeft",rm,"ArrowUp",rg,r_,"End"].includes(t.key))return;t.stopPropagation(),t.preventDefault();let i=this._getChildren().filter(t=>!t9(t));if([r_,"End"].includes(t.key))e=i[t.key===r_?0:i.length-1];else{let n=[rm,rg].includes(t.key);e=ec(i,t.target,n,!0)}e&&(e.focus({preventScroll:!0}),rx.getOrCreateInstance(e).show())}_getChildren(){return eN.find(rS,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){for(let i of(this._setAttributeIfNotExists(t,"role","tablist"),e))this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);let e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){let e=eN.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){let i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;let n=(t,n)=>{let r=eN.findOne(t,i);r&&r.classList.toggle(n,e)};n(rb,rv),n(".dropdown-menu",rw),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(rv)}_getInnerElement(t){return t.matches(rS)?t:eN.findOne(rS,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){let e=rx.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw TypeError(`No method named "${t}"`);e[t]()}})}}eS.on(document,rd,rT,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),t9(this)||rx.getOrCreateInstance(this).show()}),eS.on(window,rp,()=>{for(let t of eN.find(rk))rx.getOrCreateInstance(t)}),ea(rx);const rC=".bs.toast",rL=`mouseover${rC}`,rI=`mouseout${rC}`,rM=`focusin${rC}`,rO=`focusout${rC}`,rN=`hide${rC}`,rP=`hidden${rC}`,rF=`show${rC}`,rR=`shown${rC}`,rD="hide",rU="show",rB="showing",rj={animation:"boolean",autohide:"boolean",delay:"number"},rH={animation:!0,autohide:!0,delay:5e3};class r$ extends eM{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return rH}static get DefaultType(){return rj}static get NAME(){return"toast"}show(){eS.trigger(this._element,rF).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(rD),ei(this._element),this._element.classList.add(rU,rB),this._queueCallback(()=>{this._element.classList.remove(rB),eS.trigger(this._element,rR),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!eS.trigger(this._element,rN).defaultPrevented&&(this._element.classList.add(rB),this._queueCallback(()=>{this._element.classList.add(rD),this._element.classList.remove(rB,rU),eS.trigger(this._element,rP)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(rU),super.dispose()}isShown(){return this._element.classList.contains(rU)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e){this._clearTimeout();return}let i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){eS.on(this._element,rL,t=>this._onInteraction(t,!0)),eS.on(this._element,rI,t=>this._onInteraction(t,!1)),eS.on(this._element,rM,t=>this._onInteraction(t,!0)),eS.on(this._element,rO,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){let e=r$.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw TypeError(`No method named "${t}"`);e[t](this)}})}}eP(r$),ea(r$);class rG{constructor(t,e){this.slider=document.getElementById(t),this.slider.oninput=e,this.onChangeCallback=e}getMin(){return parseInt(this.slider.min)}getMax(){return parseInt(this.slider.max)}getValue(){return parseInt(this.slider.value)}setValue(t){this.slider.value=String(t),this.onChangeCallback()}}class rz{constructor(t,e){this.elem=document.getElementById(t),this.elem.onchange=e}isChecked(){return this.elem.checked}setChecked(t){this.elem.checked=t}}class rV{constructor(t,e=100){this.image=new Image,this.onClickCallback=t,this.a=document.createElement("a"),this.a.className="overlap-container w-15vh h-15vh my-1",this.canvas=document.createElement("canvas"),this.canvas.className="img-thumbnail d-block w-100 rounded",this.canvas.width=e,this.canvas.height=e,this.ctx=this.canvas.getContext("2d"),this.image.onload=()=>this.draw(),this.a.href="#",this.a.onclick=t=>!1,this.a.appendChild(this.canvas),this.iconContainer=document.createElement("div"),this.iconContainer.className="p-1 w-100 h-100 bg-dark bg-opacity-50 rounded border border-dark d-flex justify-content-center align-items-center d-none",this.iconDescription=document.createElement("span"),this.iconDescription.className="visually-hidden",this.icon=document.createElement("i"),this.icon.className="bi bi-floppy",this.icon.style.fontSize="6vh",this.iconContainer.appendChild(this.icon),this.iconContainer.appendChild(this.iconDescription),this.a.appendChild(this.iconContainer)}setSource(t){let e=new FileReader;e.onload=()=>{let t=e.result;t&&(this.image.src=t.toString())},e.readAsDataURL(t),this.a.onclick=()=>(this.onClickCallback(t.name),!1),this.a.id="thumbnail_"+t.name.replace(/\./g,"_")}static setStatus(t,e){let i=$("#thumbnail_"+(t=t.replace(/\./g,"_"))),n=i.find("div"),r=n.find("i"),s=i.find("span");switch(e){case"unedited":n.addClass("d-none"),r.removeClass().addClass("bi bi-floppy text-secondary"),s.text("Annotation has not been Edited");break;case"edited":n.removeClass("d-none"),r.removeClass().addClass("bi bi-floppy text-warning"),s.text("Annotation has been changed but not saved");break;case"saved":r.removeClass().addClass("bi bi-check text-success"),s.text("Annotation has been saved")}}toHtml(){return this.a}draw(){let t=this.canvas.offsetWidth;this.canvas.width=t,this.canvas.height=t;let e=t/Math.max(this.image.width,this.image.height),i=(t-this.image.width*e)/2,n=(t-this.image.height*e)/2;this.ctx.fillStyle="rgba(0,0,0,1)",this.ctx.fillRect(0,0,t,t),this.ctx.drawImage(this.image,i,n,this.image.width*e,this.image.height*e)}}(sj=sH||(sH={})).unedited="unedited",sj.edited="edited",sj.saved="saved";const rK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rW="ARRAYBUFFER not supported by this environment",rX="UINT8ARRAY not supported by this environment";function rY(t,e,i,n){let r,s,o;let a=e||[0],l=(i=i||0)>>>3,h=-1===n?3:0;for(r=0;r<t.length;r+=1)s=(o=r+l)>>>2,a.length<=s&&a.push(0),a[s]|=t[r]<<8*(h+o%4*n);return{value:a,binLen:8*t.length+i}}function rq(t,e,i){switch(e){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(t){case"HEX":return function(t,e,n){return function(t,e,i,n){let r,s,o,a;if(0!=t.length%2)throw Error("String of HEX type must be in byte increments");let l=e||[0],h=(i=i||0)>>>3,c=-1===n?3:0;for(r=0;r<t.length;r+=2){if(isNaN(s=parseInt(t.substr(r,2),16)))throw Error("String of HEX type contains invalid characters");for(o=(a=(r>>>1)+h)>>>2;l.length<=o;)l.push(0);l[o]|=s<<8*(c+a%4*n)}return{value:l,binLen:4*t.length+i}}(t,e,n,i)};case"TEXT":return function(t,n,r){return function(t,e,i,n,r){let s,o,a,l,h,c,u,d,f=0,p=i||[0],m=(n=n||0)>>>3;if("UTF8"===e)for(u=-1===r?3:0,a=0;a<t.length;a+=1)for(s=t.charCodeAt(a),o=[],128>s?o.push(s):2048>s?(o.push(192|s>>>6),o.push(128|63&s)):55296>s||57344<=s?o.push(224|s>>>12,128|s>>>6&63,128|63&s):(a+=1,s=65536+((1023&s)<<10|1023&t.charCodeAt(a)),o.push(240|s>>>18,128|s>>>12&63,128|s>>>6&63,128|63&s)),l=0;l<o.length;l+=1){for(h=(c=f+m)>>>2;p.length<=h;)p.push(0);p[h]|=o[l]<<8*(u+c%4*r),f+=1}else for(u=-1===r?2:0,d="UTF16LE"===e&&1!==r||"UTF16LE"!==e&&1===r,a=0;a<t.length;a+=1){for(s=t.charCodeAt(a),!0===d&&(s=(l=255&s)<<8|s>>>8),h=(c=f+m)>>>2;p.length<=h;)p.push(0);p[h]|=s<<8*(u+c%4*r),f+=2}return{value:p,binLen:8*f+n}}(t,e,n,r,i)};case"B64":return function(t,e,n){return function(t,e,i,n){let r,s,o,a,l,h,c=0,u=e||[0],d=(i=i||0)>>>3,f=-1===n?3:0,p=t.indexOf("=");if(-1===t.search(/^[a-zA-Z0-9=+/]+$/))throw Error("Invalid character in base-64 string");if(t=t.replace(/=/g,""),-1!==p&&p<t.length)throw Error("Invalid '=' found in base-64 string");for(r=0;r<t.length;r+=4){for(a=t.substr(r,4),o=0,s=0;s<a.length;s+=1)o|=rK.indexOf(a.charAt(s))<<18-6*s;for(s=0;s<a.length-1;s+=1){for(l=(h=c+d)>>>2;u.length<=l;)u.push(0);u[l]|=(o>>>16-8*s&255)<<8*(f+h%4*n),c+=1}}return{value:u,binLen:8*c+i}}(t,e,n,i)};case"BYTES":return function(t,e,n){return function(t,e,i,n){let r,s,o,a;let l=e||[0],h=(i=i||0)>>>3,c=-1===n?3:0;for(s=0;s<t.length;s+=1)r=t.charCodeAt(s),o=(a=s+h)>>>2,l.length<=o&&l.push(0),l[o]|=r<<8*(c+a%4*n);return{value:l,binLen:8*t.length+i}}(t,e,n,i)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw Error(rW)}return function(t,e,n){return rY(new Uint8Array(t),e,n,i)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw Error(rX)}return function(t,e,n){return rY(t,e,n,i)};default:throw Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function rJ(t,e,i,n){switch(t){case"HEX":return function(t){return function(t,e,i,n){let r="0123456789abcdef",s,o,a="",l=e/8,h=-1===i?3:0;for(s=0;s<l;s+=1)a+=r.charAt((o=t[s>>>2]>>>8*(h+s%4*i))>>>4&15)+r.charAt(15&o);return n.outputUpper?a.toUpperCase():a}(t,e,i,n)};case"B64":return function(t){return function(t,e,i,n){let r,s,o,a,l,h="",c=e/8,u=-1===i?3:0;for(r=0;r<c;r+=3)for(a=r+1<c?t[r+1>>>2]:0,l=r+2<c?t[r+2>>>2]:0,o=(t[r>>>2]>>>8*(u+r%4*i)&255)<<16|(a>>>8*(u+(r+1)%4*i)&255)<<8|l>>>8*(u+(r+2)%4*i)&255,s=0;s<4;s+=1)h+=8*r+6*s<=e?rK.charAt(o>>>6*(3-s)&63):n.b64Pad;return h}(t,e,i,n)};case"BYTES":return function(t){return function(t,e,i){let n,r="",s=e/8,o=-1===i?3:0;for(n=0;n<s;n+=1)r+=String.fromCharCode(t[n>>>2]>>>8*(o+n%4*i)&255);return r}(t,e,i)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw Error(rW)}return function(t){return function(t,e,i){let n;let r=e/8,s=new ArrayBuffer(r),o=new Uint8Array(s),a=-1===i?3:0;for(n=0;n<r;n+=1)o[n]=t[n>>>2]>>>8*(a+n%4*i)&255;return s}(t,e,i)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw Error(rX)}return function(t){return function(t,e,i){let n;let r=e/8,s=-1===i?3:0,o=new Uint8Array(r);for(n=0;n<r;n+=1)o[n]=t[n>>>2]>>>8*(s+n%4*i)&255;return o}(t,e,i)};default:throw Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const rQ=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],rZ=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],r1=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],r2="Chosen SHA variant is not supported",r3="Cannot set numRounds with MAC";function r0(t,e){let i,n;let r=t.binLen>>>3,s=e.binLen>>>3,o=r<<3,a=4-r<<3;if(r%4!=0){for(i=0;i<s;i+=4)n=r+i>>>2,t.value[n]|=e.value[i>>>2]<<o,t.value.push(0),t.value[n+1]|=e.value[i>>>2]>>>a;return(t.value.length<<2)-4>=s+r&&t.value.pop(),{value:t.value,binLen:t.binLen+e.binLen}}return{value:t.value.concat(e.value),binLen:t.binLen+e.binLen}}function r4(t){let e={outputUpper:!1,b64Pad:"=",outputLen:-1},i=t||{},n="Output length must be a multiple of 8";if(e.outputUpper=i.outputUpper||!1,i.b64Pad&&(e.b64Pad=i.b64Pad),i.outputLen){if(i.outputLen%8!=0)throw Error(n);e.outputLen=i.outputLen}else if(i.shakeLen){if(i.shakeLen%8!=0)throw Error(n);e.outputLen=i.shakeLen}if("boolean"!=typeof e.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof e.b64Pad)throw Error("Invalid b64Pad formatting option");return e}function r5(t,e,i,n){let r=t+" must include a value and format";if(!e){if(!n)throw Error(r);return n}if(void 0===e.value||!e.format)throw Error(r);return rq(e.format,e.encoding||"UTF8",i)(e.value)}class r6{constructor(t,e,i){let n=i||{};if(this.t=e,this.i=n.encoding||"UTF8",this.numRounds=n.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw Error("numRounds must a integer >= 1");this.o=t,this.h=[],this.u=0,this.l=!1,this.A=0,this.H=!1,this.S=[],this.p=[]}update(t){let e,i=0,n=this.m>>>5,r=this.C(t,this.h,this.u),s=r.binLen,o=r.value,a=s>>>5;for(e=0;e<a;e+=n)i+this.m<=s&&(this.U=this.v(o.slice(e,e+n),this.U),i+=this.m);return this.A+=i,this.h=o.slice(i>>>5),this.u=s%this.m,this.l=!0,this}getHash(t,e){let i,n,r=this.R,s=r4(e);if(this.K){if(-1===s.outputLen)throw Error("Output length must be specified in options");r=s.outputLen}let o=rJ(t,r,this.T,s);if(this.H&&this.g)return o(this.g(s));for(n=this.F(this.h.slice(),this.u,this.A,this.L(this.U),r),i=1;i<this.numRounds;i+=1)this.K&&r%32!=0&&(n[n.length-1]&=16777215>>>24-r%32),n=this.F(n,r,0,this.B(this.o),r);return o(n)}setHMACKey(t,e,i){if(!this.M)throw Error("Variant does not support HMAC");if(this.l)throw Error("Cannot set MAC key after calling update");let n=rq(e,(i||{}).encoding||"UTF8",this.T);this.k(n(t))}k(t){let e;let i=this.m>>>3,n=i/4-1;if(1!==this.numRounds)throw Error(r3);if(this.H)throw Error("MAC key already set");for(i<t.binLen/8&&(t.value=this.F(t.value,t.binLen,0,this.B(this.o),this.R));t.value.length<=n;)t.value.push(0);for(e=0;e<=n;e+=1)this.S[e]=909522486^t.value[e],this.p[e]=1549556828^t.value[e];this.U=this.v(this.S,this.U),this.A=this.m,this.H=!0}getHMAC(t,e){let i=r4(e);return rJ(t,this.R,this.T,i)(this.Y())}Y(){let t;if(!this.H)throw Error("Cannot call getHMAC without first setting MAC key");let e=this.F(this.h.slice(),this.u,this.A,this.L(this.U),this.R);return t=this.v(this.p,this.B(this.o)),t=this.F(e,this.R,this.m,t,this.R)}}function r8(t,e){return t<<e|t>>>32-e}function r7(t,e){return t>>>e|t<<32-e}function r9(t,e){let i=(65535&t)+(65535&e);return(65535&(t>>>16)+(e>>>16)+(i>>>16))<<16|65535&i}function st(t,e,i,n,r){let s=(65535&t)+(65535&e)+(65535&i)+(65535&n)+(65535&r);return(65535&(t>>>16)+(e>>>16)+(i>>>16)+(n>>>16)+(r>>>16)+(s>>>16))<<16|65535&s}function se(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function si(t,e){let i,n,r,s,o,a,l;let h=[];for(i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],l=0;l<80;l+=1){var c,u,d,f;h[l]=l<16?t[l]:r8(h[l-3]^h[l-8]^h[l-14]^h[l-16],1),a=l<20?st(r8(i,5),(c=n)&r^~c&s,o,1518500249,h[l]):l<40?st(r8(i,5),n^r^s,o,1859775393,h[l]):l<60?st(r8(i,5),(u=n)&(d=r)^u&(f=s)^d&f,o,2400959708,h[l]):st(r8(i,5),n^r^s,o,3395469782,h[l]),o=s,s=r,r=r8(n,30),n=i,i=a}return e[0]=r9(i,e[0]),e[1]=r9(n,e[1]),e[2]=r9(r,e[2]),e[3]=r9(s,e[3]),e[4]=r9(o,e[4]),e}function sn(t,e,i,n){let r;let s=15+(e+65>>>9<<4),o=e+i;for(;t.length<=s;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[s]=4294967295&o,t[s-1]=o/4294967296|0,r=0;r<t.length;r+=16)n=si(t.slice(r,r+16),n);return n}let sr=class extends r6{constructor(t,e,i){if("SHA-1"!==t)throw Error(r2);super(t,e,i);let n=i||{};this.M=!0,this.g=this.Y,this.T=-1,this.C=rq(this.t,this.i,this.T),this.v=si,this.L=function(t){return t.slice()},this.B=se,this.F=sn,this.U=[1732584193,4023233417,2562383102,271733878,3285377520],this.m=512,this.R=160,this.K=!1,n.hmacKey&&this.k(r5("hmacKey",n.hmacKey,this.T))}};function ss(t){return"SHA-224"==t?rZ.slice():r1.slice()}function so(t,e){var i,n,r,s,o,a,l,h;let c,u,d,f,p,m,g,_,v,y,w;let b=[];for(c=e[0],u=e[1],d=e[2],f=e[3],p=e[4],m=e[5],g=e[6],_=e[7],w=0;w<64;w+=1)b[w]=w<16?t[w]:function(t,e,i,n){let r=(65535&t)+(65535&e)+(65535&i)+(65535&n);return(65535&(t>>>16)+(e>>>16)+(i>>>16)+(n>>>16)+(r>>>16))<<16|65535&r}(r7(i=b[w-2],17)^r7(i,19)^i>>>10,b[w-7],r7(h=b[w-15],7)^r7(h,18)^h>>>3,b[w-16]),v=st(_,r7(n=p,6)^r7(n,11)^r7(n,25),(r=p)&m^~r&g,rQ[w],b[w]),y=r9(r7(s=c,2)^r7(s,13)^r7(s,22),(o=c)&(a=u)^o&(l=d)^a&l),_=g,g=m,m=p,p=r9(f,v),f=d,d=u,u=c,c=r9(v,y);return e[0]=r9(c,e[0]),e[1]=r9(u,e[1]),e[2]=r9(d,e[2]),e[3]=r9(f,e[3]),e[4]=r9(p,e[4]),e[5]=r9(m,e[5]),e[6]=r9(g,e[6]),e[7]=r9(_,e[7]),e}let sa=class extends r6{constructor(t,e,i){if("SHA-224"!==t&&"SHA-256"!==t)throw Error(r2);super(t,e,i);let n=i||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=rq(this.t,this.i,this.T),this.v=so,this.L=function(t){return t.slice()},this.B=ss,this.F=function(e,i,n,r){return function(t,e,i,n,r){let s;let o=15+(e+65>>>9<<4),a=e+i;for(;t.length<=o;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[o]=4294967295&a,t[o-1]=a/4294967296|0,s=0;s<t.length;s+=16)n=so(t.slice(s,s+16),n);return"SHA-224"===r?[n[0],n[1],n[2],n[3],n[4],n[5],n[6]]:n}(e,i,n,r,t)},this.U=ss(t),this.m=512,this.R="SHA-224"===t?224:256,this.K=!1,n.hmacKey&&this.k(r5("hmacKey",n.hmacKey,this.T))}};class sl{constructor(t,e){this.N=t,this.I=e}}function sh(t,e){let i;return e>32?(i=64-e,new sl(t.I<<e|t.N>>>i,t.N<<e|t.I>>>i)):0!==e?(i=32-e,new sl(t.N<<e|t.I>>>i,t.I<<e|t.N>>>i)):t}function sc(t,e){let i;return e<32?(i=32-e,new sl(t.N>>>e|t.I<<i,t.I>>>e|t.N<<i)):(i=64-e,new sl(t.I>>>e|t.N<<i,t.N>>>e|t.I<<i))}function su(t,e){return new sl(t.N>>>e,t.I>>>e|t.N<<32-e)}function sd(t,e){let i,n;i=(65535&t.I)+(65535&e.I);let r=(65535&(n=(t.I>>>16)+(e.I>>>16)+(i>>>16)))<<16|65535&i;return i=(65535&t.N)+(65535&e.N)+(n>>>16),new sl((65535&(n=(t.N>>>16)+(e.N>>>16)+(i>>>16)))<<16|65535&i,r)}function sf(t,e){return new sl(t.N^e.N,t.I^e.I)}const sp=[new sl(rQ[0],3609767458),new sl(rQ[1],602891725),new sl(rQ[2],3964484399),new sl(rQ[3],2173295548),new sl(rQ[4],4081628472),new sl(rQ[5],3053834265),new sl(rQ[6],2937671579),new sl(rQ[7],3664609560),new sl(rQ[8],2734883394),new sl(rQ[9],1164996542),new sl(rQ[10],1323610764),new sl(rQ[11],3590304994),new sl(rQ[12],4068182383),new sl(rQ[13],991336113),new sl(rQ[14],633803317),new sl(rQ[15],3479774868),new sl(rQ[16],2666613458),new sl(rQ[17],944711139),new sl(rQ[18],2341262773),new sl(rQ[19],2007800933),new sl(rQ[20],1495990901),new sl(rQ[21],1856431235),new sl(rQ[22],3175218132),new sl(rQ[23],2198950837),new sl(rQ[24],3999719339),new sl(rQ[25],766784016),new sl(rQ[26],2566594879),new sl(rQ[27],3203337956),new sl(rQ[28],1034457026),new sl(rQ[29],2466948901),new sl(rQ[30],3758326383),new sl(rQ[31],168717936),new sl(rQ[32],1188179964),new sl(rQ[33],1546045734),new sl(rQ[34],1522805485),new sl(rQ[35],2643833823),new sl(rQ[36],2343527390),new sl(rQ[37],1014477480),new sl(rQ[38],1206759142),new sl(rQ[39],344077627),new sl(rQ[40],1290863460),new sl(rQ[41],3158454273),new sl(rQ[42],3505952657),new sl(rQ[43],106217008),new sl(rQ[44],3606008344),new sl(rQ[45],1432725776),new sl(rQ[46],1467031594),new sl(rQ[47],851169720),new sl(rQ[48],3100823752),new sl(rQ[49],1363258195),new sl(rQ[50],3750685593),new sl(rQ[51],3785050280),new sl(rQ[52],3318307427),new sl(rQ[53],3812723403),new sl(rQ[54],2003034995),new sl(rQ[55],3602036899),new sl(rQ[56],1575990012),new sl(rQ[57],1125592928),new sl(rQ[58],2716904306),new sl(rQ[59],442776044),new sl(rQ[60],593698344),new sl(rQ[61],3733110249),new sl(rQ[62],2999351573),new sl(rQ[63],3815920427),new sl(3391569614,3928383900),new sl(3515267271,566280711),new sl(3940187606,3454069534),new sl(4118630271,4000239992),new sl(116418474,1914138554),new sl(174292421,2731055270),new sl(289380356,3203993006),new sl(460393269,320620315),new sl(685471733,587496836),new sl(852142971,1086792851),new sl(1017036298,365543100),new sl(1126000580,2618297676),new sl(1288033470,3409855158),new sl(1501505948,4234509866),new sl(1607167915,987167468),new sl(1816402316,1246189591)];function sm(t){return"SHA-384"===t?[new sl(3418070365,rZ[0]),new sl(1654270250,rZ[1]),new sl(2438529370,rZ[2]),new sl(355462360,rZ[3]),new sl(1731405415,rZ[4]),new sl(41048885895,rZ[5]),new sl(3675008525,rZ[6]),new sl(1203062813,rZ[7])]:[new sl(r1[0],4089235720),new sl(r1[1],2227873595),new sl(r1[2],4271175723),new sl(r1[3],1595750129),new sl(r1[4],2917565137),new sl(r1[5],725511199),new sl(r1[6],4215389547),new sl(r1[7],327033209)]}function sg(t,e){var i,n,r,s,o,a;let l,h,c,u,d,f,p,m,g,_,v,y;let w=[];for(l=e[0],h=e[1],c=e[2],u=e[3],d=e[4],f=e[5],p=e[6],m=e[7],v=0;v<80;v+=1)v<16?(y=2*v,w[v]=new sl(t[y],t[y+1])):w[v]=function(t,e,i,n){let r,s;r=(65535&t.I)+(65535&e.I)+(65535&i.I)+(65535&n.I);let o=(65535&(s=(t.I>>>16)+(e.I>>>16)+(i.I>>>16)+(n.I>>>16)+(r>>>16)))<<16|65535&r;return r=(65535&t.N)+(65535&e.N)+(65535&i.N)+(65535&n.N)+(s>>>16),new sl((65535&(s=(t.N>>>16)+(e.N>>>16)+(i.N>>>16)+(n.N>>>16)+(r>>>16)))<<16|65535&r,o)}(function(t){let e=sc(t,19),i=sc(t,61),n=su(t,6);return new sl(e.N^i.N^n.N,e.I^i.I^n.I)}(w[v-2]),w[v-7],function(t){let e=sc(t,1),i=sc(t,8),n=su(t,7);return new sl(e.N^i.N^n.N,e.I^i.I^n.I)}(w[v-15]),w[v-16]),g=function(t,e,i,n,r){let s,o;s=(65535&t.I)+(65535&e.I)+(65535&i.I)+(65535&n.I)+(65535&r.I);let a=(65535&(o=(t.I>>>16)+(e.I>>>16)+(i.I>>>16)+(n.I>>>16)+(r.I>>>16)+(s>>>16)))<<16|65535&s;return s=(65535&t.N)+(65535&e.N)+(65535&i.N)+(65535&n.N)+(65535&r.N)+(o>>>16),new sl((65535&(o=(t.N>>>16)+(e.N>>>16)+(i.N>>>16)+(n.N>>>16)+(r.N>>>16)+(s>>>16)))<<16|65535&s,a)}(m,function(t){let e=sc(t,14),i=sc(t,18),n=sc(t,41);return new sl(e.N^i.N^n.N,e.I^i.I^n.I)}(d),(n=f,r=p,new sl((i=d).N&n.N^~i.N&r.N,i.I&n.I^~i.I&r.I)),sp[v],w[v]),_=sd(function(t){let e=sc(t,28),i=sc(t,34),n=sc(t,39);return new sl(e.N^i.N^n.N,e.I^i.I^n.I)}(l),(s=l,o=h,a=c,new sl(s.N&o.N^s.N&a.N^o.N&a.N,s.I&o.I^s.I&a.I^o.I&a.I))),m=p,p=f,f=d,d=sd(u,g),u=c,c=h,h=l,l=sd(g,_);return e[0]=sd(l,e[0]),e[1]=sd(h,e[1]),e[2]=sd(c,e[2]),e[3]=sd(u,e[3]),e[4]=sd(d,e[4]),e[5]=sd(f,e[5]),e[6]=sd(p,e[6]),e[7]=sd(m,e[7]),e}let s_=class extends r6{constructor(t,e,i){if("SHA-384"!==t&&"SHA-512"!==t)throw Error(r2);super(t,e,i);let n=i||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=rq(this.t,this.i,this.T),this.v=sg,this.L=function(t){return t.slice()},this.B=sm,this.F=function(e,i,n,r){return function(t,e,i,n,r){let s;let o=31+(e+129>>>10<<5),a=e+i;for(;t.length<=o;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[o]=4294967295&a,t[o-1]=a/4294967296|0,s=0;s<t.length;s+=32)n=sg(t.slice(s,s+32),n);return"SHA-384"===r?[n[0].N,n[0].I,n[1].N,n[1].I,n[2].N,n[2].I,n[3].N,n[3].I,n[4].N,n[4].I,n[5].N,n[5].I]:[n[0].N,n[0].I,n[1].N,n[1].I,n[2].N,n[2].I,n[3].N,n[3].I,n[4].N,n[4].I,n[5].N,n[5].I,n[6].N,n[6].I,n[7].N,n[7].I]}(e,i,n,r,t)},this.U=sm(t),this.m=1024,this.R="SHA-384"===t?384:512,this.K=!1,n.hmacKey&&this.k(r5("hmacKey",n.hmacKey,this.T))}};const sv=[new sl(0,1),new sl(0,32898),new sl(2147483648,32906),new sl(2147483648,2147516416),new sl(0,32907),new sl(0,2147483649),new sl(2147483648,2147516545),new sl(2147483648,32777),new sl(0,138),new sl(0,136),new sl(0,2147516425),new sl(0,2147483658),new sl(0,2147516555),new sl(2147483648,139),new sl(2147483648,32905),new sl(2147483648,32771),new sl(2147483648,32770),new sl(2147483648,128),new sl(0,32778),new sl(2147483648,2147483658),new sl(2147483648,2147516545),new sl(2147483648,32896),new sl(0,2147483649),new sl(2147483648,2147516424)],sy=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function sw(t){let e;let i=[];for(e=0;e<5;e+=1)i[e]=[new sl(0,0),new sl(0,0),new sl(0,0),new sl(0,0),new sl(0,0)];return i}function sb(t){let e;let i=[];for(e=0;e<5;e+=1)i[e]=t[e].slice();return i}function sA(t,e){var i,n,r,s,o;let a,l,h,c;let u=[],d=[];if(null!==t)for(l=0;l<t.length;l+=2)e[(l>>>1)%5][(l>>>1)/5|0]=sf(e[(l>>>1)%5][(l>>>1)/5|0],new sl(t[l+1],t[l]));for(a=0;a<24;a+=1){for(c=sw(),l=0;l<5;l+=1)u[l]=(i=e[l][0],n=e[l][1],r=e[l][2],s=e[l][3],o=e[l][4],new sl(i.N^n.N^r.N^s.N^o.N,i.I^n.I^r.I^s.I^o.I));for(l=0;l<5;l+=1)d[l]=sf(u[(l+4)%5],sh(u[(l+1)%5],1));for(l=0;l<5;l+=1)for(h=0;h<5;h+=1)e[l][h]=sf(e[l][h],d[l]);for(l=0;l<5;l+=1)for(h=0;h<5;h+=1)c[h][(2*l+3*h)%5]=sh(e[l][h],sy[l][h]);for(l=0;l<5;l+=1)for(h=0;h<5;h+=1)e[l][h]=sf(c[l][h],new sl(~c[(l+1)%5][h].N&c[(l+2)%5][h].N,~c[(l+1)%5][h].I&c[(l+2)%5][h].I));e[0][0]=sf(e[0][0],sv[a])}return e}function sE(t){let e,i,n=0,r=[0,0],s=[4294967295&t,t/4294967296&2097151];for(e=6;e>=0;e--)0==(i=s[e>>2]>>>8*e&255)&&0===n||(r[n+1>>2]|=i<<8*(n+1),n+=1);return n=0!==n?n:1,r[0]|=n,{value:n+1>4?r:[r[0]],binLen:8+8*n}}function sT(t){return r0(sE(t.binLen),t)}function sS(t,e){let i,n=sE(e);n=r0(n,t);let r=e>>>2,s=(r-n.value.length%r)%r;for(i=0;i<s;i++)n.value.push(0);return n.value}let sk=class extends r6{constructor(t,e,i){let n=6,r=0;super(t,e,i);let s=i||{};if(1!==this.numRounds){if(s.kmacKey||s.hmacKey)throw Error(r3);if("CSHAKE128"===this.o||"CSHAKE256"===this.o)throw Error("Cannot set numRounds for CSHAKE variants")}switch(this.T=1,this.C=rq(this.t,this.i,this.T),this.v=sA,this.L=sb,this.B=sw,this.U=sw(),this.K=!1,t){case"SHA3-224":this.m=r=1152,this.R=224,this.M=!0,this.g=this.Y;break;case"SHA3-256":this.m=r=1088,this.R=256,this.M=!0,this.g=this.Y;break;case"SHA3-384":this.m=r=832,this.R=384,this.M=!0,this.g=this.Y;break;case"SHA3-512":this.m=r=576,this.R=512,this.M=!0,this.g=this.Y;break;case"SHAKE128":n=31,this.m=r=1344,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"SHAKE256":n=31,this.m=r=1088,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"KMAC128":n=4,this.m=r=1344,this.X(i),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"KMAC256":n=4,this.m=r=1088,this.X(i),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"CSHAKE128":this.m=r=1344,n=this.O(i),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"CSHAKE256":this.m=r=1088,n=this.O(i),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;default:throw Error(r2)}this.F=function(t,e,i,s,o){return function(t,e,i,n,r,s,o){let a,l,h=0,c=[],u=r>>>5,d=e>>>5;for(a=0;a<d&&e>=r;a+=u)n=sA(t.slice(a,a+u),n),e-=r;for(t=t.slice(a),e%=r;t.length<u;)t.push(0);for(a=e>>>3,t[a>>2]^=s<<a%4*8,t[u-1]^=2147483648,n=sA(t,n);32*c.length<o&&(c.push((l=n[h%5][h/5|0]).I),!(32*c.length>=o));)c.push(l.N),0==64*(h+=1)%r&&(sA(null,n),h=0);return c}(t,e,0,s,r,n,o)},s.hmacKey&&this.k(r5("hmacKey",s.hmacKey,this.T))}O(t,e){let i=function(t){let e=t||{};return{funcName:r5("funcName",e.funcName,1,{value:[],binLen:0}),customization:r5("Customization",e.customization,1,{value:[],binLen:0})}}(t||{});e&&(i.funcName=e);let n=r0(sT(i.funcName),sT(i.customization));if(0!==i.customization.binLen||0!==i.funcName.binLen){let t=sS(n,this.m>>>3);for(let e=0;e<t.length;e+=this.m>>>5)this.U=this.v(t.slice(e,e+(this.m>>>5)),this.U),this.A+=this.m;return 4}return 31}X(t){let e=function(t){let e=t||{};return{kmacKey:r5("kmacKey",e.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:r5("Customization",e.customization,1,{value:[],binLen:0})}}(t||{});this.O(t,e.funcName);let i=sS(sT(e.kmacKey),this.m>>>3);for(let t=0;t<i.length;t+=this.m>>>5)this.U=this.v(i.slice(t,t+(this.m>>>5)),this.U),this.A+=this.m;this.H=!0}_(t){let e=r0({value:this.h.slice(),binLen:this.u},function(t){let e,i,n=0,r=[0,0],s=[4294967295&t,t/4294967296&2097151];for(e=6;e>=0;e--)0==(i=s[e>>2]>>>8*e&255)&&0===n||(r[n>>2]|=i<<8*n,n+=1);return n=0!==n?n:1,r[n>>2]|=n<<8*n,{value:n+1>4?r:[r[0]],binLen:8+8*n}}(t.outputLen));return this.F(e.value,e.binLen,this.A,this.L(this.U),t.outputLen)}};class sx{constructor(t,e,i){if("SHA-1"==t)this.P=new sr(t,e,i);else if("SHA-224"==t||"SHA-256"==t)this.P=new sa(t,e,i);else if("SHA-384"==t||"SHA-512"==t)this.P=new s_(t,e,i);else{if("SHA3-224"!=t&&"SHA3-256"!=t&&"SHA3-384"!=t&&"SHA3-512"!=t&&"SHAKE128"!=t&&"SHAKE256"!=t&&"CSHAKE128"!=t&&"CSHAKE256"!=t&&"KMAC128"!=t&&"KMAC256"!=t)throw Error(r2);this.P=new sk(t,e,i)}}update(t){return this.P.update(t),this}getHash(t,e){return this.P.getHash(t,e)}setHMACKey(t,e,i){this.P.setHMACKey(t,e,i)}getHMAC(t,e){return this.P.getHMAC(t,e)}}function sC(t){return new Promise((e,i)=>{let n=new FileReader;n.onload=function(t){let i=t.target.result,n=new sx("SHA-256","ARRAYBUFFER");n.update(new Uint8Array(i)),e(n.getHash("HEX"))},n.onerror=function(t){i(Error(`An error occurred while reading the file: ${t}`))},n.readAsArrayBuffer(t)})}class sL{constructor(t,e){this.history=[],this.currentHistoryIndex=0,this._file=t,this.cacheSize=e,sC(this._file).then(t=>this._hash=t),this._readyToSave=!1}get file(){return this._file}get hash(){return this._hash}get readyToSave(){return this._readyToSave}set readyToSave(t){this._readyToSave=t}add(t){this.currentHistoryIndex+1<this.history.length&&(this.history.length=this.currentHistoryIndex+1),this.cacheSize===this.history.length&&this.history.shift(),this.history.push(t.clone()),this.currentHistoryIndex=this.history.length-1}setIndex(t){t<0?t=0:t>=this.history.length&&(t=this.history.length-1),this.currentHistoryIndex=t}next(){this.setIndex(this.currentHistoryIndex+1)}previous(){this.setIndex(this.currentHistoryIndex-1)}get(){return this.isEmpty()?null:this.history[this.currentHistoryIndex]}isEmpty(){return 0===this.history.length}clear(){this.history.length=0,this.currentHistoryIndex=0}markAsSent(){this.readyToSave=!1}}class sI{constructor(t,e,i,n){this._selected=!1,this._hovered=!1,this._deleted=!1,this._id=t,this._x=e,this._y=i,this.neighbourIds=n}get selected(){return this._selected}set selected(t){this._selected=t}get hovered(){return this._hovered}set hovered(t){this._hovered=t}get deleted(){return this._deleted}set deleted(t){this._deleted=t}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}toString(){return`Point2D(id=${this.id}, x=${this.x}, y=${this.y})`}get id(){return this._id}getNeighbourIds(){return[...this.neighbourIds]}moveTo(t){this.x=t.x,this.y=t.y}clone(){let t=new sI(this.id,this._x,this._y,this.neighbourIds);return t.hovered=this.hovered,t.deleted=this.deleted,t.selected=this.selected,t}toDict(){return{id:this.id,x:this.x,y:this.y,deleted:this.deleted}}}class sM{static normalizedToDisplay(t,e){let i=e.clone();return i.x=e.x*t.width,i.y=e.y*t.height,i}static project(t,e){let i=sM.normalizedToDisplay(t,e),n=e.clone();return n.x=i.x,n.y=i.y,n}static distanceTo(t,e,i){let n=sM.project(t,e),r=sM.project(t,i);return Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2))}static intersects(t,e,i,n){return this.distanceTo(t,e,i)<=n}static displayToNormalized(t,e){let i=e.clone();return i.x=e.x/t.width,i.y=e.y/t.height,i}static unproject(t,e){let i=sM.displayToNormalized(t,e),n=e.clone();return n.x=i.x,n.y=i.y,n}}class sO{constructor(t){this._points=t}get points(){return this._points}static fromJson(t,e){return new sO(t.map(t=>{let i=e(t.id);return delete t.id,Object.assign(i,t)}))}getById(t){return this.points.find(e=>e.id===t)}getNeighbourPointsOf(t){return t.getNeighbourIds().map(t=>this.getById(t))}getSelected(){return this.points.find(t=>t.selected&&t.hovered)}clone(){return new sO(this.points.map(t=>t.clone()))}toDictArray(){return this.points.map(t=>t.toDict())}}var sN="undefined"!=typeof self?self:{};function sP(t){t:{for(var e=["CLOSURE_FLAGS"],i=sN,n=0;n<e.length;n++)if(null==(i=i[e[n]])){e=null;break t}e=i}return null!=(t=e&&e[t])&&t}function sF(){throw Error("Invalid UTF8")}function sR(t,e){return e=String.fromCharCode.apply(null,e),null==t?e:t+e}const sD="undefined"!=typeof TextDecoder,sU="undefined"!=typeof TextEncoder;function sB(t){if(sU)t=(i||=new TextEncoder).encode(t);else{let i=0,n=new Uint8Array(3*t.length);for(let r=0;r<t.length;r++){var e=t.charCodeAt(r);if(128>e)n[i++]=e;else{if(2048>e)n[i++]=e>>6|192;else{if(55296<=e&&57343>=e){if(56319>=e&&r<t.length){let s=t.charCodeAt(++r);if(56320<=s&&57343>=s){e=1024*(e-55296)+s-56320+65536,n[i++]=e>>18|240,n[i++]=e>>12&63|128,n[i++]=e>>6&63|128,n[i++]=63&e|128;continue}r--}e=65533}n[i++]=e>>12|224,n[i++]=e>>6&63|128}n[i++]=63&e|128}}t=i===n.length?n:n.subarray(0,i)}return t}var sj,sH,s$,sG=sP(610401301),sz=sP(188588736);const sV=sN.navigator;function sK(t){return!!sG&&!!s$&&s$.brands.some(({brand:e})=>e&&-1!=e.indexOf(t))}function sW(t){var e;return(e=sN.navigator)&&(e=e.userAgent)||(e=""),-1!=e.indexOf(t)}function sX(){return!!sG&&!!s$&&0<s$.brands.length}function sY(){return sX()?sK("Chromium"):(sW("Chrome")||sW("CriOS"))&&!(!sX()&&sW("Edge"))||sW("Silk")}function sq(t){return sq[" "](t),t}s$=sV&&sV.userAgentData||null,sq[" "]=function(){};var sJ=!sX()&&(sW("Trident")||sW("MSIE"));sW("Android")&&sY(),sY(),sW("Safari")&&(sY()||!sX()&&sW("Coast")||!sX()&&sW("Opera")||!sX()&&sW("Edge")||(sX()?sK("Microsoft Edge"):sW("Edg/"))||sX()&&sK("Opera"));var sQ={},sZ=null;function s1(){if(!sZ){sZ={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],i=0;5>i;i++){var n=t.concat(e[i].split(""));sQ[i]=n;for(var r=0;r<n.length;r++){var s=n[r];void 0===sZ[s]&&(sZ[s]=r)}}}}var s2="undefined"!=typeof Uint8Array,s3=!sJ&&"function"==typeof btoa;function s0(t){if(!s3){void 0===e&&(e=0),s1(),e=sQ[e];var e,i=Array(Math.floor(t.length/3)),n=e[64]||"";let l=0,h=0;for(;l<t.length-2;l+=3){var r=t[l],s=t[l+1],o=t[l+2],a=e[r>>2];r=e[(3&r)<<4|s>>4],s=e[(15&s)<<2|o>>6],o=e[63&o],i[h++]=a+r+s+o}switch(a=0,o=n,t.length-l){case 2:o=e[(15&(a=t[l+1]))<<2]||n;case 1:t=t[l],i[h]=e[t>>2]+e[(3&t)<<4|a>>4]+o+n}return i.join("")}for(e="",i=0,n=t.length-10240;i<n;)e+=String.fromCharCode.apply(null,t.subarray(i,i+=10240));return btoa(e+=String.fromCharCode.apply(null,i?t.subarray(i):t))}const s4=/[-_.]/g,s5={"-":"+",_:"/",".":"="};function s6(t){return s5[t]||""}function s8(t){if(!s3){var e,i,n,r,s;return(n=3*(i=(e=t).length)/4)%3?n=Math.floor(n):-1!="=.".indexOf(e[i-1])&&(n=-1!="=.".indexOf(e[i-2])?n-2:n-1),r=new Uint8Array(n),s=0,function(t,e){function i(e){for(;n<t.length;){var i=t.charAt(n++),r=sZ[i];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(i))throw Error("Unknown base64 encoding at char: "+i)}return e}s1();for(var n=0;;){var r=i(-1),s=i(0),o=i(64),a=i(64);if(64===a&&-1===r)break;e(r<<2|s>>4),64!=o&&(e(s<<4&240|o>>2),64!=a&&e(o<<6&192|a))}}(e,function(t){r[s++]=t}),s!==n?r.subarray(0,s):r}s4.test(t)&&(t=t.replace(s4,s6));let o=new Uint8Array((t=atob(t)).length);for(let e=0;e<t.length;e++)o[e]=t.charCodeAt(e);return o}function s7(t){return s2&&null!=t&&t instanceof Uint8Array}function s9(){return n||=new Uint8Array(0)}var ot={};function oe(t){if(t!==ot)throw Error("illegal external caller")}function oi(){return r||=new or(null,ot)}function on(t){oe(ot);var e=t.g;return null==(e=null==e||s7(e)?e:"string"==typeof e?s8(e):null)?e:t.g=e}var or=class{constructor(t,e){if(oe(e),this.g=t,null!=t&&0===t.length)throw Error("ByteString should be constructed with non-empty values")}h(){let t=on(this);return t?new Uint8Array(t):s9()}};function os(t,e){return Error(`Invalid wire type: ${t} (at position ${e})`)}function oo(){return Error("Failed to read varint, encoding is invalid.")}function oa(t,e){return Error(`Tried to read past the end of the data ${e} > ${t}`)}function ol(t){if("string"==typeof t)return{buffer:s8(t),P:!1};if(Array.isArray(t))return{buffer:new Uint8Array(t),P:!1};if(t.constructor===Uint8Array)return{buffer:t,P:!1};if(t.constructor===ArrayBuffer)return{buffer:new Uint8Array(t),P:!1};if(t.constructor===or)return{buffer:on(t)||s9(),P:!0};if(t instanceof Uint8Array)return{buffer:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),P:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function oh(){return"function"==typeof BigInt}const oc="function"==typeof Uint8Array.prototype.slice;let ou,od=0,of=0;function op(t){let e=0>t,i=(t=Math.abs(t))>>>0;if(t=Math.floor((t-i)/4294967296),e){let[e,n]=oA(i,t);t=n,i=e}od=i>>>0,of=t>>>0}function om(t){let e=ou||=new DataView(new ArrayBuffer(8));e.setFloat32(0,+t,!0),of=0,od=e.getUint32(0,!0)}function og(t,e){return 4294967296*e+(t>>>0)}function o_(t,e){let i=2147483648&e;return i&&(e=~e>>>0,0==(t=1+~t>>>0)&&(e=e+1>>>0)),t=og(t,e),i?-t:t}function ov(t,e){if(t>>>=0,2097151>=(e>>>=0))var i=""+(4294967296*e+t);else oh()?i=""+(BigInt(e)<<BigInt(32)|BigInt(t)):(t=(16777215&t)+6777216*(i=16777215&(t>>>24|e<<8))+6710656*(e=e>>16&65535),i+=8147497*e,e*=2,1e7<=t&&(i+=Math.floor(t/1e7),t%=1e7),1e7<=i&&(e+=Math.floor(i/1e7),i%=1e7),i=e+oy(i)+oy(t));return i}function oy(t){return t=String(t),"0000000".slice(t.length)+t}function ow(){var t=od,e=of;if(2147483648&e){if(oh())t=""+(BigInt(0|e)<<BigInt(32)|BigInt(t>>>0));else{let[i,n]=oA(t,e);t="-"+ov(i,n)}}else t=ov(t,e);return t}function ob(t){if(16>t.length)op(Number(t));else if(oh())od=Number((t=BigInt(t))&BigInt(4294967295))>>>0,of=Number(t>>BigInt(32)&BigInt(4294967295));else{let e=+("-"===t[0]);of=od=0;let i=t.length;for(let n=e,r=(i-e)%6+e;r<=i;n=r,r+=6){let e=Number(t.slice(n,r));of*=1e6,4294967296<=(od=1e6*od+e)&&(of+=Math.trunc(od/4294967296),of>>>=0,od>>>=0)}if(e){let[t,e]=oA(od,of);od=t,of=e}}}function oA(t,e){return e=~e,t?t=1+~t:e+=1,[t,e]}function oE(t,e){let i,n=0,r=0,s=0,o=t.h,a=t.g;do n|=(127&(i=o[a++]))<<s,s+=7;while(32>s&&128&i)for(32<s&&(r|=(127&i)>>4),s=3;32>s&&128&i;s+=7)r|=(127&(i=o[a++]))<<s;if(oM(t,a),128>i)return e(n>>>0,r>>>0);throw oo()}function oT(t){let e=0,i=t.g,n=i+10,r=t.h;for(;i<n;){let n=r[i++];if(e|=n,0==(128&n))return oM(t,i),!!(127&e)}throw oo()}function oS(t){let e=t.h,i=t.g,n=e[i++],r=127&n;if(128&n&&(r|=(127&(n=e[i++]))<<7,128&n&&(r|=(127&(n=e[i++]))<<14,128&n&&(r|=(127&(n=e[i++]))<<21,128&n&&(r|=(n=e[i++])<<28,128&n&&128&e[i++]&&128&e[i++]&&128&e[i++]&&128&e[i++]&&128&e[i++])))))throw oo();return oM(t,i),r}function ok(t){return oS(t)>>>0}function ox(t){var e=t.h;let i=t.g,n=e[i],r=e[i+1],s=e[i+2];return e=e[i+3],oM(t,t.g+4),(n<<0|r<<8|s<<16|e<<24)>>>0}function oC(t){var e=ox(t);t=2*(e>>31)+1;let i=e>>>23&255;return e&=8388607,255==i?e?NaN:1/0*t:0==i?1401298464324817e-60*t*e:t*Math.pow(2,i-150)*(e+8388608)}function oL(t){return oS(t)}function oI(t,e,{ca:i=!1}={}){t.ca=i,e&&(e=ol(e),t.h=e.buffer,t.m=e.P,t.j=0,t.l=t.h.length,t.g=t.j)}function oM(t,e){if(t.g=e,e>t.l)throw oa(t.l,e)}function oO(t,e){if(0>e)throw Error(`Tried to read a negative byte length: ${e}`);let i=t.g,n=i+e;if(n>t.l)throw oa(e,t.l-i);return t.g=n,i}function oN(t,e){if(0==e)return oi();var i=oO(t,e);return t.ca&&t.m?i=t.h.subarray(i,i+e):(t=t.h,i=i===(e=i+e)?s9():oc?t.slice(i,e):new Uint8Array(t.subarray(i,e))),0==i.length?oi():new or(i,ot)}var oP=[];function oF(t){var e=t.g;if(e.g==e.l)return!1;t.l=t.g.g;var i=ok(t.g);if(e=i>>>3,!(0<=(i&=7)&&5>=i))throw os(i,t.l);if(1>e)throw Error(`Invalid field number: ${e} (at position ${t.l})`);return t.m=e,t.h=i,!0}function oR(t,e,i){let n=t.g.l,r=ok(t.g),s=t.g.g+r,o=s-n;if(0>=o&&(t.g.l=s,i(e,t,void 0,void 0,void 0),o=s-t.g.g),o)throw Error(`Message parsing ended unexpectedly. Expected to read ${r} bytes, instead read ${r-o} bytes, either the data ended unexpectedly or the message misreported its own length`);return t.g.g=s,t.g.l=n,e}function oD(i){var n=ok(i.g),r=oO(i=i.g,n);if(i=i.h,sD){var s,o=i;(s=e)||(s=e=new TextDecoder("utf-8",{fatal:!0})),n=r+n,o=0===r&&n===o.length?o:o.subarray(r,n);try{var a=s.decode(o)}catch(i){if(void 0===t){try{s.decode(new Uint8Array([128]))}catch(t){}try{s.decode(new Uint8Array([97])),t=!0}catch(e){t=!1}}throw t||(e=void 0),i}}else{n=(a=r)+n,r=[];let t,e=null;for(;a<n;){var l=i[a++];128>l?r.push(l):224>l?a>=n?sF():(t=i[a++],194>l||128!=(192&t)?(a--,sF()):r.push((31&l)<<6|63&t)):240>l?a>=n-1?sF():128!=(192&(t=i[a++]))||224===l&&160>t||237===l&&160<=t||128!=(192&(s=i[a++]))?(a--,sF()):r.push((15&l)<<12|(63&t)<<6|63&s):244>=l?a>=n-2?sF():128!=(192&(t=i[a++]))||0!=t-144+(l<<28)>>30||128!=(192&(s=i[a++]))||128!=(192&(o=i[a++]))?(a--,sF()):(l=((7&l)<<18|(63&t)<<12|(63&s)<<6|63&o)-65536,r.push(55296+(l>>10&1023),56320+(1023&l))):sF(),8192<=r.length&&(e=sR(e,r),r.length=0)}a=sR(e,r)}return a}function oU(t){let e=ok(t.g);return oN(t.g,e)}function oB(t,e,i){var n=ok(t.g);for(n=t.g.g+n;t.g.g<n;)i.push(e(t.g))}var oj=[];function oH(t){return t?/^\d+$/.test(t)?(ob(t),new o$(od,of)):null:s||=new o$(0,0)}var o$=class{constructor(t,e){this.h=t>>>0,this.g=e>>>0}};function oG(t){return t?/^-?\d+$/.test(t)?(ob(t),new oz(od,of)):null:o||=new oz(0,0)}var oz=class{constructor(t,e){this.h=t>>>0,this.g=e>>>0}};function oV(t,e,i){for(;0<i||127<e;)t.g.push(127&e|128),e=(e>>>7|i<<25)>>>0,i>>>=7;t.g.push(e)}function oK(t,e){for(;127<e;)t.g.push(127&e|128),e>>>=7;t.g.push(e)}function oW(t,e){if(0<=e)oK(t,e);else{for(let i=0;9>i;i++)t.g.push(127&e|128),e>>=7;t.g.push(1)}}function oX(t,e){t.g.push(e>>>0&255),t.g.push(e>>>8&255),t.g.push(e>>>16&255),t.g.push(e>>>24&255)}function oY(t,e){0!==e.length&&(t.l.push(e),t.h+=e.length)}function oq(t,e,i){oK(t.g,8*e+i)}function oJ(t,e){return oq(t,e,2),e=t.g.end(),oY(t,e),e.push(t.h),e}function oQ(t,e){var i=e.pop();for(i=t.h+t.g.length()-i;127<i;)e.push(127&i|128),i>>>=7,t.h++;e.push(i),t.h++}function oZ(t,e,i){oq(t,e,2),oK(t.g,i.length),oY(t,t.g.end()),oY(t,i)}function o1(t,e,i,n){null!=i&&(e=oJ(t,e),n(i,t),oQ(t,e))}class o2{constructor(t,e,i,n){this.g=t,this.h=e,this.l=i,this.pa=n}}function o3(t){return Array.prototype.slice.call(t)}function o0(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol():t}var o4=o0(),o5=o0("0di"),o6=o0("2ex"),o8=o0("0dg"),o7=o4?(t,e)=>{t[o4]|=e}:(t,e)=>{void 0!==t.g?t.g|=e:Object.defineProperties(t,{g:{value:e,configurable:!0,writable:!0,enumerable:!1}})},o9=o4?(t,e)=>{t[o4]&=~e}:(t,e)=>{void 0!==t.g&&(t.g&=~e)};function at(t,e,i){return i?t|e:t&~e}var ae=o4?t=>0|t[o4]:t=>0|t.g,ai=o4?t=>t[o4]:t=>t.g,an=o4?(t,e)=>(t[o4]=e,t):(t,e)=>(void 0!==t.g?t.g=e:Object.defineProperties(t,{g:{value:e,configurable:!0,writable:!0,enumerable:!1}}),t);function ar(t){return o7(t,34),t}function as(t,e){an(e,-14591&(0|t))}function ao(t,e){an(e,-14557&(34|t))}function aa(t){return 0==(t=t>>14&1023)?536870912:t}var al,ah={},ac={};function au(t){return!(!t||"object"!=typeof t||t.Ja!==ac)}function ad(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)&&t.constructor===Object}function af(t,e,i){if(null!=t){if("string"==typeof t)t=t?new or(t,ot):oi();else if(t.constructor!==or){if(s7(t))t=t.length?new or(i?t:new Uint8Array(t),ot):oi();else{if(!e)throw Error();t=void 0}}}return t}function ap(t,e,i){if(!Array.isArray(t)||t.length)return!1;let n=ae(t);return!!(1&n)||!(!e||!(Array.isArray(e)?e.includes(i):e.has(i)))&&(an(t,1|n),!0)}const am=[];function ag(t){if(2&t)throw Error()}an(am,55),al=Object.freeze(am);class a_{constructor(t,e,i){this.l=0,this.g=t,this.h=e,this.m=i}next(){if(this.l<this.g.length){let t=this.g[this.l++];return{done:!1,value:this.h?this.h.call(this.m,t):t}}return{done:!0,value:void 0}}[Symbol.iterator](){return new a_(this.g,this.h,this.m)}}function av(t,e){(e=a?e[a]:void 0)&&(t[a]=o3(e))}function ay(t,e){t.__closure__error__context__984382||(t.__closure__error__context__984382={}),t.__closure__error__context__984382.severity=e}function aw(){let t=Error();ay(t,"incident"),sN.setTimeout(()=>{throw t},0)}function ab(t){return ay(t=Error(t),"warning"),t}function aA(t){return null==t||"number"==typeof t?t:"NaN"===t||"Infinity"===t||"-Infinity"===t?Number(t):void 0}function aE(t){return null==t||"boolean"==typeof t?t:"number"==typeof t?!!t:void 0}Object.freeze(new class{}),Object.freeze(new class{});const aT=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function aS(t){let e=typeof t;return"number"===e?Number.isFinite(t):"string"===e&&aT.test(t)}function ak(t){if(null==t)return t;if("string"==typeof t){if(!t)return;t=+t}return"number"==typeof t&&Number.isFinite(t)?0|t:void 0}function ax(t){if(null==t)return t;if("string"==typeof t){if(!t)return;t=+t}return"number"==typeof t&&Number.isFinite(t)?t>>>0:void 0}function aC(t){return"-"!==t[0]&&(20>t.length||20===t.length&&184467>Number(t.substring(0,6)))}function aL(t){return"-"===t[0]?20>t.length||20===t.length&&-922337<Number(t.substring(0,7)):19>t.length||19===t.length&&922337>Number(t.substring(0,6))}function aI(t){return Number.isSafeInteger(t=Math.trunc(t))||(op(t),t=o_(od,of)),t}function aM(t){var e=Math.trunc(Number(t));return Number.isSafeInteger(e)?String(e):(-1!==(e=t.indexOf("."))&&(t=t.substring(0,e)),aL(t)||(ob(t),t=ow()),t)}function aO(t){return null==t?t:aS(t)?"number"==typeof t?aI(t):aM(t):void 0}function aN(t){if("string"!=typeof t)throw Error();return t}function aP(t){if(null!=t&&"string"!=typeof t)throw Error();return t}function aF(t){return null==t||"string"==typeof t?t:void 0}function aR(t,e,i,n){if(null!=t&&"object"==typeof t&&t.X===ah)return t;if(!Array.isArray(t))return i?2&n?(t=e[o5])?e=t:(ar((t=new e).s),e=e[o5]=t):e=new e:e=void 0,e;let r=i=ae(t);return 0===r&&(r|=32&n),(r|=2&n)!==i&&an(t,r),new e(t)}function aD(t,e,i){if(e){var n=!!n;if(!aS(e=t))throw ab("int64");"string"==typeof e?n=aM(e):n?Number.isSafeInteger(n=Math.trunc(e))?n=String(n):aL(e=String(n))?n=e:(op(n),n=ow()):n=aI(e)}else n=aO(t);return"string"==typeof(i=null==(t=n)?i?0:void 0:t)&&Number.isSafeInteger(n=+i)?n:i}function aU(t){switch(typeof t){case"boolean":return u||=[0,void 0,!0];case"number":return 0<t?void 0:0===t?d||=[0,void 0]:[-t,void 0];case"string":return[0,t];case"object":return t}}function aB(t,e){return aj(t,e[0],e[1])}function aj(t,e,i){if(null==t&&(t=c),c=void 0,null==t){var n=96;i?(t=[i],n|=512):t=[],e&&(n=-16760833&n|(1023&e)<<14)}else{if(!Array.isArray(t))throw Error("narr");if(2048&(n=ae(t)))throw Error("farr");if(64&n)return t;if(n|=64,i&&(n|=512,i!==t[0]))throw Error("mid");t:{let r=(i=t).length;if(r){let t=r-1;if(ad(i[t])){if(1024<=(e=t-(+!!(512&(n|=256))-1)))throw Error("pvtlmt");n=-16760833&n|(1023&e)<<14;break t}}if(e){if(1024<(e=Math.max(e,r-(+!!(512&n)-1))))throw Error("spvt");n=-16760833&n|(1023&e)<<14}}}return an(t,n),t}const aH={};let a$=function(){try{return sq(new class extends Map{constructor(){super()}}),!1}catch{return!0}}();class aG{constructor(){this.g=new Map}get(t){return this.g.get(t)}set(t,e){return this.g.set(t,e),this.size=this.g.size,this}delete(t){return t=this.g.delete(t),this.size=this.g.size,t}clear(){this.g.clear(),this.size=this.g.size}has(t){return this.g.has(t)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(t,e){return this.g.forEach(t,e)}[Symbol.iterator](){return this.entries()}}const az=a$?(Object.setPrototypeOf(aG.prototype,Map.prototype),Object.defineProperties(aG.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),aG):class extends Map{constructor(){super()}};function aV(t){return t}function aK(t){if(2&t.N)throw Error("Cannot mutate an immutable Map")}var aW=class extends az{constructor(t,e,i=aV,n=aV){super();let r=ae(t);an(t,r|=64),this.N=r,this.U=e,this.S=i,this.Z=this.U?aX:n;for(let s=0;s<t.length;s++){let o=t[s],a=i(o[0],!1,!0),l=o[1];e?void 0===l&&(l=null):l=n(o[1],!1,!0,void 0,void 0,r),super.set(a,l)}}oa(t=aY){if(0!==this.size)return this.Y(t)}Y(t=aY){let e=[],i=super.entries();for(var n;!(n=i.next()).done;)(n=n.value)[0]=t(n[0]),n[1]=t(n[1]),e.push(n);return e}clear(){aK(this),super.clear()}delete(t){return aK(this),super.delete(this.S(t,!0,!1))}entries(){return new a_(this.na(),aq,this)}keys(){return this.Ia()}values(){return new a_(this.na(),aW.prototype.get,this)}forEach(t,e){super.forEach((i,n)=>{t.call(e,this.get(n),n,this)})}set(t,e){return aK(this),null==(t=this.S(t,!0,!1))?this:null==e?(super.delete(t),this):super.set(t,this.Z(e,!0,!0,this.U,!1,this.N))}Oa(t){let e=this.S(t[0],!1,!0);t=t[1],t=this.U?void 0===t?null:t:this.Z(t,!1,!0,void 0,!1,this.N),super.set(e,t)}has(t){return super.has(this.S(t,!1,!1))}get(t){t=this.S(t,!1,!1);let e=super.get(t);if(void 0!==e){var i=this.U;return i?((i=this.Z(e,!1,!0,i,this.ta,this.N))!==e&&super.set(t,i),i):e}}na(){return Array.from(super.keys())}Ia(){return super.keys()}[Symbol.iterator](){return this.entries()}};function aX(t,e,i,n,r,s){return t=aR(t,n,i,s),r&&(t=a4(t)),t}function aY(t){return t}function aq(t){return[t,this.get(t)]}function aJ(){return f||=new aW(ar([]),void 0,void 0,void 0,aH)}function aQ(t,e,i,n,r){if(null!=t){if(Array.isArray(t))t=ap(t,void 0,0)?void 0:r&&2&ae(t)?t:aZ(t,e,i,void 0!==n,r);else if(ad(t)){let s={};for(let o in t)s[o]=aQ(t[o],e,i,n,r);t=s}else t=e(t,n);return t}}function aZ(t,e,i,n,r){let s=n||i?ae(t):0;n=n?!!(32&s):void 0;let o=o3(t);for(let t=0;t<o.length;t++)o[t]=aQ(o[t],e,i,n,r);return i&&(av(o,t),i(s,o)),o}function a1(t){return aQ(t,a2,void 0,void 0,!1)}function a2(t){return t.X===ah?t.toJSON():t instanceof aW?t.oa(a1):function(t){switch(typeof t){case"number":return isFinite(t)?t:String(t);case"boolean":return t?1:0;case"object":if(t){if(Array.isArray(t)){if(ap(t,void 0,0))return}else{if(s7(t))return s0(t);if(t instanceof or){let e=t.g;return null==e?"":"string"==typeof e?e:t.g=s0(e)}if(t instanceof aW)return t.oa()}}}return t}(t)}function a3(t,e,i,n){return t=t.constructor,c=e=a0(e,i,n),e=new t(e),c=void 0,e}function a0(t,e,i){let n=i||2&e?ao:as,r=!!(32&e);return o7(t=function(t,e,i){let n=o3(t);var r=n.length;let s=256&e?n[r-1]:void 0;for(r+=s?-1:0,e=512&e?1:0;e<r;e++)n[e]=i(n[e]);if(s)for(let t in e=n[e]={},s)e[t]=i(s[t]);return av(n,t),n}(t,e,t=>(function t(e,i,n=ao){if(null!=e){if(s2&&e instanceof Uint8Array)return i?e:new Uint8Array(e);if(Array.isArray(e)){var r=ae(e);return 2&r||(i&&=0===r||!!(32&r)&&!(64&r||!(16&r)),e=i?an(e,-12293&(34|r)):aZ(e,t,4&r?ao:n,!0,!0)),e}return e.X===ah?e=2&(r=ai(n=e.s))?e:a3(e,n,r,!0):e instanceof aW&&!(2&e.N)&&(e=new aW(n=ar(e.Y(t)),e.U,e.S,e.Z)),e}})(t,r,n)),32|(i?2:0)),t}function a4(t){let e=t.s,i=ai(e);return 2&i?a3(t,e,i,!1):t}function a5(t,e,i,n){return!(4&e)||null!=i&&(!n&&0===i&&(4096&e||8192&e)&&5>(t.constructor[o8]=1+(0|t.constructor[o8]))&&aw(),0!==i&&!(i&e))}function a6(t,e){return a7(t=t.s,ai(t),e)}function a8(t,e,i,n){if(!(0>(e=n+(+!!(512&e)-1))||e>=t.length||e>=i))return t[e]}function a7(t,e,i,n){if(-1===i)return null;let r=aa(e);if(!(i>=r)){var s=t.length;return n&&256&e&&null!=(n=t[s-1][i])?(a8(t,e,r,i)&&null!=o6&&(4<=(e=(t=h??={})[o6]||0)||(t[o6]=e+1,aw())),n):a8(t,e,r,i)}return 256&e?t[t.length-1][i]:void 0}function a9(t,e,i,n){let r=t.s,s=ai(r);return ag(s),lt(r,s,e,i,n),t}function lt(t,e,i,n,r){let s=aa(e);if(i>=s||r){let o=e;if(256&e)r=t[t.length-1];else{if(null==n)return o;r=t[s+(+!!(512&e)-1)]={},o|=256}return r[i]=n,i<s&&(t[i+(+!!(512&e)-1)]=void 0),o!==e&&an(t,o),o}return t[i+(+!!(512&e)-1)]=n,256&e&&i in(t=t[t.length-1])&&delete t[i],e}function le(t,e,i,n,r){var s=2&e;let o=a7(t,e,i,r);Array.isArray(o)||(o=al);let a=!(2&n);n=!(1&n);let l=!!(32&e),h=ae(o);return 0!==h||!l||s||a?1&h||an(o,h|=1):an(o,h|=33),s?(t=!1,2&h||(ar(o),t=!!(4&h)),(n||t)&&Object.freeze(o)):(s=!!(2&h)||!!(2048&h),n&&s?(o=o3(o),n=1,l&&!a&&(n|=32),an(o,n),lt(t,e,i,o,r)):a&&32&h&&!s&&o9(o,32)),o}function li(t,e){let i=ai(t=t.s),n=a7(t,i,e),r=aA(n);return null!=r&&r!==n&&lt(t,i,e,r),r}function ln(t){let e=ai(t=t.s),i=a7(t,e,1),n=af(i,!0,!!(34&e));return null!=n&&n!==i&&lt(t,e,1,n),n}function lr(t,e,i){let n=t.s,r=ai(n),s=2&r?1:2,o=ls(n,r,e);var a=ae(o);if(a5(t,a,void 0,!1)){(4&a||Object.isFrozen(o))&&(o=o3(o),a=lA(a,r),r=lt(n,r,e,o));let s=t=0;for(;t<o.length;t++){let e=i(o[t]);null!=e&&(o[s++]=e)}s<t&&(o.length=s),a=at(a=lo(a,r),20,!0),a=at(a,4096,!1),an(o,a=at(a,8192,!1)),2&a&&Object.freeze(o)}return la(a)||(i=a,(a=(t=1===s||4===s&&!!(32&a))?at(a,2,!0):lE(a,r,!1))!==i&&an(o,a),t&&Object.freeze(o)),2===s&&la(a)&&(an(o=o3(o),a=lE(a=lA(a,r),r,!1)),lt(n,r,e,o)),o}function ls(t,e,i){return Array.isArray(t=a7(t,e,i))?t:al}function lo(t,e){return 0===t&&(t=lA(t,e)),at(t,1,!0)}function la(t){return!!(2&t)&&!!(4&t)||!!(2048&t)}function ll(t){t=o3(t);for(let e=0;e<t.length;e++){let i=t[e]=o3(t[e]);Array.isArray(i[1])&&(i[1]=ar(i[1]))}return t}function lh(t,e,i){{let a=t.s,l=ai(a);if(ag(l),null==i)lt(a,l,e);else{var n,r=ae(i),s=r,o=!!(2&r)||Object.isFrozen(i);if((n=!o)&&(n=!1),a5(t,r))for(r=21,o&&(i=o3(i),s=0,r=lE(r=lA(r,l),l,!0)),t=0;t<i.length;t++)i[t]=aN(i[t]);n&&(i=o3(i),s=0,r=lE(r=lA(r,l),l,!0)),r!==s&&an(i,r),lt(a,l,e,i)}}}function lc(t,e,i,n){let r=ai(t=t.s);ag(r),lt(t,r,e,("0"===n?0===Number(i):i===n)?void 0:i)}function lu(t,e,i,n){let r=ai(t);ag(r),n=i(n,!!(4&(e=ae(t=le(t,r,e,2))))&&!!(4096&e)),t.push(n)}function ld(t){return t}function lf(t,e){return lp(t=t.s,ai(t),cD)===e?e:-1}function lp(t,e,i){let n=0;for(let r=0;r<i.length;r++){let s=i[r];null!=a7(t,e,s)&&(0!==n&&(e=lt(t,e,n)),n=s)}return n}function lm(t,e,i,n){let r,s=ai(t);ag(s);let o=a7(t,s,i,n);if(null!=o&&o.X===ah)return(e=a4(o))!==o&&lt(t,s,i,e,n),e.s;if(Array.isArray(o)){let t=ae(o);r=aB(r=2&t?a0(o,t,!1):o,e)}else r=aB(void 0,e);return r!==o&&lt(t,s,i,r,n),r}function lg(t,e,i,n){let r=ai(t=t.s),s=a7(t,r,i,n);return(e=aR(s,e,!1,r))!==s&&null!=e&&lt(t,r,i,e,n),e}function l_(t,e,i,n=!1){if(null==(e=lg(t,e,i,n)))return e;let r=ai(t=t.s);if(!(2&r)){let s=a4(e);s!==e&&lt(t,r,i,e=s,n)}return e}function lv(t,e,i,n,r,s){var o=2,a=!!(2&e);o=a?1:o,r=!!r,s&&=!a;var l=ae(a=ls(t,e,n));let h=!!(4&l);if(!h){var c=a,u=e;let t=!!(2&(l=lo(l,e)));t&&(u=at(u,2,!0));let n=!t,r=!0,s=0,o=0;for(;s<c.length;s++){let e=aR(c[s],i,!1,u);if(e instanceof i){if(!t){let t=!!(2&ae(e.s));n&&=!t,r&&=t}c[o++]=e}}o<s&&(c.length=o),l=at(l,4,!0),l=at(l,16,r),an(c,l=at(l,8,n)),t&&Object.freeze(c)}if(s&&!(8&l||!a.length&&(1===o||4===o&&32&l))){for(la(l)&&(a=o3(a),l=lA(l,e),e=lt(t,e,n,a)),i=a,s=l,c=0;c<i.length;c++)(l=i[c])!==(u=a4(l))&&(i[c]=u);s=at(s,8,!0),s=at(s,16,!i.length),an(i,s),l=s}return la(l)||(i=l,(l=(s=1===o||4===o&&!!(32&l))?at(l,!a.length||16&l&&(!h||32&l)?2:2048,!0):lE(l,e,r))!==i&&an(a,l),s&&Object.freeze(a)),2===o&&la(l)&&(an(a=o3(a),l=lE(l=lA(l,e),e,r)),lt(t,e,n,a)),a}function ly(t,e,i){let n=ai(t=t.s);return lv(t,n,e,i,!1,!(2&n))}function lw(t,e,i,n,r){return null==n&&(n=void 0),a9(t,i,n,r)}function lb(t,e,i,n){null==n&&(n=void 0);let r=ai(t=t.s);ag(r),(i=lp(t,r,i))&&i!==e&&null!=n&&(r=lt(t,r,i)),lt(t,r,e,n)}function lA(t,e){return t=at(t,2,!!(2&e)),t=at(t,32,!0),at(t,2048,!1)}function lE(t,e,i){return 32&e&&i||(t=at(t,32,!1)),t}function lT(t,e,i,n){let r=ai(t=t.s);ag(r),e=lv(t,r,i,e,!0),i=null!=n?n:new i,e.push(i),2&ae(i.s)?o9(e,8):o9(e,16)}function lS(t,e){return ak(a6(t,e))}function lk(t,e){return li(t,e)??0}function lx(t,e){return aF(a6(t,e))??""}function lC(t,e,i){if(null!=i&&"boolean"!=typeof i)throw t=typeof i,Error(`Expected boolean but got ${"object"!=t?t:i?Array.isArray(i)?"array":t:"null"}: ${i}`);a9(t,e,i)}function lL(t,e,i){if(null!=i){if("number"!=typeof i||!Number.isFinite(i))throw ab("int32");i|=0}a9(t,e,i)}function lI(t,e,i){if(null!=i&&"number"!=typeof i)throw Error(`Value of float/double field must be a number, found ${typeof i}: ${i}`);a9(t,e,i)}function lM(t,e,i){e.g?e.m(t,e.g,e.h,i,!0):e.m(t,e.h,i,!0)}aW.prototype.toJSON=void 0,aW.prototype.Ja=ac;var lO=class{constructor(t,e){this.s=aj(t,e)}toJSON(){return lN(this,aZ(this.s,a2,void 0,void 0,!1),!0)}l(){return uI.g?uI.l(this,uI.g,uI.h,!0):uI.l(this,uI.h,uI.defaultValue,!0)}clone(){let t=this.s;return a3(this,t,ai(t),!1)}P(){return!!(2&ae(this.s))}};function lN(t,e,i){let n,r;var s=sz?void 0:t.constructor.B;let o=ai(i?t.s:e);if(!(t=e.length))return e;if(ad(i=e[t-1])){t:{var a=i;let t={},e=!1;for(var l in a){let i=a[l];if(Array.isArray(i)){let t=i;(ap(i,s,+l)||au(i)&&0===i.size)&&(i=null),i!=t&&(e=!0)}null!=i?t[l]=i:e=!0}if(e){for(var h in t){a=t;break t}a=null}}a!=i&&(n=!0),t--}for(l=+!!(512&o)-1;0<t&&(i=e[h=t-1],h-=l,null==i||ap(i,s,h)||au(i)&&0===i.size);t--)r=!0;return(n||r)&&(e=Array.prototype.slice.call(e,0,t),a&&e.push(a)),e}function lP(t){return Array.isArray(t)?t[0]instanceof o2?t:[hA,t]:[t,void 0]}function lF(t,e){if(Array.isArray(e)){var i=ae(e);if(4&i)return e;for(var n=0,r=0;n<e.length;n++){let i=t(e[n]);null!=i&&(e[r++]=i)}return r<n&&(e.length=r),an(e,-12289&(5|i)),2&i&&Object.freeze(e),e}}lO.prototype.X=ah,lO.prototype.toString=function(){return lN(this,this.s,!1).toString()};const lR=Symbol();function lD(t){let e=t[lR];if(!e){let i=l$(t),n=l1(t),r=n.l;e=r?(t,e)=>r(t,e,n):(t,e)=>{for(;oF(e)&&4!=e.h;){var r=e.m,s=n[r];if(!s){var o=n.ea;o&&(o=o[r])&&(s=n[r]=function(t){let e=(t=lP(t))[0].g;if(t=t[1]){let i=lD(t),n=l1(t).T;return(t,r,s)=>e(t,r,s,n,i)}return e}(o))}s&&s(e,t,r)||(r=(s=e).l,function t(e){switch(e.h){case 0:0!=e.h?t(e):oT(e.g);break;case 1:oM(e=e.g,e.g+8);break;case 2:if(2!=e.h)t(e);else{var i=ok(e.g);oM(e=e.g,e.g+i)}break;case 5:oM(e=e.g,e.g+4);break;case 3:for(i=e.m;;){if(!oF(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.h){if(e.m!=i)throw Error("Unmatched end-group tag");break}t(e)}break;default:throw os(e.h,e.l)}}(s),s.ia?s=void 0:(o=s.g.g-r,s.g.g=r,s=oN(s.g,o)),r=t,s&&(a||=Symbol(),(o=r[a])?o.push(s):r[a]=[s]))}i===p||i===m||i.j||(t[l||=Symbol()]=i)},t[lR]=e}return e}class lU{}const lB=Symbol();function lj(t,e,i){let n;let r=i[1];if(r){let i=r[lB];n=i?i.T:aU(r[0]),t[e]=i??r}n&&n===u?(t.g||(t.g=new Set)).add(e):i[0]&&(t.h||(t.h=new Set)).add(e)}function lH(t,e){return[t.l,!e||0<e[0]?void 0:e]}function l$(t){var e=t[lB];if(e)return e;if(!(e=lz(t,t[lB]=new lU,lH,lH,lj)).ea&&!e.h&&!e.g){let i=!0;for(let t in e)isNaN(t)||(i=!1);i?(aU(t[0])===u?m?e=m:((e=new lU).T=aU(!0),e=m=e):e=p||=new lU,e=t[lB]=e):e.j=!0}return e}function lG(t,e,i){t[e]=i}function lz(t,e,i,n,r=lG){e.T=aU(t[0]);let s=0;var o=t[++s];o&&o.constructor===Object&&(e.ea=o,"function"==typeof(o=t[++s])&&(e.l=o,e.m=t[++s],o=t[++s]));let a={};for(;Array.isArray(o)&&"number"==typeof o[0]&&0<o[0];){for(var l=0;l<o.length;l++)a[o[l]]=o;o=t[++s]}for(l=1;void 0!==o;){let u;"number"==typeof o&&(l+=o,o=t[++s]);var h=void 0;if(o instanceof o2?u=o:(u=hE,s--),u.pa){o=t[++s],h=t;var c=s;"function"==typeof o&&(o=o(),h[c]=o),h=o}for(c=l+1,"number"==typeof(o=t[++s])&&0>o&&(c-=o,o=t[++s]);l<c;l++){let t=a[l];r(e,l,h?n(u,h,t):i(u,t))}}return e}const lV=Symbol();function lK(t){let e=t[lV];if(!e){let i=lq(t);e=(t,e)=>l0(t,e,i),t[lV]=e}return e}const lW=Symbol();function lX(t){return t.h}function lY(t,e){let i,n;let r=t.h;return(t,s,o)=>r(t,s,o,n||=lq(e).T,i||=lK(e))}function lq(t){let e=t[lW];return e||(e=lz(t,t[lW]={},lX,lY),l2(t),e)}const lJ=Symbol();function lQ(t,e){let i=t.g;return e?(t,n,r)=>i(t,n,r,e):i}function lZ(t,e,i){let n,r;let s=t.g;return(t,o,a)=>s(t,o,a,r||=l1(e).T,n||=lD(e),i)}function l1(t){let e=t[lJ];return e||(l$(t),e=lz(t,t[lJ]={},lQ,lZ),l2(t),e)}function l2(t){lJ in t&&lB in t&&lW in t&&(t.length=0)}function l3(t,e){var i=t[e];if(i)return i;if((i=t.ea)&&(i=i[e])){var n=(i=lP(i))[0].h;if(i=i[1]){let e=lK(i),r=lq(i).T;i=(i=t.m)?i(r,e):(t,i,s)=>n(t,i,s,r,e)}else i=n;return t[e]=i}}function l0(t,e,i){for(var n=ai(t),r=+!!(512&n)-1,s=t.length,o=512&n?1:0,l=s+(256&n?-1:0);o<l;o++){let n=t[o];if(null==n)continue;let s=o-r,a=l3(i,s);a&&a(e,n,s)}if(256&n)for(let o in n=t[s-1])Number.isNaN(r=+o)||null!=(s=n[o])&&(l=l3(i,r))&&l(e,s,r);if(t=a?t[a]:void 0)for(oY(e,e.g.end()),i=0;i<t.length;i++)oY(e,on(t[i])||s9())}function l4(t,e){return new o2(t,e,!1,!1)}function l5(t,e){return new o2(t,e,!0,!1)}function l6(t,e){return new o2(t,e,!1,!0)}function l8(t,e,i){lt(t,ai(t),e,i)}var l7=l6(function(t,e,i,n,r){return 2===t.h&&(t=oR(t,aB([void 0,void 0],n),r),ag(n=ai(e)),(r=a7(e,n,i))instanceof aW?0!=(2&r.N)?((r=r.Y()).push(t),lt(e,n,i,r)):r.Oa(t):Array.isArray(r)?(2&ae(r)&&lt(e,n,i,r=ll(r)),r.push(t)):lt(e,n,i,[t]),!0)},function(t,e,i,n,r){if(e instanceof aW)e.forEach((e,s)=>{o1(t,i,aB([s,e],n),r)});else if(Array.isArray(e))for(let s=0;s<e.length;s++){let o=e[s];Array.isArray(o)&&o1(t,i,aB(o,n),r)}});function l9(t,e,i){t:if(null!=e){if(aS(e)){if("string"==typeof e){e=aM(e);break t}if("number"==typeof e){e=aI(e);break t}}e=void 0}null!=e&&("string"==typeof e&&oG(e),null!=e&&(oq(t,i,0),"number"==typeof e?(t=t.g,op(e),oV(t,od,of)):(i=oG(e),oV(t.g,i.h,i.g))))}function ht(t,e,i){null!=(e=ak(e))&&null!=e&&(oq(t,i,0),oW(t.g,e))}function he(t,e,i){null!=(e=aE(e))&&(oq(t,i,0),t.g.g.push(e?1:0))}function hi(t,e,i){null!=(e=aF(e))&&oZ(t,i,sB(e))}function hn(t,e,i,n,r){o1(t,i,e instanceof lO?e.s:Array.isArray(e)?aB(e,n):void 0,r)}function hr(t,e,i){null!=(e=null==e||"string"==typeof e||s7(e)||e instanceof or?e:void 0)&&oZ(t,i,ol(e).buffer)}function hs(t,e,i){return(5===t.h||2===t.h)&&(e=le(e,ai(e),i,2,!1),2==t.h?oB(t,oC,e):e.push(oC(t.g)),!0)}var ho,ha=l4(function(t,e,i){if(1!==t.h)return!1;var n=t.g;t=ox(n);let r=ox(n);n=2*(r>>31)+1;let s=r>>>20&2047;return t=4294967296*(1048575&r)+t,l8(e,i,2047==s?t?NaN:1/0*n:0==s?5e-324*n*t:n*Math.pow(2,s-1075)*(t+4503599627370496)),!0},function(t,e,i){null!=(e=aA(e))&&(oq(t,i,1),t=t.g,(i=ou||=new DataView(new ArrayBuffer(8))).setFloat64(0,+e,!0),od=i.getUint32(0,!0),of=i.getUint32(4,!0),oX(t,od),oX(t,of))}),hl=l4(function(t,e,i){return 5===t.h&&(l8(e,i,oC(t.g)),!0)},function(t,e,i){null!=(e=aA(e))&&(oq(t,i,5),t=t.g,om(e),oX(t,od))}),hh=l5(hs,function(t,e,i){if(null!=(e=lF(aA,e)))for(let s=0;s<e.length;s++){var n=t,r=e[s];null!=r&&(oq(n,i,5),n=n.g,om(r),oX(n,od))}}),hc=l5(hs,function(t,e,i){if(null!=(e=lF(aA,e))&&e.length){oq(t,i,2),oK(t.g,4*e.length);for(let n=0;n<e.length;n++)i=t.g,om(e[n]),oX(i,od)}}),hu=l4(function(t,e,i){return 0===t.h&&(l8(e,i,oE(t.g,o_)),!0)},l9),hd=l4(function(t,e,i){return 0===t.h&&(l8(e,i,0===(t=oE(t.g,o_))?void 0:t),!0)},l9),hf=l4(function(t,e,i){return 0===t.h&&(l8(e,i,oE(t.g,og)),!0)},function(t,e,i){t:if(null!=e){if(aS(e)){if("string"==typeof e){var n=Math.trunc(Number(e));Number.isSafeInteger(n)&&0<=n?e=String(n):(-1!==(n=e.indexOf("."))&&(e=e.substring(0,n)),aC(e)||(ob(e),e=ov(od,of)));break t}if("number"==typeof e){e=0<=(e=Math.trunc(e))&&Number.isSafeInteger(e)?e:function(t){if(0>t){op(t);let e=ov(od,of);return Number.isSafeInteger(t=Number(e))?t:e}return aC(String(t))?t:(op(t),og(od,of))}(e);break t}}e=void 0}null!=e&&("string"==typeof e&&oH(e),null!=e&&(oq(t,i,0),"number"==typeof e?(t=t.g,op(e),oV(t,od,of)):(i=oH(e),oV(t.g,i.h,i.g))))}),hp=l4(function(t,e,i){return 0===t.h&&(l8(e,i,oS(t.g)),!0)},ht),hm=l5(function(t,e,i){return(0===t.h||2===t.h)&&(e=le(e,ai(e),i,2,!1),2==t.h?oB(t,oS,e):e.push(oS(t.g)),!0)},function(t,e,i){if(null!=(e=lF(ak,e))&&e.length){i=oJ(t,i);for(let i=0;i<e.length;i++)oW(t.g,e[i]);oQ(t,i)}}),hg=l4(function(t,e,i){return 0===t.h&&(l8(e,i,0===(t=oS(t.g))?void 0:t),!0)},ht),h_=l4(function(t,e,i){return 0===t.h&&(l8(e,i,oT(t.g)),!0)},he),hv=l4(function(t,e,i){return 0===t.h&&(l8(e,i,!1===(t=oT(t.g))?void 0:t),!0)},he),hy=l5(function(t,e,i){return 2===t.h&&(lu(e,i,ld,t=oD(t)),!0)},function(t,e,i){if(null!=(e=lF(aF,e)))for(let r=0;r<e.length;r++){var n=e[r];null!=n&&oZ(t,i,sB(n))}}),hw=l4(function(t,e,i){return 2===t.h&&(l8(e,i,""===(t=oD(t))?void 0:t),!0)},hi),hb=l4(function(t,e,i){return 2===t.h&&(l8(e,i,oD(t)),!0)},hi),hA=l6(function(t,e,i,n,r){return 2===t.h&&(oR(t,lm(e,n,i,!0),r),!0)},hn),hE=l6(function(t,e,i,n,r){return 2===t.h&&(oR(t,lm(e,n,i),r),!0)},hn);ho=new o2(function(t,e,i,n,r){if(2!==t.h)return!1;n=aB(void 0,n);let s=ai(e);ag(s);let o=le(e,s,i,3);return s=ai(e),4&ae(o)&&(an(o=o3(o),-2079&(1|ae(o))),lt(e,s,i,o)),o.push(n),oR(t,n,r),!0},function(t,e,i,n,r){if(Array.isArray(e))for(let s=0;s<e.length;s++)hn(t,e[s],i,n,r)},!0,!0);var hT=l6(function(t,e,i,n,r,s){if(2!==t.h)return!1;let o=ai(e);return ag(o),(s=lp(e,o,s))&&i!==s&&lt(e,o,s),oR(t,e=lm(e,n,i),r),!0},hn),hS=l4(function(t,e,i){return 2===t.h&&(l8(e,i,oU(t)),!0)},hr),hk=l5(function(t,e,i){return(0===t.h||2===t.h)&&(e=le(e,ai(e),i,2,!1),2==t.h?oB(t,ok,e):e.push(ok(t.g)),!0)},function(t,e,i){if(null!=(e=lF(ax,e)))for(let r=0;r<e.length;r++){var n=e[r];null!=n&&(oq(t,i,0),oK(t.g,n))}}),hx=l4(function(t,e,i){return 0===t.h&&(l8(e,i,oS(t.g)),!0)},function(t,e,i){null!=(e=ak(e))&&(e=parseInt(e,10),oq(t,i,0),oW(t.g,e))}),hC=l5(function(t,e,i){return(0===t.h||2===t.h)&&(e=le(e,ai(e),i,2,!1),2==t.h?oB(t,oL,e):e.push(oS(t.g)),!0)},function(t,e,i){if(null!=(e=lF(ak,e))&&e.length){i=oJ(t,i);for(let i=0;i<e.length;i++)oW(t.g,e[i]);oQ(t,i)}});class hL{constructor(t,e){this.h=t,this.g=e,this.l=l_,this.m=lw,this.defaultValue=void 0}}function hI(t,e){return new hL(t,e)}function hM(t,e){return(i,n)=>{if(oj.length){let t=oj.pop();t.o(n),oI(t.g,i,n),i=t}else i=new class{constructor(t,e){if(oP.length){let i=oP.pop();oI(i,t,e),t=i}else t=new class{constructor(t,e){this.h=null,this.m=!1,this.g=this.l=this.j=0,oI(this,t,e)}clear(){this.h=null,this.m=!1,this.g=this.l=this.j=0,this.ca=!1}}(t,e);this.g=t,this.l=this.g.g,this.h=this.m=-1,this.o(e)}o({ia:t=!1}={}){this.ia=t}}(i,n);try{let n=new t,s=n.s;lD(e)(s,i);var r=n}finally{i.g.clear(),i.m=-1,i.h=-1,100>oj.length&&oj.push(i)}return r}}function hO(t){return function(){let e=new class{constructor(){this.l=[],this.h=0,this.g=new class{constructor(){this.g=[]}length(){return this.g.length}end(){let t=this.g;return this.g=[],t}}}};l0(this.s,e,lq(t)),oY(e,e.g.end());let i=new Uint8Array(e.h),n=e.l,r=n.length,s=0;for(let t=0;t<r;t++){let e=n[t];i.set(e,s),s+=e.length}return e.l=[i],i}}var hN=class extends lO{constructor(t){super(t)}},hP=[0,hw,l4(function(t,e,i){return 2===t.h&&(l8(e,i,(t=oU(t))===oi()?void 0:t),!0)},function(t,e,i){if(null!=e){if(e instanceof lO){let n=e.Qa;return void(n&&null!=(e=n(e))&&oZ(t,i,ol(e).buffer))}if(Array.isArray(e))return}hr(t,e,i)})],hF=[0,hb],hR=[0,hp,hx,h_,-1,hm,hx,-1],hD=[0,h_,-1],hU=class extends lO{constructor(){super()}};hU.B=[6];var hB=[0,h_,hb,h_,hx,-1,hC,hb,-1,hD,hx],hj=[0,hb,-2],hH=class extends lO{constructor(){super()}},h$=[0],hG=[0,hp,h_,-4],hz=class extends lO{constructor(t){super(t,2)}},hV={},hK=[-2,hV,h_];hV[336783863]=[0,hb,h_,-1,hp,[0,[1,2,3,4,5,6],hT,h$,hT,hB,hT,hj,hT,hG,hT,hR,hT,[0,hb]],hF,h_,[0,[1,3],[2,4],hT,[0,hm],-1,hT,[0,hy],-1,ho,[0,hb,-1]],hb];var hW=[0,hw,hv],hX=[0,hd,-1,hv,-3,hd,hm,hw,hg,hd,-1,hv,hg,hv,-2,hw],hY=[-1,{}],hq=[0,hb,1,hY],hJ=[0,hb,hy,hY];function hQ(t,e){lc(t,2,aP(e),"")}function hZ(t,e){lu(t.s,3,aN,e)}function h1(t,e){lu(t.s,4,aN,e)}var h2=class extends lO{constructor(t){super(t,500)}o(t){return lw(this,0,7,t)}};h2.B=[3,4,5,6,8,13,17,1005];var h3=[-500,hw,-1,hy,-3,hK,ho,hP,hg,-1,hq,hJ,ho,hW,hw,hX,hg,hy,987,hy],h0=[-500,hb,-1,[-1,{}],998,hb],h4=[-500,hb,hy,-1,[-2,{},h_],997,hy,-1],h5=[-500,hb,hy,hY,998,hy];function h6(t,e){lT(t,1,h2,e)}function h8(t,e){lu(t.s,10,aN,e)}function h7(t,e){lu(t.s,15,aN,e)}var h9=class extends lO{constructor(t){super(t,500)}o(t){return lw(this,0,1001,t)}};h9.B=[1,6,7,9,10,15,16,17,14,1002];var ct=[-500,ho,h3,4,ho,h0,ho,h4,hg,ho,h5,hy,hg,hq,hJ,ho,[0,hw,-1,hY],hy,-2,hX,hw,-1,hv,979,hY,ho,hP],ce=hM(h9,ct);h9.prototype.g=hO(ct);var ci=[0,ho,[0,hp,-2]],cn=class extends lO{constructor(t){super(t)}},cr=[0,hp,hl,hb,-1],cs=class extends lO{constructor(t){super(t)}g(){return ly(this,cn,1)}};cs.B=[1];var co=[0,ho,cr],ca=hM(cs,co),cl=[0,hp,hl],ch=[0,hp,-1,ci],cc=class extends lO{constructor(t){super(t)}},cu=[0,hp,-3],cd=[0,hl,-3],cf=class extends lO{constructor(t){super(t)}},cp=[0,hl,-1,hb,hl],cm=class extends lO{constructor(t){super(t)}h(){return l_(this,cc,2)}g(){return ly(this,cf,5)}};cm.B=[5];var cg=[0,hx,cu,cd,ch,ho,cp],c_=class extends lO{constructor(t){super(t)}};c_.B=[1,2,3,8,9];var cv=hM(c_,[0,hy,hm,hc,cg,hb,-1,hu,ho,cl,hy,hu]),cy=class extends lO{constructor(t){super(t)}},cw=[0,hl,-4],cb=class extends lO{constructor(t){super(t)}};cb.B=[1];var cA=hM(cb,[0,ho,cw]),cE=class extends lO{constructor(t){super(t)}},cT=[0,hl,-4],cS=class extends lO{constructor(t){super(t)}};cS.B=[1];var ck=hM(cS,[0,ho,cT]),cx=class extends lO{constructor(t){super(t)}};cx.B=[3];var cC=[0,hp,-1,hc,hx],cL=class extends lO{constructor(){super()}};cL.prototype.g=hO([0,hl,-4,hu]);var cI=class extends lO{constructor(t){super(t)}},cM=[0,1,hp,hb,co],cO=class extends lO{constructor(t){super(t)}};cO.B=[1];var cN=hM(cO,[0,ho,cM,hu]),cP=class extends lO{constructor(t){super(t)}};cP.B=[1];var cF=class extends lO{constructor(t){super(t)}qa(){let t=ln(this);return null==t?oi():t}},cR=class extends lO{constructor(t){super(t)}},cD=[1,2],cU=[0,cD,hT,[0,hc],hT,[0,hS],hp,hb],cB=class extends lO{constructor(t){super(t)}};cB.B=[1];var cj=hM(cB,[0,ho,cU,hu]),cH=class extends lO{constructor(t){super(t)}};cH.B=[4,5];var c$=[0,hb,hp,hl,hy,-1],cG=class extends lO{constructor(t){super(t)}},cz=[0,h_,-1],cV=class extends lO{constructor(t){super(t)}},cK=[1,2,3,4,5],cW=class extends lO{constructor(t){super(t)}g(){return null!=ln(this)}h(){return null!=aF(a6(this,2))}},cX=[0,hS,hb,[0,hp,hu,-1],[0,hf,hu]],cY=class extends lO{constructor(t){super(t)}g(){return aE(a6(this,2))??!1}},cq=[0,cX,h_,[0,cK,hT,hG,hT,hB,hT,hR,hT,h$,hT,hj],hx],cJ=class extends lO{constructor(t){super(t)}},cQ=[0,cq,hl,-1,hp],cZ=hI(502141897,cJ);hV[502141897]=cQ;var c1=[0,cX];hV[512499200]=c1;var c2=[0,c1];hV[515723506]=c2;var c3=hM(class extends lO{constructor(t){super(t)}},[0,[0,hx,-1,hh,hk],cC]),c0=[0,cq];hV[508981768]=c0;var c4=class extends lO{constructor(t){super(t)}},c5=[0,cq,hl,c0,h_],c6=class extends lO{constructor(t){super(t)}},c8=[0,cq,cQ,c5,hl,c2];hV[508968149]=c5;var c7=hI(508968150,c6);hV[508968150]=c8;var c9=class extends lO{constructor(t){super(t)}},ut=hI(513916220,c9);hV[513916220]=[0,cq,c8,hp];var ue=class extends lO{constructor(t){super(t)}h(){return l_(this,cH,2)}g(){a9(this,2)}},ui=[0,cq,c$];hV[478825465]=ui;var un=[0,cq];hV[478825422]=un;var ur=class extends lO{constructor(t){super(t)}},us=[0,cq,un,ui,-1],uo=class extends lO{constructor(t){super(t)}},ua=[0,cq,hl,hp],ul=class extends lO{constructor(t){super(t)}},uh=[0,cq,hl],uc=class extends lO{constructor(t){super(t)}},uu=[0,cq,ua,uh,hl],ud=class extends lO{constructor(t){super(t)}},uf=[0,cq,uu,us];hV[463370452]=us,hV[464864288]=ua,hV[474472470]=uh;var up=hI(462713202,uc);hV[462713202]=uu;var um=hI(479097054,ud);hV[479097054]=uf;var ug=class extends lO{constructor(t){super(t)}},u_=[0,cq],uv=class extends lO{constructor(t){super(t)}},uy=[0,cq,hl,-1,hp];hV[514774813]=uy;var uw=class extends lO{constructor(t){super(t)}},ub=[0,cq,hl,h_];hV[518928384]=ub;var uA=class extends lO{constructor(){super()}};uA.prototype.g=hO([0,cq,uh,u_,cQ,c5,uy,ub]);var uE=class extends lO{constructor(t){super(t)}},uT=hI(456383383,uE);hV[456383383]=[0,cq,c$];var uS=class extends lO{constructor(t){super(t)}},uk=hI(476348187,uS);hV[476348187]=[0,cq,cz];var ux=class extends lO{constructor(t){super(t)}},uC=[0,hx,-1],uL=class extends lO{constructor(t){super(t)}};uL.B=[3];var uI=hI(458105876,class extends lO{constructor(t){super(t)}g(){var t=this.s;let e=ai(t);var i=2&e;return null==(t=function(t,e,i){var n=uL;let r=2&e,s=!1;if(null==i){if(r)return aJ();i=[]}else if(i.constructor===aW){if(0==(2&i.N)||r)return i;i=i.Y()}else Array.isArray(i)?s=!!(2&ae(i)):i=[];if(r){if(!i.length)return aJ();s||(s=!0,ar(i))}else s&&(s=!1,i=ll(i));return s||(64&ae(i)?o9(i,32):32&e&&o7(i,32)),lt(t,e,2,n=new aW(i,n,aD,void 0),!1),n}(t,e,a7(t,e,2)))||!i&&uL&&(t.ta=!0),i=t}});hV[458105876]=[0,uC,l7,[!0,hu,[0,hb,-1,hy]]];var uM=class extends lO{constructor(t){super(t)}},uO=hI(458105758,uM);hV[458105758]=[0,cq,hb,uC];var uN=class extends lO{constructor(t){super(t)}};uN.B=[5,6];var uP=hI(443442058,uN);hV[443442058]=[0,cq,hb,hp,hl,hy,-1];var uF=class extends lO{constructor(t){super(t)}},uR=hI(516587230,uF);function uD(t,e){return e=e?e.clone():new cH,void 0!==t.displayNamesLocale?a9(e,1,aP(t.displayNamesLocale)):void 0===t.displayNamesLocale&&a9(e,1),void 0!==t.maxResults?lL(e,2,t.maxResults):"maxResults"in t&&a9(e,2),void 0!==t.scoreThreshold?lI(e,3,t.scoreThreshold):"scoreThreshold"in t&&a9(e,3),void 0!==t.categoryAllowlist?lh(e,4,t.categoryAllowlist):"categoryAllowlist"in t&&a9(e,4),void 0!==t.categoryDenylist?lh(e,5,t.categoryDenylist):"categoryDenylist"in t&&a9(e,5),e}function uU(t,e=-1,i=""){return{categories:t.map(t=>({index:lS(t,1)??0??-1,score:lk(t,2)??0,categoryName:lx(t,3)??"",displayName:lx(t,4)??""})),headIndex:e,headName:i}}function uB(t){var e=lr(t,3,aA),i=lr(t,2,ak),n=lr(t,1,aF),r=lr(t,9,aF);let s={categories:[],keypoints:[]};for(let t=0;t<e.length;t++)s.categories.push({score:e[t],index:i[t]??-1,categoryName:n[t]??"",displayName:r[t]??""});if((e=l_(t,cm,4)?.h())&&(s.boundingBox={originX:lS(e,1)??0,originY:lS(e,2)??0,width:lS(e,3)??0,height:lS(e,4)??0,angle:0}),l_(t,cm,4)?.g().length)for(let e of l_(t,cm,4).g())s.keypoints.push({x:li(e,1)??0,y:li(e,2)??0,score:li(e,4)??0,label:aF(a6(e,3))??""});return s}function uj(t){let e=[];for(let i of ly(t,cE,1))e.push({x:lk(i,1)??0,y:lk(i,2)??0,z:lk(i,3)??0,visibility:lk(i,4)??0});return e}function uH(t){let e=[];for(let i of ly(t,cy,1))e.push({x:lk(i,1)??0,y:lk(i,2)??0,z:lk(i,3)??0,visibility:lk(i,4)??0});return e}function u$(t){return Array.from(t,t=>127<t?t-256:t)}function uG(t,e){if(t.length!==e.length)throw Error(`Cannot compute cosine similarity between embeddings of different sizes (${t.length} vs. ${e.length}).`);let i=0,n=0,r=0;for(let s=0;s<t.length;s++)i+=t[s]*e[s],n+=t[s]*t[s],r+=e[s]*e[s];if(0>=n||0>=r)throw Error("Cannot compute cosine similarity on embedding with 0 norm.");return i/Math.sqrt(n*r)}hV[516587230]=[0,cq,uy,ub,hl];const uz=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function uV(){if(void 0===g)try{await WebAssembly.instantiate(uz),g=!0}catch{g=!1}return g}async function uK(t,e=""){let i=await uV()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${e}/${t}_${i}.js`,wasmBinaryPath:`${e}/${t}_${i}.wasm`}}var uW=class{};function uX(){var t=navigator;return"undefined"!=typeof OffscreenCanvas&&(!function(t=navigator){return(t=t.userAgent).includes("Safari")&&!t.includes("Chrome")}(t)||!!((t=t.userAgent.match(/Version\/([\d]+).*Safari/))&&1<=t.length&&17<=Number(t[1])))}async function uY(t){if("function"!=typeof importScripts){let e=document.createElement("script");return e.src=t.toString(),e.crossOrigin="anonymous",new Promise((t,i)=>{e.addEventListener("load",()=>{t()},!1),e.addEventListener("error",t=>{i(t)},!1),document.body.appendChild(e)})}importScripts(t.toString())}function uq(t){return void 0!==t.videoWidth?[t.videoWidth,t.videoHeight]:void 0!==t.naturalWidth?[t.naturalWidth,t.naturalHeight]:void 0!==t.displayWidth?[t.displayWidth,t.displayHeight]:[t.width,t.height]}function uJ(t,e,i){t.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target"),i(e=t.i.stringToNewUTF8(e)),t.i._free(e)}function uQ(t,e,i){if(!t.i.canvas)throw Error("No OpenGL canvas configured.");if(i?t.i._bindTextureToStream(i):t.i._bindTextureToCanvas(),!(i=t.i.canvas.getContext("webgl2")||t.i.canvas.getContext("webgl")))throw Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");t.i.gpuOriginForWebTexturesIsBottomLeft&&i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,e),t.i.gpuOriginForWebTexturesIsBottomLeft&&i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!1);let[n,r]=uq(e);return t.l&&(n!==t.i.canvas.width||r!==t.i.canvas.height)&&(t.i.canvas.width=n,t.i.canvas.height=r),[n,r]}function uZ(t,e,i){t.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");let n=new Uint32Array(e.length);for(let i=0;i<e.length;i++)n[i]=t.i.stringToNewUTF8(e[i]);for(let r of(e=t.i._malloc(4*n.length),t.i.HEAPU32.set(n,e>>2),i(e),n))t.i._free(r);t.i._free(e)}function u1(t,e,i){t.i.simpleListeners=t.i.simpleListeners||{},t.i.simpleListeners[e]=i}function u2(t,e,i){let n=[];t.i.simpleListeners=t.i.simpleListeners||{},t.i.simpleListeners[e]=(t,e,r)=>{e?(i(n,r),n=[]):n.push(t)}}async function u3(t,e,i,n){return t=await (async(t,e,i,n,r)=>{if(e&&await uY(e),!self.ModuleFactory||i&&(await uY(i),!self.ModuleFactory))throw Error("ModuleFactory not set.");return self.Module&&r&&((e=self.Module).locateFile=r.locateFile,r.mainScriptUrlOrBlob&&(e.mainScriptUrlOrBlob=r.mainScriptUrlOrBlob)),r=await self.ModuleFactory(self.Module||r),self.ModuleFactory=self.Module=void 0,new t(r,n)})(t,i.wasmLoaderPath,i.assetLoaderPath,e,{locateFile:t=>t.endsWith(".wasm")?i.wasmBinaryPath.toString():i.assetBinaryPath&&t.endsWith(".data")?i.assetBinaryPath.toString():t}),await t.o(n),t}function u0(t,e){let i=l_(t.baseOptions,cW,1)||new cW;"string"==typeof e?(a9(i,2,aP(e)),a9(i,1)):e instanceof Uint8Array&&(a9(i,1,af(e,!1,!1)),a9(i,2)),lw(t.baseOptions,0,1,i)}function u4(t){try{let e=t.K.length;if(1===e)throw Error(t.K[0].message);if(1<e)throw Error("Encountered multiple errors: "+t.K.map(t=>t.message).join(", "))}finally{t.K=[]}}function u5(t,e){t.J=Math.max(t.J,e)}function u6(t,e){t.C=new h2,hQ(t.C,"PassThroughCalculator"),hZ(t.C,"free_memory"),h1(t.C,"free_memory_unused_out"),h8(e,"free_memory"),h6(e,t.C)}function u8(t,e){hZ(t.C,e),h1(t.C,e+"_unused_out")}function u7(t){t.g.addBoolToStream(!0,"free_memory",t.J)}uW.forVisionTasks=function(t){return uK("vision",t)},uW.forTextTasks=function(t){return uK("text",t)},uW.forGenAiExperimentalTasks=function(t){return uK("genai_experimental",t)},uW.forGenAiTasks=function(t){return uK("genai",t)},uW.forAudioTasks=function(t){return uK("audio",t)},uW.isSimdSupported=function(){return uV()};var u9=class{constructor(t){this.g=t,this.K=[],this.J=0,this.g.setAutoRenderToScreen(!1)}l(t,e=!0){if(e){let e=t.baseOptions||{};if(t.baseOptions?.modelAssetBuffer&&t.baseOptions?.modelAssetPath)throw Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!(l_(this.baseOptions,cW,1)?.g()||l_(this.baseOptions,cW,1)?.h()||t.baseOptions?.modelAssetBuffer||t.baseOptions?.modelAssetPath))throw Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");if(function(t,e){let i=l_(t.baseOptions,cV,3);if(!i){var n=i=new cV;lb(n,4,cK,new hH)}"delegate"in e&&("GPU"===e.delegate?lb(e=i,2,cK,n=new hU):lb(e=i,4,cK,n=new hH)),lw(t.baseOptions,0,3,i)}(this,e),e.modelAssetPath)return fetch(e.modelAssetPath.toString()).then(t=>{if(t.ok)return t.arrayBuffer();throw Error(`Failed to fetch model: ${e.modelAssetPath} (${t.status})`)}).then(t=>{try{this.g.i.FS_unlink("/model.dat")}catch{}this.g.i.FS_createDataFile("/","model.dat",new Uint8Array(t),!0,!1,!1),u0(this,"/model.dat"),this.m(),this.L()});if(e.modelAssetBuffer instanceof Uint8Array)u0(this,e.modelAssetBuffer);else if(e.modelAssetBuffer)return(async function(t){let e=[];for(var i=0;;){let{done:n,value:r}=await t.read();if(n)break;e.push(r),i+=r.length}if(0===e.length)return new Uint8Array(0);if(1===e.length)return e[0];for(let n of(t=new Uint8Array(i),i=0,e))t.set(n,i),i+=n.length;return t})(e.modelAssetBuffer).then(t=>{u0(this,t),this.m(),this.L()})}return this.m(),this.L(),Promise.resolve()}L(){}fa(){let t;if(this.g.fa(e=>{t=ce(e)}),!t)throw Error("Failed to retrieve CalculatorGraphConfig");return t}setGraph(t,e){this.g.attachErrorListener((t,e)=>{this.K.push(Error(e))}),this.g.Ma(),this.g.setGraph(t,e),this.C=void 0,u4(this)}finishProcessing(){this.g.finishProcessing(),u4(this)}close(){this.C=void 0,this.g.closeGraph()}};function dt(t,e){if(!t)throw Error(`Unable to obtain required WebGL resource: ${e}`);return t}u9.prototype.close=u9.prototype.close,function(t,e){t=t.split(".");var i,n=sN;for((t[0]in n)||void 0===n.execScript||n.execScript("var "+t[0]);t.length&&(i=t.shift());)t.length||void 0===e?n=n[i]&&n[i]!==Object.prototype[i]?n[i]:n[i]={}:n[i]=e}("TaskRunner",u9);class de{constructor(t,e,i,n){this.g=t,this.h=e,this.m=i,this.l=n}bind(){this.g.bindVertexArray(this.h)}close(){this.g.deleteVertexArray(this.h),this.g.deleteBuffer(this.m),this.g.deleteBuffer(this.l)}}function di(t,e,i){let n=t.g;if(i=dt(n.createShader(i),"Failed to create WebGL shader"),n.shaderSource(i,e),n.compileShader(i),!n.getShaderParameter(i,n.COMPILE_STATUS))throw Error(`Could not compile WebGL shader: ${n.getShaderInfoLog(i)}`);return n.attachShader(t.h,i),i}function dn(t,e){let i=t.g,n=dt(i.createVertexArray(),"Failed to create vertex array");i.bindVertexArray(n);let r=dt(i.createBuffer(),"Failed to create buffer");i.bindBuffer(i.ARRAY_BUFFER,r),i.enableVertexAttribArray(t.K),i.vertexAttribPointer(t.K,2,i.FLOAT,!1,0,0),i.bufferData(i.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),i.STATIC_DRAW);let s=dt(i.createBuffer(),"Failed to create buffer");return i.bindBuffer(i.ARRAY_BUFFER,s),i.enableVertexAttribArray(t.J),i.vertexAttribPointer(t.J,2,i.FLOAT,!1,0,0),i.bufferData(i.ARRAY_BUFFER,new Float32Array(e?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0]),i.STATIC_DRAW),i.bindBuffer(i.ARRAY_BUFFER,null),i.bindVertexArray(null),new de(i,n,r,s)}function dr(t,e){if(t.g){if(e!==t.g)throw Error("Cannot change GL context once initialized")}else t.g=e}function ds(t,e,i,n){return dr(t,e),t.h||(t.m(),t.D()),i?(t.v||(t.v=dn(t,!0)),i=t.v):(t.A||(t.A=dn(t,!1)),i=t.A),e.useProgram(t.h),i.bind(),t.l(),t=n(),i.g.bindVertexArray(null),t}function da(t,e,i){return dr(t,e),t=dt(e.createTexture(),"Failed to create texture"),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i??e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i??e.LINEAR),e.bindTexture(e.TEXTURE_2D,null),t}function dl(t,e,i){dr(t,e),t.u||(t.u=dt(e.createFramebuffer(),"Failed to create framebuffe.")),e.bindFramebuffer(e.FRAMEBUFFER,t.u),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0)}function dh(t){t.g?.bindFramebuffer(t.g.FRAMEBUFFER,null)}var dc=class{H(){return"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D inputTexture;\n  void main() {\n    gl_FragColor = texture2D(inputTexture, vTex);\n  }\n "}m(){let t=this.g;if(this.h=dt(t.createProgram(),"Failed to create WebGL program"),this.ba=di(this,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",t.VERTEX_SHADER),this.aa=di(this,this.H(),t.FRAGMENT_SHADER),t.linkProgram(this.h),!t.getProgramParameter(this.h,t.LINK_STATUS))throw Error(`Error during program linking: ${t.getProgramInfoLog(this.h)}`);this.K=t.getAttribLocation(this.h,"aVertex"),this.J=t.getAttribLocation(this.h,"aTex")}D(){}l(){}close(){if(this.h){let t=this.g;t.deleteProgram(this.h),t.deleteShader(this.ba),t.deleteShader(this.aa)}this.u&&this.g.deleteFramebuffer(this.u),this.A&&this.A.close(),this.v&&this.v.close()}},du=class extends dc{H(){return"\n  precision mediump float;\n  uniform sampler2D backgroundTexture;\n  uniform sampler2D maskTexture;\n  uniform sampler2D colorMappingTexture;\n  varying vec2 vTex;\n  void main() {\n    vec4 backgroundColor = texture2D(backgroundTexture, vTex);\n    float category = texture2D(maskTexture, vTex).r;\n    vec4 categoryColor = texture2D(colorMappingTexture, vec2(category, 0.0));\n    gl_FragColor = mix(backgroundColor, categoryColor, categoryColor.a);\n  }\n "}D(){let t=this.g;t.activeTexture(t.TEXTURE1),this.C=da(this,t,t.LINEAR),t.activeTexture(t.TEXTURE2),this.j=da(this,t,t.NEAREST)}m(){super.m();let t=this.g;this.M=dt(t.getUniformLocation(this.h,"backgroundTexture"),"Uniform location"),this.V=dt(t.getUniformLocation(this.h,"colorMappingTexture"),"Uniform location"),this.L=dt(t.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();let t=this.g;t.uniform1i(this.L,0),t.uniform1i(this.M,1),t.uniform1i(this.V,2)}close(){this.C&&this.g.deleteTexture(this.C),this.j&&this.g.deleteTexture(this.j),super.close()}},dd=class extends dc{H(){return"\n  precision mediump float;\n  uniform sampler2D maskTexture;\n  uniform sampler2D defaultTexture;\n  uniform sampler2D overlayTexture;\n  varying vec2 vTex;\n  void main() {\n    float confidence = texture2D(maskTexture, vTex).r;\n    vec4 defaultColor = texture2D(defaultTexture, vTex);\n    vec4 overlayColor = texture2D(overlayTexture, vTex);\n    // Apply the alpha from the overlay and merge in the default color\n    overlayColor = mix(defaultColor, overlayColor, overlayColor.a);\n    gl_FragColor = mix(defaultColor, overlayColor, confidence);\n  }\n "}D(){let t=this.g;t.activeTexture(t.TEXTURE1),this.j=da(this,t),t.activeTexture(t.TEXTURE2),this.C=da(this,t)}m(){super.m();let t=this.g;this.L=dt(t.getUniformLocation(this.h,"defaultTexture"),"Uniform location"),this.M=dt(t.getUniformLocation(this.h,"overlayTexture"),"Uniform location"),this.I=dt(t.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();let t=this.g;t.uniform1i(this.I,0),t.uniform1i(this.L,1),t.uniform1i(this.M,2)}close(){this.j&&this.g.deleteTexture(this.j),this.C&&this.g.deleteTexture(this.C),super.close()}};function df(t,e){switch(e){case 0:return t.g.find(t=>t instanceof Uint8Array);case 1:return t.g.find(t=>t instanceof Float32Array);case 2:return t.g.find(t=>"undefined"!=typeof WebGLTexture&&t instanceof WebGLTexture);default:throw Error(`Type is not supported: ${e}`)}}function dp(t){var e=df(t,1);if(!e){if(e=df(t,0))e=new Float32Array(e).map(t=>t/255);else{e=new Float32Array(t.width*t.height);let n=dg(t);var i=dv(t);if(dl(i,n,dm(t)),"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in self.document){i=new Float32Array(t.width*t.height*4),n.readPixels(0,0,t.width,t.height,n.RGBA,n.FLOAT,i);for(let t=0,n=0;t<e.length;++t,n+=4)e[t]=i[n]}else n.readPixels(0,0,t.width,t.height,n.RED,n.FLOAT,e)}t.g.push(e)}return e}function dm(t){let e=df(t,2);if(!e){let i=dg(t);e=dy(t);let n=dp(t),r=d_(t);i.texImage2D(i.TEXTURE_2D,0,r,t.width,t.height,0,i.RED,i.FLOAT,n),dw(t)}return e}function dg(t){if(!t.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return t.h||(t.h=dt(t.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),t.h}function d_(t){if(t=dg(t),!db){if(t.getExtension("EXT_color_buffer_float")&&t.getExtension("OES_texture_float_linear")&&t.getExtension("EXT_float_blend"))db=t.R32F;else{if(!t.getExtension("EXT_color_buffer_half_float"))throw Error("GPU does not fully support 4-channel float32 or float16 formats");db=t.R16F}}return db}function dv(t){return t.l||(t.l=new dc),t.l}function dy(t){let e=dg(t);e.viewport(0,0,t.width,t.height),e.activeTexture(e.TEXTURE0);let i=df(t,2);return i||(i=da(dv(t),e,t.m?e.LINEAR:e.NEAREST),t.g.push(i),t.j=!0),e.bindTexture(e.TEXTURE_2D,i),i}function dw(t){t.h.bindTexture(t.h.TEXTURE_2D,null)}var db,dA=class{constructor(t,e,i,n,r,s,o){this.g=t,this.m=e,this.j=i,this.canvas=n,this.l=r,this.width=s,this.height=o,this.j&&0==--dE&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources.")}Ha(){return!!df(this,0)}la(){return!!df(this,1)}R(){return!!df(this,2)}ka(){var t;return(t=df(this,0))||(t=new Uint8Array((t=dp(this)).map(t=>255*t)),this.g.push(t)),t}ja(){return dp(this)}O(){return dm(this)}clone(){let t=[];for(let e of this.g){let i;if(e instanceof Uint8Array)i=new Uint8Array(e);else if(e instanceof Float32Array)i=new Float32Array(e);else{if(!(e instanceof WebGLTexture))throw Error(`Type is not supported: ${e}`);{let t=dg(this),e=dv(this);t.activeTexture(t.TEXTURE1),i=da(e,t,this.m?t.LINEAR:t.NEAREST),t.bindTexture(t.TEXTURE_2D,i);let n=d_(this);t.texImage2D(t.TEXTURE_2D,0,n,this.width,this.height,0,t.RED,t.FLOAT,null),t.bindTexture(t.TEXTURE_2D,null),dl(e,t,i),ds(e,t,!1,()=>{dy(this),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLE_FAN,0,4),dw(this)}),dh(e),dw(this)}}t.push(i)}return new dA(t,this.m,this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&dg(this).deleteTexture(df(this,2)),dE=-1}};dA.prototype.close=dA.prototype.close,dA.prototype.clone=dA.prototype.clone,dA.prototype.getAsWebGLTexture=dA.prototype.O,dA.prototype.getAsFloat32Array=dA.prototype.ja,dA.prototype.getAsUint8Array=dA.prototype.ka,dA.prototype.hasWebGLTexture=dA.prototype.R,dA.prototype.hasFloat32Array=dA.prototype.la,dA.prototype.hasUint8Array=dA.prototype.Ha;var dE=250;const dT={color:"white",lineWidth:4,radius:6};function dS(t){return{...dT,fillColor:(t=t||{}).color,...t}}function dk(t,e){return t instanceof Function?t(e):t}function dx(t,e,i){return Math.max(Math.min(e,i),Math.min(Math.max(e,i),t))}function dC(t){if(!t.l)throw Error("CPU rendering requested but CanvasRenderingContext2D not provided.");return t.l}function dL(t){if(!t.j)throw Error("GPU rendering requested but WebGL2RenderingContext not provided.");return t.j}function dI(t,e,i){if(e.R())i(e.O());else{let n=e.la()?e.ja():e.ka();t.m=t.m??new dc;let r=dL(t);i((t=new dA([n],e.m,!1,r.canvas,t.m,e.width,e.height)).O()),t.close()}}function dM(t,e,i,n){let r=(t.g||(t.g=new du),t.g),s=dL(t),o=Array.isArray(i)?new ImageData(new Uint8ClampedArray(i),1,1):i;ds(r,s,!0,()=>{!function(t,e,i,n){let r=t.g;if(r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,e),r.activeTexture(r.TEXTURE1),r.bindTexture(r.TEXTURE_2D,t.C),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,i),t.I&&function(t,e){if(t!==e)return!1;for(let[n,r]of(t=t.entries(),e=e.entries(),t)){t=n;var i=e.next();if(i.done)return!1;let[s,o]=i.value;if(i=o,t!==s||r[0]!==i[0]||r[1]!==i[1]||r[2]!==i[2]||r[3]!==i[3])return!1}return!!e.next().done}(t.I,n))r.activeTexture(r.TEXTURE2),r.bindTexture(r.TEXTURE_2D,t.j);else{t.I=n;let e=Array(1024).fill(0);n.forEach((t,i)=>{if(4!==t.length)throw Error(`Color at index ${i} is not a four-channel value.`);e[4*i]=t[0],e[4*i+1]=t[1],e[4*i+2]=t[2],e[4*i+3]=t[3]}),r.activeTexture(r.TEXTURE2),r.bindTexture(r.TEXTURE_2D,t.j),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,256,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array(e))}}(r,e,o,n),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),s.drawArrays(s.TRIANGLE_FAN,0,4);let t=r.g;t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,null)})}function dO(t,e,i,n){let r=dL(t),s=(t.h||(t.h=new dd),t.h),o=Array.isArray(i)?new ImageData(new Uint8ClampedArray(i),1,1):i,a=Array.isArray(n)?new ImageData(new Uint8ClampedArray(n),1,1):n;ds(s,r,!0,()=>{var t=s.g;t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,s.j),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,s.C),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,a),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.drawArrays(r.TRIANGLE_FAN,0,4),r.bindTexture(r.TEXTURE_2D,null),(t=s.g).activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,null)})}var dN=class{constructor(t,e){t instanceof CanvasRenderingContext2D||t instanceof OffscreenCanvasRenderingContext2D?(this.l=t,this.j=e):this.j=t}Aa(t,e){if(t){var i=dC(this);e=dS(e),i.save();var n=i.canvas,r=0;for(let s of t)i.fillStyle=dk(e.fillColor,{index:r,from:s}),i.strokeStyle=dk(e.color,{index:r,from:s}),i.lineWidth=dk(e.lineWidth,{index:r,from:s}),(t=new Path2D).arc(s.x*n.width,s.y*n.height,dk(e.radius,{index:r,from:s}),0,2*Math.PI),i.fill(t),i.stroke(t),++r;i.restore()}}za(t,e,i){if(t&&e){var n=dC(this);i=dS(i),n.save();var r=n.canvas,s=0;for(let o of e){n.beginPath(),e=t[o.start];let a=t[o.end];e&&a&&(n.strokeStyle=dk(i.color,{index:s,from:e,to:a}),n.lineWidth=dk(i.lineWidth,{index:s,from:e,to:a}),n.moveTo(e.x*r.width,e.y*r.height),n.lineTo(a.x*r.width,a.y*r.height)),++s,n.stroke()}n.restore()}}wa(t,e){let i=dC(this);e=dS(e),i.save(),i.beginPath(),i.lineWidth=dk(e.lineWidth,{}),i.strokeStyle=dk(e.color,{}),i.fillStyle=dk(e.fillColor,{}),i.moveTo(t.originX,t.originY),i.lineTo(t.originX+t.width,t.originY),i.lineTo(t.originX+t.width,t.originY+t.height),i.lineTo(t.originX,t.originY+t.height),i.lineTo(t.originX,t.originY),i.stroke(),i.fill(),i.restore()}xa(t,e,i=[0,0,0,255]){this.l?function(t,e,i,n){let r=dL(t);dI(t,e,e=>{dM(t,e,i,n),(e=dC(t)).drawImage(r.canvas,0,0,e.canvas.width,e.canvas.height)})}(this,t,i,e):dM(this,t.O(),i,e)}ya(t,e,i){this.l?function(t,e,i,n){let r=dL(t);dI(t,e,e=>{dO(t,e,i,n),(e=dC(t)).drawImage(r.canvas,0,0,e.canvas.width,e.canvas.height)})}(this,t,e,i):dO(this,t.O(),e,i)}close(){this.g?.close(),this.g=void 0,this.h?.close(),this.h=void 0,this.m?.close(),this.m=void 0}};function dP(t,e){switch(e){case 0:return t.g.find(t=>t instanceof ImageData);case 1:return t.g.find(t=>"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap);case 2:return t.g.find(t=>"undefined"!=typeof WebGLTexture&&t instanceof WebGLTexture);default:throw Error(`Type is not supported: ${e}`)}}function dF(t){var e=dP(t,0);if(!e){e=dD(t);let i=dU(t),n=new Uint8Array(t.width*t.height*4);dl(i,e,dR(t)),e.readPixels(0,0,t.width,t.height,e.RGBA,e.UNSIGNED_BYTE,n),dh(i),e=new ImageData(new Uint8ClampedArray(n.buffer),t.width,t.height),t.g.push(e)}return e}function dR(t){let e=dP(t,2);if(!e){let i=dD(t);e=dB(t);let n=dP(t,1)||dF(t);i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,n),dj(t)}return e}function dD(t){if(!t.canvas)throw Error("Conversion to different image formats require that a canvas is passed when iniitializing the image.");return t.h||(t.h=dt(t.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),t.h}function dU(t){return t.l||(t.l=new dc),t.l}function dB(t){let e=dD(t);e.viewport(0,0,t.width,t.height),e.activeTexture(e.TEXTURE0);let i=dP(t,2);return i||(i=da(dU(t),e),t.g.push(i),t.m=!0),e.bindTexture(e.TEXTURE_2D,i),i}function dj(t){t.h.bindTexture(t.h.TEXTURE_2D,null)}function dH(t){let e=dD(t);return ds(dU(t),e,!0,()=>(function(t,e){let i=t.canvas;if(i.width===t.width&&i.height===t.height)return e();let n=i.width,r=i.height;return i.width=t.width,i.height=t.height,t=e(),i.width=n,i.height=r,t})(t,()=>{if(e.bindFramebuffer(e.FRAMEBUFFER,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),!(t.canvas instanceof OffscreenCanvas))throw Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return t.canvas.transferToImageBitmap()}))}dN.prototype.close=dN.prototype.close,dN.prototype.drawConfidenceMask=dN.prototype.ya,dN.prototype.drawCategoryMask=dN.prototype.xa,dN.prototype.drawBoundingBox=dN.prototype.wa,dN.prototype.drawConnectors=dN.prototype.za,dN.prototype.drawLandmarks=dN.prototype.Aa,dN.lerp=function(t,e,i,n,r){return dx(n*(1-(t-e)/(i-e))+r*(1-(i-t)/(i-e)),n,r)},dN.clamp=dx;var d$=class{constructor(t,e,i,n,r,s,o){this.g=t,this.j=e,this.m=i,this.canvas=n,this.l=r,this.width=s,this.height=o,(this.j||this.m)&&0==--dG&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources.")}Ga(){return!!dP(this,0)}ma(){return!!dP(this,1)}R(){return!!dP(this,2)}Ea(){return dF(this)}Da(){var t=dP(this,1);return t||(dR(this),dB(this),t=dH(this),dj(this),this.g.push(t),this.j=!0),t}O(){return dR(this)}clone(){let t=[];for(let e of this.g){let i;if(e instanceof ImageData)i=new ImageData(e.data,this.width,this.height);else if(e instanceof WebGLTexture){let t=dD(this),e=dU(this);t.activeTexture(t.TEXTURE1),i=da(e,t),t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,null),t.bindTexture(t.TEXTURE_2D,null),dl(e,t,i),ds(e,t,!1,()=>{dB(this),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLE_FAN,0,4),dj(this)}),dh(e),dj(this)}else{if(!(e instanceof ImageBitmap))throw Error(`Type is not supported: ${e}`);dR(this),dB(this),i=dH(this),dj(this)}t.push(i)}return new d$(t,this.ma(),this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&dP(this,1).close(),this.m&&dD(this).deleteTexture(dP(this,2)),dG=-1}};d$.prototype.close=d$.prototype.close,d$.prototype.clone=d$.prototype.clone,d$.prototype.getAsWebGLTexture=d$.prototype.O,d$.prototype.getAsImageBitmap=d$.prototype.Da,d$.prototype.getAsImageData=d$.prototype.Ea,d$.prototype.hasWebGLTexture=d$.prototype.R,d$.prototype.hasImageBitmap=d$.prototype.ma,d$.prototype.hasImageData=d$.prototype.Ga;var dG=250;function dz(...t){return t.map(([t,e])=>({start:t,end:e}))}const dV=(dW=class{constructor(t,e){this.l=!0,this.i=t,this.g=null,this.h=0,this.m="function"==typeof this.i._addIntToInputStream,void 0!==e?this.i.canvas=e:uX()?this.i.canvas=new OffscreenCanvas(1,1):(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.i.canvas=document.createElement("canvas"))}async initializeGraph(t){let e=await (await fetch(t)).arrayBuffer();t=!(t.endsWith(".pbtxt")||t.endsWith(".textproto")),this.setGraph(new Uint8Array(e),t)}setGraphFromString(t){this.setGraph((new TextEncoder).encode(t),!1)}setGraph(t,e){let i=t.length,n=this.i._malloc(i);this.i.HEAPU8.set(t,n),e?this.i._changeBinaryGraph(i,n):this.i._changeTextGraph(i,n),this.i._free(n)}configureAudio(t,e,i,n,r){this.i._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),uJ(this,n||"input_audio",n=>{uJ(this,r=r||"audio_header",r=>{this.i._configureAudio(n,r,t,e,i)})})}setAutoResizeCanvas(t){this.l=t}setAutoRenderToScreen(t){this.i._setAutoRenderToScreen(t)}setGpuBufferVerticalFlip(t){this.i.gpuOriginForWebTexturesIsBottomLeft=t}fa(t){u1(this,"__graph_config__",e=>{t(e)}),uJ(this,"__graph_config__",t=>{this.i._getGraphConfig(t,void 0)}),delete this.i.simpleListeners.__graph_config__}attachErrorListener(t){this.i.errorListener=t}attachEmptyPacketListener(t,e){this.i.emptyPacketListeners=this.i.emptyPacketListeners||{},this.i.emptyPacketListeners[t]=e}addAudioToStream(t,e,i){this.addAudioToStreamWithShape(t,0,0,e,i)}addAudioToStreamWithShape(t,e,i,n,r){let s=4*t.length;this.h!==s&&(this.g&&this.i._free(this.g),this.g=this.i._malloc(s),this.h=s),this.i.HEAPF32.set(t,this.g/4),uJ(this,n,t=>{this.i._addAudioToInputStream(this.g,e,i,t,r)})}addGpuBufferToStream(t,e,i){uJ(this,e,e=>{let[n,r]=uQ(this,t,e);this.i._addBoundTextureToStream(e,n,r,i)})}addBoolToStream(t,e,i){uJ(this,e,e=>{this.i._addBoolToInputStream(t,e,i)})}addDoubleToStream(t,e,i){uJ(this,e,e=>{this.i._addDoubleToInputStream(t,e,i)})}addFloatToStream(t,e,i){uJ(this,e,e=>{this.i._addFloatToInputStream(t,e,i)})}addIntToStream(t,e,i){uJ(this,e,e=>{this.i._addIntToInputStream(t,e,i)})}addUintToStream(t,e,i){uJ(this,e,e=>{this.i._addUintToInputStream(t,e,i)})}addStringToStream(t,e,i){uJ(this,e,e=>{uJ(this,t,t=>{this.i._addStringToInputStream(t,e,i)})})}addStringRecordToStream(t,e,i){uJ(this,e,e=>{uZ(this,Object.keys(t),n=>{uZ(this,Object.values(t),r=>{this.i._addFlatHashMapToInputStream(n,r,Object.keys(t).length,e,i)})})})}addProtoToStream(t,e,i,n){uJ(this,i,i=>{uJ(this,e,e=>{let r=this.i._malloc(t.length);this.i.HEAPU8.set(t,r),this.i._addProtoToInputStream(r,t.length,e,i,n),this.i._free(r)})})}addEmptyPacketToStream(t,e){uJ(this,t,t=>{this.i._addEmptyPacketToInputStream(t,e)})}addBoolVectorToStream(t,e,i){uJ(this,e,e=>{let n=this.i._allocateBoolVector(t.length);if(!n)throw Error("Unable to allocate new bool vector on heap.");for(let e of t)this.i._addBoolVectorEntry(n,e);this.i._addBoolVectorToInputStream(n,e,i)})}addDoubleVectorToStream(t,e,i){uJ(this,e,e=>{let n=this.i._allocateDoubleVector(t.length);if(!n)throw Error("Unable to allocate new double vector on heap.");for(let e of t)this.i._addDoubleVectorEntry(n,e);this.i._addDoubleVectorToInputStream(n,e,i)})}addFloatVectorToStream(t,e,i){uJ(this,e,e=>{let n=this.i._allocateFloatVector(t.length);if(!n)throw Error("Unable to allocate new float vector on heap.");for(let e of t)this.i._addFloatVectorEntry(n,e);this.i._addFloatVectorToInputStream(n,e,i)})}addIntVectorToStream(t,e,i){uJ(this,e,e=>{let n=this.i._allocateIntVector(t.length);if(!n)throw Error("Unable to allocate new int vector on heap.");for(let e of t)this.i._addIntVectorEntry(n,e);this.i._addIntVectorToInputStream(n,e,i)})}addUintVectorToStream(t,e,i){uJ(this,e,e=>{let n=this.i._allocateUintVector(t.length);if(!n)throw Error("Unable to allocate new unsigned int vector on heap.");for(let e of t)this.i._addUintVectorEntry(n,e);this.i._addUintVectorToInputStream(n,e,i)})}addStringVectorToStream(t,e,i){uJ(this,e,e=>{let n=this.i._allocateStringVector(t.length);if(!n)throw Error("Unable to allocate new string vector on heap.");for(let e of t)uJ(this,e,t=>{this.i._addStringVectorEntry(n,t)});this.i._addStringVectorToInputStream(n,e,i)})}addBoolToInputSidePacket(t,e){uJ(this,e,e=>{this.i._addBoolToInputSidePacket(t,e)})}addDoubleToInputSidePacket(t,e){uJ(this,e,e=>{this.i._addDoubleToInputSidePacket(t,e)})}addFloatToInputSidePacket(t,e){uJ(this,e,e=>{this.i._addFloatToInputSidePacket(t,e)})}addIntToInputSidePacket(t,e){uJ(this,e,e=>{this.i._addIntToInputSidePacket(t,e)})}addUintToInputSidePacket(t,e){uJ(this,e,e=>{this.i._addUintToInputSidePacket(t,e)})}addStringToInputSidePacket(t,e){uJ(this,e,e=>{uJ(this,t,t=>{this.i._addStringToInputSidePacket(t,e)})})}addProtoToInputSidePacket(t,e,i){uJ(this,i,i=>{uJ(this,e,e=>{let n=this.i._malloc(t.length);this.i.HEAPU8.set(t,n),this.i._addProtoToInputSidePacket(n,t.length,e,i),this.i._free(n)})})}addBoolVectorToInputSidePacket(t,e){uJ(this,e,e=>{let i=this.i._allocateBoolVector(t.length);if(!i)throw Error("Unable to allocate new bool vector on heap.");for(let e of t)this.i._addBoolVectorEntry(i,e);this.i._addBoolVectorToInputSidePacket(i,e)})}addDoubleVectorToInputSidePacket(t,e){uJ(this,e,e=>{let i=this.i._allocateDoubleVector(t.length);if(!i)throw Error("Unable to allocate new double vector on heap.");for(let e of t)this.i._addDoubleVectorEntry(i,e);this.i._addDoubleVectorToInputSidePacket(i,e)})}addFloatVectorToInputSidePacket(t,e){uJ(this,e,e=>{let i=this.i._allocateFloatVector(t.length);if(!i)throw Error("Unable to allocate new float vector on heap.");for(let e of t)this.i._addFloatVectorEntry(i,e);this.i._addFloatVectorToInputSidePacket(i,e)})}addIntVectorToInputSidePacket(t,e){uJ(this,e,e=>{let i=this.i._allocateIntVector(t.length);if(!i)throw Error("Unable to allocate new int vector on heap.");for(let e of t)this.i._addIntVectorEntry(i,e);this.i._addIntVectorToInputSidePacket(i,e)})}addUintVectorToInputSidePacket(t,e){uJ(this,e,e=>{let i=this.i._allocateUintVector(t.length);if(!i)throw Error("Unable to allocate new unsigned int vector on heap.");for(let e of t)this.i._addUintVectorEntry(i,e);this.i._addUintVectorToInputSidePacket(i,e)})}addStringVectorToInputSidePacket(t,e){uJ(this,e,e=>{let i=this.i._allocateStringVector(t.length);if(!i)throw Error("Unable to allocate new string vector on heap.");for(let e of t)uJ(this,e,t=>{this.i._addStringVectorEntry(i,t)});this.i._addStringVectorToInputSidePacket(i,e)})}attachBoolListener(t,e){u1(this,t,e),uJ(this,t,t=>{this.i._attachBoolListener(t)})}attachBoolVectorListener(t,e){u2(this,t,e),uJ(this,t,t=>{this.i._attachBoolVectorListener(t)})}attachIntListener(t,e){u1(this,t,e),uJ(this,t,t=>{this.i._attachIntListener(t)})}attachIntVectorListener(t,e){u2(this,t,e),uJ(this,t,t=>{this.i._attachIntVectorListener(t)})}attachUintListener(t,e){u1(this,t,e),uJ(this,t,t=>{this.i._attachUintListener(t)})}attachUintVectorListener(t,e){u2(this,t,e),uJ(this,t,t=>{this.i._attachUintVectorListener(t)})}attachDoubleListener(t,e){u1(this,t,e),uJ(this,t,t=>{this.i._attachDoubleListener(t)})}attachDoubleVectorListener(t,e){u2(this,t,e),uJ(this,t,t=>{this.i._attachDoubleVectorListener(t)})}attachFloatListener(t,e){u1(this,t,e),uJ(this,t,t=>{this.i._attachFloatListener(t)})}attachFloatVectorListener(t,e){u2(this,t,e),uJ(this,t,t=>{this.i._attachFloatVectorListener(t)})}attachStringListener(t,e){u1(this,t,e),uJ(this,t,t=>{this.i._attachStringListener(t)})}attachStringVectorListener(t,e){u2(this,t,e),uJ(this,t,t=>{this.i._attachStringVectorListener(t)})}attachProtoListener(t,e,i){u1(this,t,e),uJ(this,t,t=>{this.i._attachProtoListener(t,i||!1)})}attachProtoVectorListener(t,e,i){u2(this,t,e),uJ(this,t,t=>{this.i._attachProtoVectorListener(t,i||!1)})}attachAudioListener(t,e,i){this.i._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),u1(this,t,(t,i)=>{e(t=new Float32Array(t.buffer,t.byteOffset,t.length/4),i)}),uJ(this,t,t=>{this.i._attachAudioListener(t,i||!1)})}finishProcessing(){this.i._waitUntilIdle()}closeGraph(){this.i._closeGraph(),this.i.simpleListeners=void 0,this.i.emptyPacketListeners=void 0}},dK=class extends dW{get ha(){return this.i}sa(t,e,i){uJ(this,e,e=>{let[n,r]=uQ(this,t,e);this.ha._addBoundTextureAsImageToStream(e,n,r,i)})}W(t,e){u1(this,t,e),uJ(this,t,t=>{this.ha._attachImageListener(t)})}da(t,e){u2(this,t,e),uJ(this,t,t=>{this.ha._attachImageVectorListener(t)})}},class extends dK{Ma(){this.i._registerModelResourcesGraphService()}});var dK,dW,dX=class extends dV{};async function dY(t,e,i){return async function(t,e,i,n){return u3(t,e,i,n)}(t,i.canvas??(uX()?void 0:document.createElement("canvas")),e,i)}function dq(t,e,i,n){if(t.V){let s=new cL;if(i?.regionOfInterest){if(!t.ra)throw Error("This task doesn't support region-of-interest.");var r=i.regionOfInterest;if(r.left>=r.right||r.top>=r.bottom)throw Error("Expected RectF with left < right and top < bottom.");if(0>r.left||0>r.top||1<r.right||1<r.bottom)throw Error("Expected RectF values to be in [0,1].");lI(s,1,(r.left+r.right)/2),lI(s,2,(r.top+r.bottom)/2),lI(s,4,r.right-r.left),lI(s,3,r.bottom-r.top)}else lI(s,1,.5),lI(s,2,.5),lI(s,4,1),lI(s,3,1);if(i?.rotationDegrees){if(0!=i?.rotationDegrees%90)throw Error("Expected rotation to be a multiple of 90.");if(lI(s,5,-Math.PI*i.rotationDegrees/180),0!=i?.rotationDegrees%180){let[t,n]=uq(e);i=lk(s,3)*n/t,r=lk(s,4)*t/n,lI(s,4,i),lI(s,3,r)}}t.g.addProtoToStream(s.g(),"mediapipe.NormalizedRect",t.V,n)}t.g.sa(e,t.ba,n??performance.now()),t.finishProcessing()}function dJ(t,e,i){if(t.baseOptions?.g())throw Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");dq(t,e,i,t.J+1)}function dQ(t,e,i,n){if(!t.baseOptions?.g())throw Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");dq(t,e,i,n)}function dZ(t,e,i,n){var r=e.data;let s=e.width,o=s*(e=e.height);if((r instanceof Uint8Array||r instanceof Float32Array)&&r.length!==o)throw Error("Unsupported channel count: "+r.length/o);return t=new dA([r],i,!1,t.g.i.canvas,t.M,s,e),n?t.clone():t}var d1=class extends u9{constructor(t,e,i,n){super(t),this.g=t,this.ba=e,this.V=i,this.ra=n,this.M=new dc}l(t,e=!0){if("runningMode"in t&&lC(this.baseOptions,2,!!t.runningMode&&"IMAGE"!==t.runningMode),void 0!==t.canvas&&this.g.i.canvas!==t.canvas)throw Error("You must create a new task to reset the canvas.");return super.l(t,e)}close(){this.M.close(),super.close()}};d1.prototype.close=d1.prototype.close;var d2=class extends d1{constructor(t,e){super(new dX(t,e),"image_in","norm_rect_in",!1),this.j={detections:[]},lw(t=this.h=new cJ,0,1,e=new cY),lI(this.h,2,.5),lI(this.h,3,.3)}get baseOptions(){return l_(this.h,cY,1)}set baseOptions(t){lw(this.h,0,1,t)}o(t){return"minDetectionConfidence"in t&&lI(this.h,2,t.minDetectionConfidence??.5),"minSuppressionThreshold"in t&&lI(this.h,3,t.minSuppressionThreshold??.3),this.l(t)}F(t,e){return this.j={detections:[]},dJ(this,t,e),this.j}G(t,e,i){return this.j={detections:[]},dQ(this,t,i,e),this.j}m(){var t=new h9;h8(t,"image_in"),h8(t,"norm_rect_in"),h7(t,"detections");let e=new hz;lM(e,cZ,this.h);let i=new h2;hQ(i,"mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),hZ(i,"IMAGE:image_in"),hZ(i,"NORM_RECT:norm_rect_in"),h1(i,"DETECTIONS:detections"),i.o(e),h6(t,i),this.g.attachProtoVectorListener("detections",(t,e)=>{for(let e of t)t=cv(e),this.j.detections.push(uB(t));u5(this,e)}),this.g.attachEmptyPacketListener("detections",t=>{u5(this,t)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};d2.prototype.detectForVideo=d2.prototype.G,d2.prototype.detect=d2.prototype.F,d2.prototype.setOptions=d2.prototype.o,d2.createFromModelPath=async function(t,e){return dY(d2,t,{baseOptions:{modelAssetPath:e}})},d2.createFromModelBuffer=function(t,e){return dY(d2,t,{baseOptions:{modelAssetBuffer:e}})},d2.createFromOptions=function(t,e){return dY(d2,t,e)};var d3=dz([61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]),d0=dz([263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]),d4=dz([276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]),d5=dz([474,475],[475,476],[476,477],[477,474]),d6=dz([33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]),d8=dz([46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]),d7=dz([469,470],[470,471],[471,472],[472,469]),d9=dz([10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]),ft=[...d3,...d0,...d4,...d6,...d8,...d9],fe=dz([127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]);function fi(t){t.u={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}var fn=class extends d1{constructor(t,e){super(new dX(t,e),"image_in","norm_rect",!1),this.u={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFacialTransformationMatrixes=this.outputFaceBlendshapes=!1,lw(t=this.h=new c6,0,1,e=new cY),this.H=new c4,lw(this.h,0,3,this.H),this.j=new cJ,lw(this.h,0,2,this.j),lL(this.j,4,1),lI(this.j,2,.5),lI(this.H,2,.5),lI(this.h,4,.5)}get baseOptions(){return l_(this.h,cY,1)}set baseOptions(t){lw(this.h,0,1,t)}o(t){return"numFaces"in t&&lL(this.j,4,t.numFaces??1),"minFaceDetectionConfidence"in t&&lI(this.j,2,t.minFaceDetectionConfidence??.5),"minTrackingConfidence"in t&&lI(this.h,4,t.minTrackingConfidence??.5),"minFacePresenceConfidence"in t&&lI(this.H,2,t.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in t&&(this.outputFaceBlendshapes=!!t.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in t&&(this.outputFacialTransformationMatrixes=!!t.outputFacialTransformationMatrixes),this.l(t)}F(t,e){return fi(this),dJ(this,t,e),this.u}G(t,e,i){return fi(this),dQ(this,t,i,e),this.u}m(){var t=new h9;h8(t,"image_in"),h8(t,"norm_rect"),h7(t,"face_landmarks");let e=new hz;lM(e,c7,this.h);let i=new h2;hQ(i,"mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),hZ(i,"IMAGE:image_in"),hZ(i,"NORM_RECT:norm_rect"),h1(i,"NORM_LANDMARKS:face_landmarks"),i.o(e),h6(t,i),this.g.attachProtoVectorListener("face_landmarks",(t,e)=>{for(let e of t)t=ck(e),this.u.faceLandmarks.push(uj(t));u5(this,e)}),this.g.attachEmptyPacketListener("face_landmarks",t=>{u5(this,t)}),this.outputFaceBlendshapes&&(h7(t,"blendshapes"),h1(i,"BLENDSHAPES:blendshapes"),this.g.attachProtoVectorListener("blendshapes",(t,e)=>{if(this.outputFaceBlendshapes)for(let e of t)t=ca(e),this.u.faceBlendshapes.push(uU(t.g()??[]));u5(this,e)}),this.g.attachEmptyPacketListener("blendshapes",t=>{u5(this,t)})),this.outputFacialTransformationMatrixes&&(h7(t,"face_geometry"),h1(i,"FACE_GEOMETRY:face_geometry"),this.g.attachProtoVectorListener("face_geometry",(t,e)=>{if(this.outputFacialTransformationMatrixes)for(let e of t)(t=l_(c3(e),cx,2))&&this.u.facialTransformationMatrixes.push({rows:lS(t,1)??0??0,columns:lS(t,2)??0??0,data:lr(t,3,aA).slice()??[]});u5(this,e)}),this.g.attachEmptyPacketListener("face_geometry",t=>{u5(this,t)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};fn.prototype.detectForVideo=fn.prototype.G,fn.prototype.detect=fn.prototype.F,fn.prototype.setOptions=fn.prototype.o,fn.createFromModelPath=function(t,e){return dY(fn,t,{baseOptions:{modelAssetPath:e}})},fn.createFromModelBuffer=function(t,e){return dY(fn,t,{baseOptions:{modelAssetBuffer:e}})},fn.createFromOptions=function(t,e){return dY(fn,t,e)},fn.FACE_LANDMARKS_LIPS=d3,fn.FACE_LANDMARKS_LEFT_EYE=d0,fn.FACE_LANDMARKS_LEFT_EYEBROW=d4,fn.FACE_LANDMARKS_LEFT_IRIS=d5,fn.FACE_LANDMARKS_RIGHT_EYE=d6,fn.FACE_LANDMARKS_RIGHT_EYEBROW=d8,fn.FACE_LANDMARKS_RIGHT_IRIS=d7,fn.FACE_LANDMARKS_FACE_OVAL=d9,fn.FACE_LANDMARKS_CONTOURS=ft,fn.FACE_LANDMARKS_TESSELATION=fe;var fr=class extends d1{constructor(t,e){super(new dX(t,e),"image_in","norm_rect",!0),lw(t=this.j=new c9,0,1,e=new cY)}get baseOptions(){return l_(this.j,cY,1)}set baseOptions(t){lw(this.j,0,1,t)}o(t){return super.l(t)}Pa(t,e,i){if(this.h="function"==typeof e?e:i,dJ(this,t,("function"!=typeof e?e:{})??{}),!this.h)return this.u}m(){var t=new h9;h8(t,"image_in"),h8(t,"norm_rect"),h7(t,"stylized_image");let e=new hz;lM(e,ut,this.j);let i=new h2;hQ(i,"mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),hZ(i,"IMAGE:image_in"),hZ(i,"NORM_RECT:norm_rect"),h1(i,"STYLIZED_IMAGE:stylized_image"),i.o(e),h6(t,i),this.g.W("stylized_image",(t,e)=>{var i=!this.h,n=t.data,r=t.width;let s=r*(t=t.height);if(n instanceof Uint8Array){if(n.length===3*s){let e=new Uint8ClampedArray(4*s);for(let t=0;t<s;++t)e[4*t]=n[3*t],e[4*t+1]=n[3*t+1],e[4*t+2]=n[3*t+2],e[4*t+3]=255;n=new ImageData(e,r,t)}else{if(n.length!==4*s)throw Error("Unsupported channel count: "+n.length/s);n=new ImageData(new Uint8ClampedArray(n.buffer,n.byteOffset,n.length),r,t)}}else if(!(n instanceof WebGLTexture))throw Error(`Unsupported format: ${n.constructor.name}`);r=new d$([n],!1,!1,this.g.i.canvas,this.M,r,t),this.u=i=i?r.clone():r,this.h&&this.h(i),u5(this,e)}),this.g.attachEmptyPacketListener("stylized_image",t=>{this.u=null,this.h&&this.h(null),u5(this,t)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};fr.prototype.stylize=fr.prototype.Pa,fr.prototype.setOptions=fr.prototype.o,fr.createFromModelPath=function(t,e){return dY(fr,t,{baseOptions:{modelAssetPath:e}})},fr.createFromModelBuffer=function(t,e){return dY(fr,t,{baseOptions:{modelAssetBuffer:e}})},fr.createFromOptions=function(t,e){return dY(fr,t,e)};var fs=dz([0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]);function fo(t){t.gestures=[],t.landmarks=[],t.worldLandmarks=[],t.handedness=[]}function fa(t){return 0===t.gestures.length?{gestures:[],landmarks:[],worldLandmarks:[],handedness:[],handednesses:[]}:{gestures:t.gestures,landmarks:t.landmarks,worldLandmarks:t.worldLandmarks,handedness:t.handedness,handednesses:t.handedness}}function fl(t,e=!0){let i=[];for(let r of t){var n=ca(r);for(let i of(t=[],n.g()))n=e&&null!=lS(i,1)?lS(i,1)??0:-1,t.push({score:lk(i,2)??0,index:n,categoryName:lx(i,3)??"",displayName:lx(i,4)??""});i.push(t)}return i}var fh=class extends d1{constructor(t,e){super(new dX(t,e),"image_in","norm_rect",!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handedness=[],lw(t=this.v=new ud,0,1,e=new cY),this.A=new uc,lw(this.v,0,2,this.A),this.u=new ul,lw(this.A,0,3,this.u),this.h=new uo,lw(this.A,0,2,this.h),this.j=new ur,lw(this.v,0,3,this.j),lI(this.h,2,.5),lI(this.A,4,.5),lI(this.u,2,.5)}get baseOptions(){return l_(this.v,cY,1)}set baseOptions(t){lw(this.v,0,1,t)}o(t){if(lL(this.h,3,t.numHands??1),"minHandDetectionConfidence"in t&&lI(this.h,2,t.minHandDetectionConfidence??.5),"minTrackingConfidence"in t&&lI(this.A,4,t.minTrackingConfidence??.5),"minHandPresenceConfidence"in t&&lI(this.u,2,t.minHandPresenceConfidence??.5),t.cannedGesturesClassifierOptions){var e=new ue,i=e,n=uD(t.cannedGesturesClassifierOptions,l_(this.j,ue,3)?.h());lw(i,0,2,n),lw(this.j,0,3,e)}else void 0===t.cannedGesturesClassifierOptions&&l_(this.j,ue,3)?.g();return t.customGesturesClassifierOptions?(lw(i=e=new ue,0,2,n=uD(t.customGesturesClassifierOptions,l_(this.j,ue,4)?.h())),lw(this.j,0,4,e)):void 0===t.customGesturesClassifierOptions&&l_(this.j,ue,4)?.g(),this.l(t)}Ka(t,e){return fo(this),dJ(this,t,e),fa(this)}La(t,e,i){return fo(this),dQ(this,t,i,e),fa(this)}m(){var t=new h9;h8(t,"image_in"),h8(t,"norm_rect"),h7(t,"hand_gestures"),h7(t,"hand_landmarks"),h7(t,"world_hand_landmarks"),h7(t,"handedness");let e=new hz;lM(e,um,this.v);let i=new h2;hQ(i,"mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),hZ(i,"IMAGE:image_in"),hZ(i,"NORM_RECT:norm_rect"),h1(i,"HAND_GESTURES:hand_gestures"),h1(i,"LANDMARKS:hand_landmarks"),h1(i,"WORLD_LANDMARKS:world_hand_landmarks"),h1(i,"HANDEDNESS:handedness"),i.o(e),h6(t,i),this.g.attachProtoVectorListener("hand_landmarks",(t,e)=>{for(let e of t){t=ck(e);let i=[];for(let e of ly(t,cE,1))i.push({x:lk(e,1)??0,y:lk(e,2)??0,z:lk(e,3)??0,visibility:lk(e,4)??0});this.landmarks.push(i)}u5(this,e)}),this.g.attachEmptyPacketListener("hand_landmarks",t=>{u5(this,t)}),this.g.attachProtoVectorListener("world_hand_landmarks",(t,e)=>{for(let e of t){t=cA(e);let i=[];for(let e of ly(t,cy,1))i.push({x:lk(e,1)??0,y:lk(e,2)??0,z:lk(e,3)??0,visibility:lk(e,4)??0});this.worldLandmarks.push(i)}u5(this,e)}),this.g.attachEmptyPacketListener("world_hand_landmarks",t=>{u5(this,t)}),this.g.attachProtoVectorListener("hand_gestures",(t,e)=>{this.gestures.push(...fl(t,!1)),u5(this,e)}),this.g.attachEmptyPacketListener("hand_gestures",t=>{u5(this,t)}),this.g.attachProtoVectorListener("handedness",(t,e)=>{this.handedness.push(...fl(t)),u5(this,e)}),this.g.attachEmptyPacketListener("handedness",t=>{u5(this,t)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};function fc(t){return{landmarks:t.landmarks,worldLandmarks:t.worldLandmarks,handednesses:t.handedness,handedness:t.handedness}}fh.prototype.recognizeForVideo=fh.prototype.La,fh.prototype.recognize=fh.prototype.Ka,fh.prototype.setOptions=fh.prototype.o,fh.createFromModelPath=function(t,e){return dY(fh,t,{baseOptions:{modelAssetPath:e}})},fh.createFromModelBuffer=function(t,e){return dY(fh,t,{baseOptions:{modelAssetBuffer:e}})},fh.createFromOptions=function(t,e){return dY(fh,t,e)},fh.HAND_CONNECTIONS=fs;var fu=class extends d1{constructor(t,e){super(new dX(t,e),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.handedness=[],lw(t=this.j=new uc,0,1,e=new cY),this.u=new ul,lw(this.j,0,3,this.u),this.h=new uo,lw(this.j,0,2,this.h),lL(this.h,3,1),lI(this.h,2,.5),lI(this.u,2,.5),lI(this.j,4,.5)}get baseOptions(){return l_(this.j,cY,1)}set baseOptions(t){lw(this.j,0,1,t)}o(t){return"numHands"in t&&lL(this.h,3,t.numHands??1),"minHandDetectionConfidence"in t&&lI(this.h,2,t.minHandDetectionConfidence??.5),"minTrackingConfidence"in t&&lI(this.j,4,t.minTrackingConfidence??.5),"minHandPresenceConfidence"in t&&lI(this.u,2,t.minHandPresenceConfidence??.5),this.l(t)}F(t,e){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],dJ(this,t,e),fc(this)}G(t,e,i){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],dQ(this,t,i,e),fc(this)}m(){var t=new h9;h8(t,"image_in"),h8(t,"norm_rect"),h7(t,"hand_landmarks"),h7(t,"world_hand_landmarks"),h7(t,"handedness");let e=new hz;lM(e,up,this.j);let i=new h2;hQ(i,"mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),hZ(i,"IMAGE:image_in"),hZ(i,"NORM_RECT:norm_rect"),h1(i,"LANDMARKS:hand_landmarks"),h1(i,"WORLD_LANDMARKS:world_hand_landmarks"),h1(i,"HANDEDNESS:handedness"),i.o(e),h6(t,i),this.g.attachProtoVectorListener("hand_landmarks",(t,e)=>{for(let e of t)t=ck(e),this.landmarks.push(uj(t));u5(this,e)}),this.g.attachEmptyPacketListener("hand_landmarks",t=>{u5(this,t)}),this.g.attachProtoVectorListener("world_hand_landmarks",(t,e)=>{for(let e of t)t=cA(e),this.worldLandmarks.push(uH(t));u5(this,e)}),this.g.attachEmptyPacketListener("world_hand_landmarks",t=>{u5(this,t)}),this.g.attachProtoVectorListener("handedness",(t,e)=>{var i=this.handedness,n=i.push;let r=[];for(let e of t){t=ca(e);let i=[];for(let e of t.g())i.push({score:lk(e,2)??0,index:lS(e,1)??0??-1,categoryName:lx(e,3)??"",displayName:lx(e,4)??""});r.push(i)}n.call(i,...r),u5(this,e)}),this.g.attachEmptyPacketListener("handedness",t=>{u5(this,t)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};fu.prototype.detectForVideo=fu.prototype.G,fu.prototype.detect=fu.prototype.F,fu.prototype.setOptions=fu.prototype.o,fu.createFromModelPath=function(t,e){return dY(fu,t,{baseOptions:{modelAssetPath:e}})},fu.createFromModelBuffer=function(t,e){return dY(fu,t,{baseOptions:{modelAssetBuffer:e}})},fu.createFromOptions=function(t,e){return dY(fu,t,e)},fu.HAND_CONNECTIONS=fs;var fd=dz([0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]);function ff(t){t.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]}}function fp(t){try{if(!t.I)return t.h;t.I(t.h)}finally{u7(t)}}function fm(t,e){t=ck(t),e.push(uj(t))}var fg=class extends d1{constructor(t,e){super(new dX(t,e),"input_frames_image",null,!1),this.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]},this.outputPoseSegmentationMasks=this.outputFaceBlendshapes=!1,lw(t=this.A=new uA,0,1,e=new cY),this.u=new ul,lw(this.A,0,2,this.u),this.aa=new ug,lw(this.A,0,3,this.aa),this.j=new cJ,lw(this.A,0,4,this.j),this.H=new c4,lw(this.A,0,5,this.H),this.v=new uv,lw(this.A,0,6,this.v),this.D=new uw,lw(this.A,0,7,this.D),lI(this.j,2,.5),lI(this.j,3,.3),lI(this.H,2,.5),lI(this.v,2,.5),lI(this.v,3,.3),lI(this.D,2,.5),lI(this.u,2,.5)}get baseOptions(){return l_(this.A,cY,1)}set baseOptions(t){lw(this.A,0,1,t)}o(t){return"minFaceDetectionConfidence"in t&&lI(this.j,2,t.minFaceDetectionConfidence??.5),"minFaceSuppressionThreshold"in t&&lI(this.j,3,t.minFaceSuppressionThreshold??.3),"minFacePresenceConfidence"in t&&lI(this.H,2,t.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in t&&(this.outputFaceBlendshapes=!!t.outputFaceBlendshapes),"minPoseDetectionConfidence"in t&&lI(this.v,2,t.minPoseDetectionConfidence??.5),"minPoseSuppressionThreshold"in t&&lI(this.v,3,t.minPoseSuppressionThreshold??.3),"minPosePresenceConfidence"in t&&lI(this.D,2,t.minPosePresenceConfidence??.5),"outputPoseSegmentationMasks"in t&&(this.outputPoseSegmentationMasks=!!t.outputPoseSegmentationMasks),"minHandLandmarksConfidence"in t&&lI(this.u,2,t.minHandLandmarksConfidence??.5),this.l(t)}F(t,e,i){return this.I="function"==typeof e?e:i,ff(this),dJ(this,t,"function"!=typeof e?e:{}),fp(this)}G(t,e,i,n){return this.I="function"==typeof i?i:n,ff(this),dQ(this,t,"function"!=typeof i?i:{},e),fp(this)}m(){var t=new h9;h8(t,"input_frames_image"),h7(t,"pose_landmarks"),h7(t,"pose_world_landmarks"),h7(t,"face_landmarks"),h7(t,"left_hand_landmarks"),h7(t,"left_hand_world_landmarks"),h7(t,"right_hand_landmarks"),h7(t,"right_hand_world_landmarks");let e=new hz,i=new hN;lc(i,1,aP("type.googleapis.com/mediapipe.tasks.vision.holistic_landmarker.proto.HolisticLandmarkerGraphOptions"),""),function(t,e){if(null!=e){if(Array.isArray(e))a9(t,2,aZ(e,a2,void 0,void 0,!1));else{if(!("string"==typeof e||e instanceof or||s7(e)))throw Error("invalid value in Any.value field: "+e+" expected a ByteString, a base64 encoded string, a Uint8Array or a jspb array");lc(t,2,af(e,!1,!1),oi())}}}(i,this.A.g());let n=new h2;hQ(n,"mediapipe.tasks.vision.holistic_landmarker.HolisticLandmarkerGraph"),lT(n,8,hN,i),hZ(n,"IMAGE:input_frames_image"),h1(n,"POSE_LANDMARKS:pose_landmarks"),h1(n,"POSE_WORLD_LANDMARKS:pose_world_landmarks"),h1(n,"FACE_LANDMARKS:face_landmarks"),h1(n,"LEFT_HAND_LANDMARKS:left_hand_landmarks"),h1(n,"LEFT_HAND_WORLD_LANDMARKS:left_hand_world_landmarks"),h1(n,"RIGHT_HAND_LANDMARKS:right_hand_landmarks"),h1(n,"RIGHT_HAND_WORLD_LANDMARKS:right_hand_world_landmarks"),n.o(e),h6(t,n),u6(this,t),this.g.attachProtoListener("pose_landmarks",(t,e)=>{fm(t,this.h.poseLandmarks),u5(this,e)}),this.g.attachEmptyPacketListener("pose_landmarks",t=>{u5(this,t)}),this.g.attachProtoListener("pose_world_landmarks",(t,e)=>{var i=this.h.poseWorldLandmarks;t=cA(t),i.push(uH(t)),u5(this,e)}),this.g.attachEmptyPacketListener("pose_world_landmarks",t=>{u5(this,t)}),this.outputPoseSegmentationMasks&&(h1(n,"POSE_SEGMENTATION_MASK:pose_segmentation_mask"),u8(this,"pose_segmentation_mask"),this.g.W("pose_segmentation_mask",(t,e)=>{this.h.poseSegmentationMasks=[dZ(this,t,!0,!this.I)],u5(this,e)}),this.g.attachEmptyPacketListener("pose_segmentation_mask",t=>{this.h.poseSegmentationMasks=[],u5(this,t)})),this.g.attachProtoListener("face_landmarks",(t,e)=>{fm(t,this.h.faceLandmarks),u5(this,e)}),this.g.attachEmptyPacketListener("face_landmarks",t=>{u5(this,t)}),this.outputFaceBlendshapes&&(h7(t,"extra_blendshapes"),h1(n,"FACE_BLENDSHAPES:extra_blendshapes"),this.g.attachProtoListener("extra_blendshapes",(t,e)=>{var i=this.h.faceBlendshapes;this.outputFaceBlendshapes&&(t=ca(t),i.push(uU(t.g()??[]))),u5(this,e)}),this.g.attachEmptyPacketListener("extra_blendshapes",t=>{u5(this,t)})),this.g.attachProtoListener("left_hand_landmarks",(t,e)=>{fm(t,this.h.leftHandLandmarks),u5(this,e)}),this.g.attachEmptyPacketListener("left_hand_landmarks",t=>{u5(this,t)}),this.g.attachProtoListener("left_hand_world_landmarks",(t,e)=>{var i=this.h.leftHandWorldLandmarks;t=cA(t),i.push(uH(t)),u5(this,e)}),this.g.attachEmptyPacketListener("left_hand_world_landmarks",t=>{u5(this,t)}),this.g.attachProtoListener("right_hand_landmarks",(t,e)=>{fm(t,this.h.rightHandLandmarks),u5(this,e)}),this.g.attachEmptyPacketListener("right_hand_landmarks",t=>{u5(this,t)}),this.g.attachProtoListener("right_hand_world_landmarks",(t,e)=>{var i=this.h.rightHandWorldLandmarks;t=cA(t),i.push(uH(t)),u5(this,e)}),this.g.attachEmptyPacketListener("right_hand_world_landmarks",t=>{u5(this,t)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};fg.prototype.detectForVideo=fg.prototype.G,fg.prototype.detect=fg.prototype.F,fg.prototype.setOptions=fg.prototype.o,fg.createFromModelPath=function(t,e){return dY(fg,t,{baseOptions:{modelAssetPath:e}})},fg.createFromModelBuffer=function(t,e){return dY(fg,t,{baseOptions:{modelAssetBuffer:e}})},fg.createFromOptions=function(t,e){return dY(fg,t,e)},fg.HAND_CONNECTIONS=fs,fg.POSE_CONNECTIONS=fd,fg.FACE_LANDMARKS_LIPS=d3,fg.FACE_LANDMARKS_LEFT_EYE=d0,fg.FACE_LANDMARKS_LEFT_EYEBROW=d4,fg.FACE_LANDMARKS_LEFT_IRIS=d5,fg.FACE_LANDMARKS_RIGHT_EYE=d6,fg.FACE_LANDMARKS_RIGHT_EYEBROW=d8,fg.FACE_LANDMARKS_RIGHT_IRIS=d7,fg.FACE_LANDMARKS_FACE_OVAL=d9,fg.FACE_LANDMARKS_CONTOURS=ft,fg.FACE_LANDMARKS_TESSELATION=fe;var f_=class extends d1{constructor(t,e){super(new dX(t,e),"input_image","norm_rect",!0),this.j={classifications:[]},lw(t=this.h=new uE,0,1,e=new cY)}get baseOptions(){return l_(this.h,cY,1)}set baseOptions(t){lw(this.h,0,1,t)}o(t){return lw(this.h,0,2,uD(t,l_(this.h,cH,2))),this.l(t)}ua(t,e){return this.j={classifications:[]},dJ(this,t,e),this.j}va(t,e,i){return this.j={classifications:[]},dQ(this,t,i,e),this.j}m(){var t=new h9;h8(t,"input_image"),h8(t,"norm_rect"),h7(t,"classifications");let e=new hz;lM(e,uT,this.h);let i=new h2;hQ(i,"mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),hZ(i,"IMAGE:input_image"),hZ(i,"NORM_RECT:norm_rect"),h1(i,"CLASSIFICATIONS:classifications"),i.o(e),h6(t,i),this.g.attachProtoListener("classifications",(t,e)=>{this.j=function(t){let e={classifications:ly(t,cI,1).map(t=>uU(l_(t,cs,4)?.g()??[],lS(t,2)??0,lx(t,3)))};return null!=aO(a6(t,2))&&(e.timestampMs=aO(a6(t,2))??0),e}(cN(t)),u5(this,e)}),this.g.attachEmptyPacketListener("classifications",t=>{u5(this,t)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};f_.prototype.classifyForVideo=f_.prototype.va,f_.prototype.classify=f_.prototype.ua,f_.prototype.setOptions=f_.prototype.o,f_.createFromModelPath=function(t,e){return dY(f_,t,{baseOptions:{modelAssetPath:e}})},f_.createFromModelBuffer=function(t,e){return dY(f_,t,{baseOptions:{modelAssetBuffer:e}})},f_.createFromOptions=function(t,e){return dY(f_,t,e)};var fv=class extends d1{constructor(t,e){super(new dX(t,e),"image_in","norm_rect",!0),this.h=new uS,this.embeddings={embeddings:[]},lw(t=this.h,0,1,e=new cY)}get baseOptions(){return l_(this.h,cY,1)}set baseOptions(t){lw(this.h,0,1,t)}o(t){var e=this.h,i=l_(this.h,cG,2);return i=i?i.clone():new cG,void 0!==t.l2Normalize?lC(i,1,t.l2Normalize):"l2Normalize"in t&&a9(i,1),void 0!==t.quantize?lC(i,2,t.quantize):"quantize"in t&&a9(i,2),lw(e,0,2,i),this.l(t)}Ba(t,e){return dJ(this,t,e),this.embeddings}Ca(t,e,i){return dQ(this,t,i,e),this.embeddings}m(){var t=new h9;h8(t,"image_in"),h8(t,"norm_rect"),h7(t,"embeddings_out");let e=new hz;lM(e,uk,this.h);let i=new h2;hQ(i,"mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),hZ(i,"IMAGE:image_in"),hZ(i,"NORM_RECT:norm_rect"),h1(i,"EMBEDDINGS:embeddings_out"),i.o(e),h6(t,i),this.g.attachProtoListener("embeddings_out",(t,e)=>{var i;t=cj(t),this.embeddings={embeddings:ly(i=t,cR,1).map(t=>{let e={headIndex:lS(t,3)??0??-1,headName:lx(t,4)??""};if(void 0!==lg(t,cP,lf(t,1)))t=lr(t=l_(t,cP,lf(t,1)),1,aA),e.floatEmbedding=t.slice();else{let i=new Uint8Array(0);e.quantizedEmbedding=l_(t,cF,lf(t,2))?.qa()?.h()??i}return e}),timestampMs:aO(a6(i,2))??0},u5(this,e)}),this.g.attachEmptyPacketListener("embeddings_out",t=>{u5(this,t)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};fv.cosineSimilarity=function(t,e){if(t.floatEmbedding&&e.floatEmbedding)t=uG(t.floatEmbedding,e.floatEmbedding);else{if(!t.quantizedEmbedding||!e.quantizedEmbedding)throw Error("Cannot compute cosine similarity between quantized and float embeddings.");t=uG(u$(t.quantizedEmbedding),u$(e.quantizedEmbedding))}return t},fv.prototype.embedForVideo=fv.prototype.Ca,fv.prototype.embed=fv.prototype.Ba,fv.prototype.setOptions=fv.prototype.o,fv.createFromModelPath=function(t,e){return dY(fv,t,{baseOptions:{modelAssetPath:e}})},fv.createFromModelBuffer=function(t,e){return dY(fv,t,{baseOptions:{modelAssetBuffer:e}})},fv.createFromOptions=function(t,e){return dY(fv,t,e)};var fy=class{constructor(t,e,i){this.confidenceMasks=t,this.categoryMask=e,this.qualityScores=i}close(){this.confidenceMasks?.forEach(t=>{t.close()}),this.categoryMask?.close()}};function fw(t){t.categoryMask=void 0,t.confidenceMasks=void 0,t.qualityScores=void 0}function fb(t){try{let e=new fy(t.confidenceMasks,t.categoryMask,t.qualityScores);if(!t.j)return e;t.j(e)}finally{u7(t)}}fy.prototype.close=fy.prototype.close;var fA=class extends d1{constructor(t,e){super(new dX(t,e),"image_in","norm_rect",!1),this.u=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new uM,this.v=new ux,lw(this.h,0,3,this.v),lw(t=this.h,0,1,e=new cY)}get baseOptions(){return l_(this.h,cY,1)}set baseOptions(t){lw(this.h,0,1,t)}o(t){return void 0!==t.displayNamesLocale?a9(this.h,2,aP(t.displayNamesLocale)):"displayNamesLocale"in t&&a9(this.h,2),"outputCategoryMask"in t&&(this.outputCategoryMask=t.outputCategoryMask??!1),"outputConfidenceMasks"in t&&(this.outputConfidenceMasks=t.outputConfidenceMasks??!0),super.l(t)}L(){!function(t){let e=ly(t.fa(),h2,1).filter(t=>lx(t,1).includes("mediapipe.tasks.TensorsToSegmentationCalculator"));if(t.u=[],1<e.length)throw Error("The graph has more than one mediapipe.tasks.TensorsToSegmentationCalculator.");1===e.length&&(l_(e[0],hz,7)?.l()?.g()??new Map).forEach((e,i)=>{t.u[Number(i)]=lx(e,1)})}(this)}ga(t,e,i){return this.j="function"==typeof e?e:i,fw(this),dJ(this,t,"function"!=typeof e?e:{}),fb(this)}Na(t,e,i,n){return this.j="function"==typeof i?i:n,fw(this),dQ(this,t,"function"!=typeof i?i:{},e),fb(this)}Fa(){return this.u}m(){var t=new h9;h8(t,"image_in"),h8(t,"norm_rect");let e=new hz;lM(e,uO,this.h);let i=new h2;hQ(i,"mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),hZ(i,"IMAGE:image_in"),hZ(i,"NORM_RECT:norm_rect"),i.o(e),h6(t,i),u6(this,t),this.outputConfidenceMasks&&(h7(t,"confidence_masks"),h1(i,"CONFIDENCE_MASKS:confidence_masks"),u8(this,"confidence_masks"),this.g.da("confidence_masks",(t,e)=>{this.confidenceMasks=t.map(t=>dZ(this,t,!0,!this.j)),u5(this,e)}),this.g.attachEmptyPacketListener("confidence_masks",t=>{this.confidenceMasks=[],u5(this,t)})),this.outputCategoryMask&&(h7(t,"category_mask"),h1(i,"CATEGORY_MASK:category_mask"),u8(this,"category_mask"),this.g.W("category_mask",(t,e)=>{this.categoryMask=dZ(this,t,!1,!this.j),u5(this,e)}),this.g.attachEmptyPacketListener("category_mask",t=>{this.categoryMask=void 0,u5(this,t)})),h7(t,"quality_scores"),h1(i,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",(t,e)=>{this.qualityScores=t,u5(this,e)}),this.g.attachEmptyPacketListener("quality_scores",t=>{this.categoryMask=void 0,u5(this,t)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};fA.prototype.getLabels=fA.prototype.Fa,fA.prototype.segmentForVideo=fA.prototype.Na,fA.prototype.segment=fA.prototype.ga,fA.prototype.setOptions=fA.prototype.o,fA.createFromModelPath=function(t,e){return dY(fA,t,{baseOptions:{modelAssetPath:e}})},fA.createFromModelBuffer=function(t,e){return dY(fA,t,{baseOptions:{modelAssetBuffer:e}})},fA.createFromOptions=function(t,e){return dY(fA,t,e)};var fE=class{constructor(t,e,i){this.confidenceMasks=t,this.categoryMask=e,this.qualityScores=i}close(){this.confidenceMasks?.forEach(t=>{t.close()}),this.categoryMask?.close()}};fE.prototype.close=fE.prototype.close;var fT=class extends lO{constructor(t){super(t)}},fS=[0,hp,-2],fk=[0,ha,-3,h_],fx=[0,ha,-3,h_,ha,-1],fC=[0,fx],fL=[0,fx,hp,-1],fI=[0,ha,-3,h_,fS,-1],fM=[0,ha,-3,h_,hx],fO=class extends lO{constructor(t){super(t)}},fN=[0,ha,-1,h_],fP=class extends lO{constructor(){super()}};fP.B=[1];var fF=class extends lO{constructor(t){super(t)}},fR=[1,2,3,4,5,6,7,8,9,10,14,15],fD=[0,fR,hT,fx,hT,[0,fx,fS],hT,fC,hT,[0,fC,fS],hT,fN,hT,fM,hT,fk,hT,[0,hb,ha,-2,h_,hp,h_,-1,2,ha,fS],hT,fL,hT,[0,fL,fS],ha,fS,hb,hT,fI,hT,[0,ho,fN]],fU=[0,hb,hp,-1,h_],fB=class extends lO{constructor(){super()}};fB.B=[1],fB.prototype.g=hO([0,ho,fD,hb,fU]);var fj=class extends d1{constructor(t,e){super(new dX(t,e),"image_in","norm_rect_in",!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new uM,this.v=new ux,lw(this.h,0,3,this.v),lw(t=this.h,0,1,e=new cY)}get baseOptions(){return l_(this.h,cY,1)}set baseOptions(t){lw(this.h,0,1,t)}o(t){return"outputCategoryMask"in t&&(this.outputCategoryMask=t.outputCategoryMask??!1),"outputConfidenceMasks"in t&&(this.outputConfidenceMasks=t.outputConfidenceMasks??!0),super.l(t)}ga(t,e,i,n){let r="function"!=typeof i?i:{};this.j="function"==typeof i?i:n,this.qualityScores=this.categoryMask=this.confidenceMasks=void 0,i=this.J+1,n=new fB;let s=new fF;var o=new fT;if(lL(o,1,255),lw(s,0,12,o),e.keypoint&&e.scribble)throw Error("Cannot provide both keypoint and scribble.");if(e.keypoint){var a=new fO;lC(a,3,!0),lI(a,1,e.keypoint.x),lI(a,2,e.keypoint.y),lb(s,5,fR,a)}else{if(!e.scribble)throw Error("Must provide either a keypoint or a scribble.");for(a of(o=new fP,e.scribble))lC(e=new fO,3,!0),lI(e,1,a.x),lI(e,2,a.y),lT(o,1,fO,e);lb(s,15,fR,o)}lT(n,1,fF,s),this.g.addProtoToStream(n.g(),"drishti.RenderData","roi_in",i),dJ(this,t,r);t:{try{let t=new fE(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.j){var l=t;break t}this.j(t)}finally{u7(this)}l=void 0}return l}m(){var t=new h9;h8(t,"image_in"),h8(t,"roi_in"),h8(t,"norm_rect_in");let e=new hz;lM(e,uO,this.h);let i=new h2;hQ(i,"mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),hZ(i,"IMAGE:image_in"),hZ(i,"ROI:roi_in"),hZ(i,"NORM_RECT:norm_rect_in"),i.o(e),h6(t,i),u6(this,t),this.outputConfidenceMasks&&(h7(t,"confidence_masks"),h1(i,"CONFIDENCE_MASKS:confidence_masks"),u8(this,"confidence_masks"),this.g.da("confidence_masks",(t,e)=>{this.confidenceMasks=t.map(t=>dZ(this,t,!0,!this.j)),u5(this,e)}),this.g.attachEmptyPacketListener("confidence_masks",t=>{this.confidenceMasks=[],u5(this,t)})),this.outputCategoryMask&&(h7(t,"category_mask"),h1(i,"CATEGORY_MASK:category_mask"),u8(this,"category_mask"),this.g.W("category_mask",(t,e)=>{this.categoryMask=dZ(this,t,!1,!this.j),u5(this,e)}),this.g.attachEmptyPacketListener("category_mask",t=>{this.categoryMask=void 0,u5(this,t)})),h7(t,"quality_scores"),h1(i,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",(t,e)=>{this.qualityScores=t,u5(this,e)}),this.g.attachEmptyPacketListener("quality_scores",t=>{this.categoryMask=void 0,u5(this,t)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};fj.prototype.segment=fj.prototype.ga,fj.prototype.setOptions=fj.prototype.o,fj.createFromModelPath=function(t,e){return dY(fj,t,{baseOptions:{modelAssetPath:e}})},fj.createFromModelBuffer=function(t,e){return dY(fj,t,{baseOptions:{modelAssetBuffer:e}})},fj.createFromOptions=function(t,e){return dY(fj,t,e)};var fH=class extends d1{constructor(t,e){super(new dX(t,e),"input_frame_gpu","norm_rect",!1),this.j={detections:[]},lw(t=this.h=new uN,0,1,e=new cY)}get baseOptions(){return l_(this.h,cY,1)}set baseOptions(t){lw(this.h,0,1,t)}o(t){return void 0!==t.displayNamesLocale?a9(this.h,2,aP(t.displayNamesLocale)):"displayNamesLocale"in t&&a9(this.h,2),void 0!==t.maxResults?lL(this.h,3,t.maxResults):"maxResults"in t&&a9(this.h,3),void 0!==t.scoreThreshold?lI(this.h,4,t.scoreThreshold):"scoreThreshold"in t&&a9(this.h,4),void 0!==t.categoryAllowlist?lh(this.h,5,t.categoryAllowlist):"categoryAllowlist"in t&&a9(this.h,5),void 0!==t.categoryDenylist?lh(this.h,6,t.categoryDenylist):"categoryDenylist"in t&&a9(this.h,6),this.l(t)}F(t,e){return this.j={detections:[]},dJ(this,t,e),this.j}G(t,e,i){return this.j={detections:[]},dQ(this,t,i,e),this.j}m(){var t=new h9;h8(t,"input_frame_gpu"),h8(t,"norm_rect"),h7(t,"detections");let e=new hz;lM(e,uP,this.h);let i=new h2;hQ(i,"mediapipe.tasks.vision.ObjectDetectorGraph"),hZ(i,"IMAGE:input_frame_gpu"),hZ(i,"NORM_RECT:norm_rect"),h1(i,"DETECTIONS:detections"),i.o(e),h6(t,i),this.g.attachProtoVectorListener("detections",(t,e)=>{for(let e of t)t=cv(e),this.j.detections.push(uB(t));u5(this,e)}),this.g.attachEmptyPacketListener("detections",t=>{u5(this,t)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};fH.prototype.detectForVideo=fH.prototype.G,fH.prototype.detect=fH.prototype.F,fH.prototype.setOptions=fH.prototype.o,fH.createFromModelPath=async function(t,e){return dY(fH,t,{baseOptions:{modelAssetPath:e}})},fH.createFromModelBuffer=function(t,e){return dY(fH,t,{baseOptions:{modelAssetBuffer:e}})},fH.createFromOptions=function(t,e){return dY(fH,t,e)};var f$=class{constructor(t,e,i){this.landmarks=t,this.worldLandmarks=e,this.segmentationMasks=i}close(){this.segmentationMasks?.forEach(t=>{t.close()})}};function fG(t){t.landmarks=[],t.worldLandmarks=[],t.segmentationMasks=void 0}function fz(t){try{let e=new f$(t.landmarks,t.worldLandmarks,t.segmentationMasks);if(!t.j)return e;t.j(e)}finally{u7(t)}}f$.prototype.close=f$.prototype.close;var fV=class extends d1{constructor(t,e){super(new dX(t,e),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,lw(t=this.h=new uF,0,1,e=new cY),this.D=new uw,lw(this.h,0,3,this.D),this.v=new uv,lw(this.h,0,2,this.v),lL(this.v,4,1),lI(this.v,2,.5),lI(this.D,2,.5),lI(this.h,4,.5)}get baseOptions(){return l_(this.h,cY,1)}set baseOptions(t){lw(this.h,0,1,t)}o(t){return"numPoses"in t&&lL(this.v,4,t.numPoses??1),"minPoseDetectionConfidence"in t&&lI(this.v,2,t.minPoseDetectionConfidence??.5),"minTrackingConfidence"in t&&lI(this.h,4,t.minTrackingConfidence??.5),"minPosePresenceConfidence"in t&&lI(this.D,2,t.minPosePresenceConfidence??.5),"outputSegmentationMasks"in t&&(this.outputSegmentationMasks=t.outputSegmentationMasks??!1),this.l(t)}F(t,e,i){return this.j="function"==typeof e?e:i,fG(this),dJ(this,t,"function"!=typeof e?e:{}),fz(this)}G(t,e,i,n){return this.j="function"==typeof i?i:n,fG(this),dQ(this,t,"function"!=typeof i?i:{},e),fz(this)}m(){var t=new h9;h8(t,"image_in"),h8(t,"norm_rect"),h7(t,"normalized_landmarks"),h7(t,"world_landmarks"),h7(t,"segmentation_masks");let e=new hz;lM(e,uR,this.h);let i=new h2;hQ(i,"mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),hZ(i,"IMAGE:image_in"),hZ(i,"NORM_RECT:norm_rect"),h1(i,"NORM_LANDMARKS:normalized_landmarks"),h1(i,"WORLD_LANDMARKS:world_landmarks"),i.o(e),h6(t,i),u6(this,t),this.g.attachProtoVectorListener("normalized_landmarks",(t,e)=>{for(let e of(this.landmarks=[],t))t=ck(e),this.landmarks.push(uj(t));u5(this,e)}),this.g.attachEmptyPacketListener("normalized_landmarks",t=>{this.landmarks=[],u5(this,t)}),this.g.attachProtoVectorListener("world_landmarks",(t,e)=>{for(let e of(this.worldLandmarks=[],t))t=cA(e),this.worldLandmarks.push(uH(t));u5(this,e)}),this.g.attachEmptyPacketListener("world_landmarks",t=>{this.worldLandmarks=[],u5(this,t)}),this.outputSegmentationMasks&&(h1(i,"SEGMENTATION_MASK:segmentation_masks"),u8(this,"segmentation_masks"),this.g.da("segmentation_masks",(t,e)=>{this.segmentationMasks=t.map(t=>dZ(this,t,!0,!this.j)),u5(this,e)}),this.g.attachEmptyPacketListener("segmentation_masks",t=>{this.segmentationMasks=[],u5(this,t)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};fV.prototype.detectForVideo=fV.prototype.G,fV.prototype.detect=fV.prototype.F,fV.prototype.setOptions=fV.prototype.o,fV.createFromModelPath=function(t,e){return dY(fV,t,{baseOptions:{modelAssetPath:e}})},fV.createFromModelBuffer=function(t,e){return dY(fV,t,{baseOptions:{modelAssetBuffer:e}})},fV.createFromOptions=function(t,e){return dY(fV,t,e)},fV.POSE_CONNECTIONS=fd;class fK{constructor(t,e){this.start=t,this.end=e}}function fW(t,e,i){if(0===i)return Array.from(new Set([t]));let n=e.filter(e=>e.start===t||e.end===t).map(e=>e.start===t?e.end:e.start),r=new Set(n);for(let t of n)for(let n of fW(t,e,i-1))r.add(n);return Array.from(r)}const fX=Array.from(new Set(fn.FACE_LANDMARKS_LIPS.map(t=>t.start).concat([62,76,184,183,42,74,41,73,38,72,12,11,268,302,271,303,272,304,407,408,292,306,325,307,319,320,403,404,316,315,15,16,86,85,179,180,89,90,96,77,291,308]))),fY=Array.from(new Set(fn.FACE_LANDMARKS_LEFT_EYE.map(t=>t.start).concat(fn.FACE_LANDMARKS_LEFT_EYE.map(t=>t.end)).concat(fn.FACE_LANDMARKS_LEFT_IRIS.map(t=>t.start).concat(fn.FACE_LANDMARKS_LEFT_IRIS.map(t=>t.end))))),fq=Array.from(new Set(fn.FACE_LANDMARKS_LEFT_EYEBROW.map(t=>t.start).concat(fn.FACE_LANDMARKS_LEFT_EYEBROW.map(t=>t.end)))),fJ=Array.from(new Set(fn.FACE_LANDMARKS_RIGHT_EYE.map(t=>t.start).concat(fn.FACE_LANDMARKS_RIGHT_EYE.map(t=>t.end)).concat(fn.FACE_LANDMARKS_RIGHT_IRIS.map(t=>t.start).concat(fn.FACE_LANDMARKS_RIGHT_IRIS.map(t=>t.end))))),fQ=Array.from(new Set(fn.FACE_LANDMARKS_RIGHT_EYEBROW.map(t=>t.start).concat(fn.FACE_LANDMARKS_RIGHT_EYEBROW.map(t=>t.end)))),fZ=function(...t){return t.map(([t,e])=>new fK(t,e))}([2,97],[97,98],[98,64],[64,48],[48,115],[115,220],[220,45],[45,4],[4,275],[275,440],[440,344],[344,278],[278,294],[294,327],[327,326],[326,2],[2,19],[19,1],[1,4],[4,5],[5,195],[195,197],[197,6],[6,168]),f1=Array.from(new Set(fZ.map(t=>t.start).concat(fZ.map(t=>t.end)).concat([102,49,209,217,174,196,6,419,399,437,429,279,331,198,131,134,236,3,51,248,281,456,363,420,360,94,141,125,44,237,239,238,241,242,99,60,75,240,235,59,166,219,79,218,370,354,274,457,438,439,455,460,328,462,461,250,458,290,305,289,392,309,459,20]))),f2="#b3ff42",f3="#42c6ff";class f0{constructor(){this.zoomScale=1,this.offsetX=0,this.offsetY=0,this.prevMouseX=0,this.prevMouseY=0,this.mouseX=0,this.mouseY=0,this.isMoving=!1,this.isPanning=!1,this.image=new Image,this.onPointsEditedCallback=null,this._dragDepth=0,this._graph=new sO([]),this._showTesselation=!1,this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.clearAndFitToWindow(),this.canvas.addEventListener("mousedown",t=>this.handleMouseDown(t)),this.canvas.addEventListener("mousemove",t=>this.handleMouseMove(t)),this.canvas.addEventListener("mouseup",t=>this.handleMouseUp(t)),this.canvas.addEventListener("wheel",t=>this.handleWheel(t)),this.canvas.addEventListener("mouseout",t=>this.handleMouseUp(t))}get dragDepth(){return this._dragDepth}set dragDepth(t){this._dragDepth=t}get graph(){return this._graph}set graph(t){t&&(this._graph=t.clone(),this.draw())}get showTesselation(){return this._showTesselation}set showTesselation(t){this._showTesselation=t,this.draw()}setOnBackgroundLoadedCallback(t){this.image.onload=e=>t(this.image)}setBackgroundSource(t){let e=new FileReader;e.onload=t=>{let i=e.result;i&&(this.image.src=i.toString())},e.readAsDataURL(t)}getBackgroundImage(){return this.image}setOnPointsEditedCallback(t){this.onPointsEditedCallback=t}clearAndFitToWindow(){let t=$("#canvas-div");this.canvas.width=t.innerWidth(),this.canvas.height=t.innerHeight()}center(){let t=this.canvas.width/this.image.width,e=this.canvas.height/this.image.height;this.zoomScale=t<e?t:e,this.offsetX=this.canvas.width/2-this.image.width/2*this.zoomScale,this.offsetY=this.canvas.height/2-this.image.height/2*this.zoomScale,this.draw()}zoom(t){let e=(this.mouseX-this.offsetX)/this.zoomScale,i=(this.mouseY-this.offsetY)/this.zoomScale;t?(this.canvas.style.cursor="zoom-out",this.zoomScale/=1.1):(this.canvas.style.cursor="zoom-in",this.zoomScale*=1.1),this.zoomScale=Math.min(Math.max(.1,this.zoomScale),50),this.offsetX=this.mouseX-e*this.zoomScale,this.offsetY=this.mouseY-i*this.zoomScale,this.draw()}pan(t,e){this.canvas.style.cursor="move",this.offsetX+=t,this.offsetY+=e,this.draw()}draw(){this.clearAndFitToWindow(),this.ctx.translate(this.offsetX,this.offsetY),this.ctx.scale(this.zoomScale,this.zoomScale),this.ctx.drawImage(this.image,0,0),this.showTesselation&&this.drawFaceTrait(fn.FACE_LANDMARKS_TESSELATION,"#d5d5d5"),this.drawFaceTrait(fn.FACE_LANDMARKS_FACE_OVAL,"#42ffef"),this.drawFaceTrait(fn.FACE_LANDMARKS_LIPS,"#ff0883"),this.drawFaceTrait(fn.FACE_LANDMARKS_RIGHT_EYEBROW,f2),this.drawFaceTrait(fn.FACE_LANDMARKS_RIGHT_EYE,f2),this.drawFaceTrait(fn.FACE_LANDMARKS_RIGHT_IRIS,"#efffd8"),this.drawFaceTrait(fn.FACE_LANDMARKS_LEFT_EYEBROW,f3),this.drawFaceTrait(fn.FACE_LANDMARKS_LEFT_EYE,f3),this.drawFaceTrait(fn.FACE_LANDMARKS_LEFT_IRIS,"#b5ebff"),this.drawFaceTrait(fZ,"#eada70")}drawPoint(t){if(t&&!t.deleted){let e=sM.project(this.image,t);t.hovered&&(this.ctx.beginPath(),this.ctx.fillStyle="rgba(255,250,163,0.6)",this.ctx.arc(e.x,e.y,5/this.zoomScale,0,2*Math.PI),this.ctx.fill()),t.selected&&(this.ctx.beginPath(),this.ctx.fillStyle="rgba(255,250,58,0.6)",this.ctx.arc(e.x,e.y,5/this.zoomScale,0,2*Math.PI),this.ctx.fill()),this.ctx.beginPath(),this.ctx.fillStyle="#0d6efd",this.ctx.arc(e.x,e.y,3/this.zoomScale,0,2*Math.PI),this.ctx.fill()}}drawFaceTrait(t,e){if(this.graph){let i=t.map(t=>({start:this.graph.getById(t.start),end:this.graph.getById(t.end)}));for(let t of(this.ctx.beginPath(),this.ctx.strokeStyle=e,this.ctx.lineWidth=2/this.zoomScale,i)){let e=t.start,i=t.end;e&&i&&!e.deleted&&!i.deleted&&(e=sM.project(this.image,e),i=sM.project(this.image,i),this.ctx.moveTo(e.x,e.y),this.ctx.lineTo(i.x,i.y))}for(let t of(this.ctx.stroke(),i)){let e=t.start,i=t.end;this.drawPoint(e),this.drawPoint(i)}}}handleMouseDown(t){0===t.button?(this._graph.points.filter(t=>t.hovered&&!t.deleted).forEach(t=>{t.selected=!0,this.isMoving=!0}),!1===this.isMoving&&(this.isPanning=!0)):1===t.button||t.button}handleMouseMove(t){this.prevMouseX=this.mouseX,this.prevMouseY=this.mouseY;let e=$("#canvas").offset();this.mouseX=t.clientX-e.left,this.mouseY=t.clientY-e.top;let i=(this.mouseX-this.offsetX)/this.zoomScale,n=(this.mouseY-this.offsetY)/this.zoomScale;if(this.isMoving){this.canvas.style.cursor="pointer";let t=new Set,e=sM.unproject(this.image,new sI(-1,i,n,[])),r=this.graph.getSelected(),s=[r],o=e.x-r.x,a=e.y-r.y;for(let e=0;e<=this.dragDepth;e++){let i=[];for(let n of s){let r=Math.exp(-e),s=new sI(-1,n.x+o*r,n.y+a*r,[]);n.moveTo(s),t.add(n.id),i=i.concat(this.graph.getNeighbourPointsOf(n))}s=i.filter(e=>!t.has(e.id))}this.draw()}else if(this.isPanning)this.pan(this.mouseX-this.prevMouseX,this.mouseY-this.prevMouseY);else if(this.image){let t=!1,e=sM.unproject(this.image,new sI(-1,i,n,[]));this._graph.points.forEach(i=>{!t&&sM.intersects(this.image,i,e,5/this.zoomScale)?(i.hovered=!0,t=!0):(t||=i.hovered,i.hovered=!1)}),t&&this.draw()}}handleMouseUp(t){this.isMoving&&this.onPointsEditedCallback&&this.onPointsEditedCallback(this._graph),this.canvas.style.cursor="default",this.isPanning=!1,this.isMoving=!1,this._graph.points.forEach(t=>t.selected=!1)}handleWheel(t){this.image&&!t.shiftKey&&(this.zoom(t.deltaY>0),t.preventDefault())}}class f4 extends sI{constructor(t,e,i,n,r){super(t,e,i,r),this._z=n}get z(){return this._z}set z(t){this._z=t}toString(){return`Point3D(id=${this.id}, x=${this.x}, y=${this.y}, z=${this.z})`}clone(){let t=new f4(this.id,this.x,this.y,this.z,this.getNeighbourIds());return t.hovered=this.hovered,t.deleted=this.deleted,t.selected=this.selected,t}toDict(){return{id:this.id,x:this.x,y:this.y,z:this.z,deleted:this.deleted}}}class f5{constructor(){uW.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm").then(t=>fn.createFromOptions(t,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/face_landmarker/face_landmarker/float16/1/face_landmarker.task",delegate:"CPU"},minFaceDetectionConfidence:.3,minFacePresenceConfidence:.3,runningMode:"IMAGE",numFaces:1})).then(t=>this.meshLandmarker=t)}async detect(t){return new Promise((e,i)=>{let n=new Image;n.onload=t=>{let r=this.meshLandmarker?.detect(n);if(r){let t=r.faceLandmarks.map(t=>t.map((t,e)=>{let i=Array.from(fW(e,fn.FACE_LANDMARKS_TESSELATION,1));return new f4(e,t.x,t.y,t.z,i)}).map(t=>t)).map(t=>new sO(t));t&&e(t[0])}else i("Face(s) could not be detected!")};let r=new FileReader;r.onload=t=>{let e=r.result;e?n.src=e.toString():i("Image could not be read!")},r.readAsDataURL(t)})}async uploadAnnotations(t){return Promise.resolve()}}function f6(t,e,i,n){return new(i||(i=Promise))(function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?r(t.value):((e=t.value)instanceof i?e:new i(function(t){t(e)})).then(o,a)}l((n=n.apply(t,e||[])).next())})}function f8(t,e){var i,n,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(i)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(pl=ph||(ph={}))[pl.mediapipe=0]="mediapipe",pl[pl.custom=1]="custom","function"==typeof SuppressedError&&SuppressedError;var f7={exclude:[]},f9={},pt={timeout:"true"},pe=function(t,e){"undefined"!=typeof window&&(f9[t]=e)};function pi(t,e){return t<<e|t>>>32-e}function pn(t,e){void 0===e&&(e=0);for(var i,n=e,r=0,s=3&t.length,o=t.length-s,a=0;a<o;)r=255&t.charCodeAt(a)|(255&t.charCodeAt(++a))<<8|(255&t.charCodeAt(++a))<<16|(255&t.charCodeAt(++a))<<24,++a,r=pi(r=Math.imul(r,3432918353),15),n=Math.imul(n=pi(n^=r=Math.imul(r,461845907),13),5)+3864292196;switch(r=0,s){case 3:r^=(255&t.charCodeAt(a+2))<<16;case 2:r^=(255&t.charCodeAt(a+1))<<8;case 1:r^=255&t.charCodeAt(a),n^=r=Math.imul(r=pi(r=Math.imul(r,3432918353),15),461845907)}return(i=n^=t.length,i^=i>>>16,i=Math.imul(i,2246822507),i^=i>>>13,(n=(i=Math.imul(i,3266489909))^i>>>16)>>>0).toString(36)}function pr(t){return f6(this,void 0,void 0,function(){var e,i;return f8(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,function(){return f6(this,void 0,void 0,function(){var t,e,i,n;return f8(this,function(r){switch(r.label){case 0:var s,o;return r.trys.push([0,2,,3]),e=Object.keys(t=Object.fromEntries(Object.entries(f9).filter(function(t){var e,i=t[0];return!(null===(e=null==f7?void 0:f7.exclude)||void 0===e?void 0:e.includes(i))}).map(function(t){return[t[0],(0,t[1])()]}))),[4,(s=Object.values(t),o=(null==f7?void 0:f7.timeout)||1e3,Promise.all(s.map(function(t){return Promise.race([t,new Promise(function(t){setTimeout(function(){return t(pt)},o)})])})))];case 1:return i=r.sent().filter(function(t){return void 0!==t}),n={},i.forEach(function(t,i){n[e[i]]=t}),[2,function t(e,i){var n={},r=function(r){if(e.hasOwnProperty(r)){var s=e[r];if("object"!=typeof s||Array.isArray(s))i.includes(r)||(n[r]=s);else{var o=t(s,i.map(function(t){return t.startsWith(r+".")?t.slice(r.length+1):t}));Object.keys(o).length>0&&(n[r]=o)}}};for(var s in e)r(s);return n}(n,f7.exclude||[])];case 2:throw r.sent();case 3:return[2]}})})}()];case 1:return i=pn(JSON.stringify(e=n.sent())),t?[2,{hash:i.toString(),data:e}]:[2,i.toString()];case 2:throw n.sent();case 3:return[2]}})})}function ps(t,e,i){for(var n=[],r=0;r<t[0].data.length;r++){for(var s=[],o=0;o<t.length;o++)s.push(t[o].data[r]);n.push(function(t){if(0===t.length)return 0;for(var e={},i=0;i<t.length;i++)e[r=t[i]]=(e[r]||0)+1;var n=t[0];for(var r in e)e[r]>e[n]&&(n=parseInt(r,10));return n}(s))}return new ImageData(new Uint8ClampedArray(n),e,i)}function po(){if("undefined"==typeof navigator)return{name:"unknown",version:"unknown"};for(var t=navigator.userAgent,e={Edg:"Edge",OPR:"Opera"},i=0,n=[/(?<name>Edge|Edg)\/(?<version>\d+(?:\.\d+)?)/,/(?<name>(?:Chrome|Chromium|OPR|Opera|Vivaldi|Brave))\/(?<version>\d+(?:\.\d+)?)/,/(?<name>(?:Firefox|Waterfox|Iceweasel|IceCat))\/(?<version>\d+(?:\.\d+)?)/,/(?<name>Safari)\/(?<version>\d+(?:\.\d+)?)/,/(?<name>MSIE|Trident|IEMobile).+?(?<version>\d+(?:\.\d+)?)/,/(?<name>[A-Za-z]+)\/(?<version>\d+(?:\.\d+)?)/,/(?<name>SamsungBrowser)\/(?<version>\d+(?:\.\d+)?)/];i<n.length;i++){var r=n[i],s=t.match(r);if(s&&s.groups)return{name:e[s.groups.name]||s.groups.name,version:s.groups.version}}return{name:"unknown",version:"unknown"}}pe("audio",function(){return f6(this,void 0,void 0,function(){return f8(this,function(t){return[2,new Promise(function(t,e){try{var i=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,5e3,44100),n=i.createBufferSource(),r=i.createOscillator();r.frequency.value=1e3;var s,o=i.createDynamicsCompressor();o.threshold.value=-50,o.knee.value=40,o.ratio.value=12,o.attack.value=0,o.release.value=.2,r.connect(o),o.connect(i.destination),r.start(),i.oncomplete=function(e){s=e.renderedBuffer.getChannelData(0),t({sampleHash:function(t){for(var e=0,i=0;i<t.length;++i)e+=Math.abs(t[i]);return e}(s),oscillator:r.type,maxChannels:i.destination.maxChannelCount,channelCountMode:n.channelCountMode})},i.startRendering()}catch(t){console.error("Error creating audio fingerprint:",t),e(t)}})]})})});var pa="SamsungBrowser"!==po().name?1:3;"Firefox"!=po().name&&pe("canvas",function(){return document.createElement("canvas").getContext("2d"),new Promise(function(t){t({commonImageDataHash:pn(ps(Array.from({length:pa},function(){return function(){var t=document.createElement("canvas"),e=t.getContext("2d");if(!e)return new ImageData(1,1);t.width=280,t.height=20;var i=e.createLinearGradient(0,0,t.width,t.height);i.addColorStop(0,"red"),i.addColorStop(1/6,"orange"),i.addColorStop(2/6,"yellow"),i.addColorStop(.5,"green"),i.addColorStop(4/6,"blue"),i.addColorStop(5/6,"indigo"),i.addColorStop(1,"violet"),e.fillStyle=i,e.fillRect(0,0,t.width,t.height);var n="Random Text WMwmil10Oo";return e.font="23.123px Arial",e.fillStyle="black",e.fillText(n,-5,15),e.fillStyle="rgba(0, 0, 255, 0.5)",e.fillText(n,-3.3,17.7),e.beginPath(),e.moveTo(0,0),e.lineTo(2*t.width/7,t.height),e.strokeStyle="white",e.lineWidth=2,e.stroke(),e.getImageData(0,0,t.width,t.height)}()}),280,20).data.toString()).toString()})})});var pl,ph,pc,pu=["Arial","Arial Black","Arial Narrow","Arial Rounded MT","Arimo","Archivo","Barlow","Bebas Neue","Bitter","Bookman","Calibri","Cabin","Candara","Century","Century Gothic","Comic Sans MS","Constantia","Courier","Courier New","Crimson Text","DM Mono","DM Sans","DM Serif Display","DM Serif Text","Dosis","Droid Sans","Exo","Fira Code","Fira Sans","Franklin Gothic Medium","Garamond","Geneva","Georgia","Gill Sans","Helvetica","Impact","Inconsolata","Indie Flower","Inter","Josefin Sans","Karla","Lato","Lexend","Lucida Bright","Lucida Console","Lucida Sans Unicode","Manrope","Merriweather","Merriweather Sans","Montserrat","Myriad","Noto Sans","Nunito","Nunito Sans","Open Sans","Optima","Orbitron","Oswald","Pacifico","Palatino","Perpetua","PT Sans","PT Serif","Poppins","Prompt","Public Sans","Quicksand","Rajdhani","Recursive","Roboto","Roboto Condensed","Rockwell","Rubik","Segoe Print","Segoe Script","Segoe UI","Sora","Source Sans Pro","Space Mono","Tahoma","Taviraj","Times","Times New Roman","Titillium Web","Trebuchet MS","Ubuntu","Varela Round","Verdana","Work Sans"],pd=["monospace","sans-serif","serif"];function pf(t,e){if(!t)throw Error("Canvas context not supported");return t.font,t.font="72px ".concat(e),t.measureText("WwMmLli0Oo").width}"Firefox"!=po().name&&pe("fonts",function(){var t=this;return new Promise(function(e,i){try{!function(t){var e;f6(this,void 0,void 0,function(){var i,n,r;return f8(this,function(s){var o;switch(s.label){case 0:return document.body?[3,2]:[4,new Promise(function(t){return setTimeout(t,50,o)})];case 1:return s.sent(),[3,0];case 2:if((i=document.createElement("iframe")).setAttribute("frameBorder","0"),(n=i.style).setProperty("position","fixed"),n.setProperty("display","block","important"),n.setProperty("visibility","visible"),n.setProperty("border","0"),n.setProperty("opacity","0"),i.src="about:blank",document.body.appendChild(i),!(r=i.contentDocument||(null===(e=i.contentWindow)||void 0===e?void 0:e.document)))throw Error("Iframe document is not accessible");return t({iframe:r}),setTimeout(function(){document.body.removeChild(i)},0),[2]}})})}(function(i){var n=i.iframe;return f6(t,void 0,void 0,function(){var t,i,r;return f8(this,function(s){return t=n.createElement("canvas").getContext("2d"),i=pd.map(function(e){return pf(t,e)}),r={},pu.forEach(function(e){var n=pf(t,e);i.includes(n)||(r[e]=n)}),e(r),[2]})})})}catch(t){i({error:"unsupported"})}})}),pe("hardware",function(){return new Promise(function(t,e){var i,n,r=void 0!==navigator.deviceMemory?navigator.deviceMemory:0,s=window.performance&&window.performance.memory?window.performance.memory:0;t({videocard:function(){var t,e=document.createElement("canvas"),i=null!==(t=e.getContext("webgl"))&&void 0!==t?t:e.getContext("experimental-webgl");if(i&&"getParameter"in i){var n=i.getExtension("WEBGL_debug_renderer_info");return{vendor:(i.getParameter(i.VENDOR)||"").toString(),vendorUnmasked:n?(i.getParameter(n.UNMASKED_VENDOR_WEBGL)||"").toString():"",renderer:(i.getParameter(i.RENDERER)||"").toString(),rendererUnmasked:n?(i.getParameter(n.UNMASKED_RENDERER_WEBGL)||"").toString():"",version:(i.getParameter(i.VERSION)||"").toString(),shadingLanguageVersion:(i.getParameter(i.SHADING_LANGUAGE_VERSION)||"").toString()}}return"undefined"}(),architecture:(n=new Uint8Array((i=new Float32Array(1)).buffer),i[0]=1/0,i[0]=i[0]-i[0],n[3]),deviceMemory:r.toString()||"undefined",jsHeapSizeLimit:s.jsHeapSizeLimit||0})})}),pe("locales",function(){return new Promise(function(t){t({languages:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone})})}),pe("permissions",function(){return f6(this,void 0,void 0,function(){return f8(this,function(t){return pc=(null==f7?void 0:f7.permissions_to_check)||["accelerometer","accessibility","accessibility-events","ambient-light-sensor","background-fetch","background-sync","bluetooth","camera","clipboard-read","clipboard-write","device-info","display-capture","gyroscope","geolocation","local-fonts","magnetometer","microphone","midi","nfc","notifications","payment-handler","persistent-storage","push","speaker","storage-access","top-level-storage-access","window-management","query"],[2,Promise.all(Array.from({length:(null==f7?void 0:f7.retries)||3},function(){return function(){return f6(this,void 0,void 0,function(){var t,e,i,n,r;return f8(this,function(s){switch(s.label){case 0:t={},e=0,i=pc,s.label=1;case 1:if(!(e<i.length))return[3,6];n=i[e],s.label=2;case 2:return s.trys.push([2,4,,5]),[4,navigator.permissions.query({name:n})];case 3:return r=s.sent(),t[n]=r.state.toString(),[3,5];case 4:return s.sent(),[3,5];case 5:return e++,[3,1];case 6:return[2,t]}})})}()})).then(function(t){var e;return e={},pc.forEach(function(i){var n=function(t){if(0===t.length)return null;var e={};t.forEach(function(t){var i=String(t);e[i]=(e[i]||0)+1});var i=t[0],n=1;return Object.keys(e).forEach(function(t){e[t]>n&&(i=t,n=e[t])}),i}(t.map(function(t){return i in t?t[i]:void 0}).filter(function(t){return void 0!==t}));n&&(e[i]=n)}),e})]})})}),pe("plugins",function(){var t=[];if(navigator.plugins)for(var e=0;e<navigator.plugins.length;e++){var i=navigator.plugins[e];t.push([i.name,i.filename,i.description].join("|"))}return new Promise(function(e){e({plugins:t})})}),pe("screen",function(){return new Promise(function(t){var e,i;t({is_touchscreen:navigator.maxTouchPoints>0,maxTouchPoints:navigator.maxTouchPoints,colorDepth:screen.colorDepth,mediaMatches:(e=[],Object.keys(i={"prefers-contrast":["high","more","low","less","forced","no-preference"],"any-hover":["hover","none"],"any-pointer":["none","coarse","fine"],pointer:["none","coarse","fine"],hover:["hover","none"],update:["fast","slow"],"inverted-colors":["inverted","none"],"prefers-reduced-motion":["reduce","no-preference"],"prefers-reduced-transparency":["reduce","no-preference"],scripting:["none","initial-only","enabled"],"forced-colors":["active","none"]}).forEach(function(t){i[t].forEach(function(i){matchMedia("(".concat(t,": ").concat(i,")")).matches&&e.push("".concat(t,": ").concat(i))})}),e)})})}),pe("system",function(){return new Promise(function(t){var e=po();t({platform:window.navigator.platform,cookieEnabled:window.navigator.cookieEnabled,productSub:navigator.productSub,product:navigator.product,useragent:navigator.userAgent,browser:{name:e.name,version:e.version},applePayVersion:function(){if("https:"===window.location.protocol&&"function"==typeof window.ApplePaySession)try{for(var t=window.ApplePaySession.supportsVersion,e=15;e>0;e--)if(t(e))return e}catch(t){}return 0}()})})});var pp,pm="SamsungBrowser"!==po().name?1:3,pg=null;"undefined"!=typeof document&&((pp=document.createElement("canvas")).width=200,pp.height=100,pg=pp.getContext("webgl")),pe("webgl",function(){return f6(this,void 0,void 0,function(){var t;return f8(this,function(e){try{if(!pg)throw Error("WebGL not supported");return t=Array.from({length:pm},function(){return function(){try{if(!pg)throw Error("WebGL not supported");var t=pg.createShader(pg.VERTEX_SHADER),e=pg.createShader(pg.FRAGMENT_SHADER);if(!t||!e)throw Error("Failed to create shaders");if(pg.shaderSource(t,"\n          attribute vec2 position;\n          void main() {\n              gl_Position = vec4(position, 0.0, 1.0);\n          }\n      "),pg.shaderSource(e,"\n          precision mediump float;\n          void main() {\n              gl_FragColor = vec4(0.812, 0.195, 0.553, 0.921); // Set line color\n          }\n      "),pg.compileShader(t),!pg.getShaderParameter(t,pg.COMPILE_STATUS))throw Error("Vertex shader compilation failed: "+pg.getShaderInfoLog(t));if(pg.compileShader(e),!pg.getShaderParameter(e,pg.COMPILE_STATUS))throw Error("Fragment shader compilation failed: "+pg.getShaderInfoLog(e));var i=pg.createProgram();if(!i)throw Error("Failed to create shader program");if(pg.attachShader(i,t),pg.attachShader(i,e),pg.linkProgram(i),!pg.getProgramParameter(i,pg.LINK_STATUS))throw Error("Shader program linking failed: "+pg.getProgramInfoLog(i));pg.useProgram(i);for(var n=new Float32Array(548),r=2*Math.PI/137,s=0;s<137;s++){var o=s*r;n[4*s]=0,n[4*s+1]=0,n[4*s+2]=Math.cos(o)*(pp.width/2),n[4*s+3]=Math.sin(o)*(pp.height/2)}var a=pg.createBuffer();pg.bindBuffer(pg.ARRAY_BUFFER,a),pg.bufferData(pg.ARRAY_BUFFER,n,pg.STATIC_DRAW);var l=pg.getAttribLocation(i,"position");pg.enableVertexAttribArray(l),pg.vertexAttribPointer(l,2,pg.FLOAT,!1,0,0),pg.viewport(0,0,pp.width,pp.height),pg.clearColor(0,0,0,1),pg.clear(pg.COLOR_BUFFER_BIT),pg.drawArrays(pg.LINES,0,274);var h=new Uint8ClampedArray(pp.width*pp.height*4);return pg.readPixels(0,0,pp.width,pp.height,pg.RGBA,pg.UNSIGNED_BYTE,h),new ImageData(h,pp.width,pp.height)}catch(t){return new ImageData(1,1)}finally{pg&&(pg.bindBuffer(pg.ARRAY_BUFFER,null),pg.useProgram(null),pg.viewport(0,0,pg.drawingBufferWidth,pg.drawingBufferHeight),pg.clearColor(0,0,0,0))}}()}),[2,{commonImageHash:pn(ps(t,pp.width,pp.height).data.toString()).toString()}]}catch(t){return[2,{webgl:"unsupported"}]}return[2]})})});var p_=function(t,e,i,n){for(var r=(i-e)/n,s=0,o=0;o<n;o++)s+=t(e+(o+.5)*r);return s*r};pe("math",function(){return f6(void 0,void 0,void 0,function(){return f8(this,function(t){return[2,{acos:Math.acos(.5),asin:p_(Math.asin,-1,1,97),atan:p_(Math.atan,-1,1,97),cos:p_(Math.cos,0,Math.PI,97),cosh:Math.cosh(9/7),e:Math.E,largeCos:.7639704044417283,largeSin:-.6452512852657808,largeTan:Math.tan(1e20),log:Math.log(1e3),pi:Math.PI,sin:p_(Math.sin,-Math.PI,Math.PI,97),sinh:p_(Math.sinh,-9/7,7/9,97),sqrt:Math.sqrt(2),tan:p_(Math.tan,0,2*Math.PI,97),tanh:p_(Math.tanh,-9/7,7/9,97)}]})})});class pv{constructor(t){this.url=t}async detect(t){let e=new FormData;return e.append("file",t),pr().then(async i=>("string"!=typeof i&&(i=i.hash.toString()),fetch(new Request(this.url+"/detect?__id__="+i,{method:"POST",body:e})).then(async t=>{if(!t.ok)throw Error((await t.json()).message);return t.json()}).then(async e=>{let i=await sC(t);if(e.sha256!==i)throw Error(`sha256 didn't match present file was ${e.sha256},  is , ${i}`);if(!e.points)throw Error("The request didn't return any point data.");return e.points}).then(t=>t.map((t,e)=>{let i=Array.from(fW(e,fn.FACE_LANDMARKS_TESSELATION,1));return new sI(e,t.x,t.y,i)})).then(t=>new sO(t)).catch(t=>(console.log(t.message),null))))}async uploadAnnotations(t){let e=new Headers;return e.set("Content-Type","application/json"),e.set("Accept","application/json"),pr().then(async i=>{let n=JSON.parse(t);return"string"==typeof i?n.__id__=i:n.__id__=i.hash.toString(),fetch(new Request(this.url+"/annotations",{method:"POST",headers:e,body:JSON.stringify(n)}))})}static async verifyUrl(t){return RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)?fetch(new Request(t,{method:"HEAD"})).then(t=>null).catch(t=>"Unreachable"):"InvalidUrl"}}(y=w||(w={})).InvalidUrl="InvalidUrl",y.Unreachable="Unreachable";class py{get modelType(){return this._modelType}constructor(t){this.fileCache=[],this.editor=new f0,this.models={mediapipe:{model:new f5,selected:!0},custom:{model:null,selected:!1}},this.selectedFile=null,this._modelType=ph.mediapipe,this.cacheSize=t,this.featureDrag=new rG("feature_drag",()=>{document.getElementById("num").value=this.featureDrag.getValue().toString(),this.editor.dragDepth=this.featureDrag.getValue()}),this.viewTesselation=new rz("view_tesselation",()=>this.editor.showTesselation=this.viewTesselation.isChecked()),this.thumbnailGallery=$("#thumbnailGallery"),this.numImages=document.getElementById("num_images"),this.editor.setOnPointsEditedCallback(t=>{if(!this.getSelectedFileHistory())return;let e=this.getSelectedFileHistory();e.add(t),rV.setStatus(e.file.name,sH.edited)}),this.editor.setOnBackgroundLoadedCallback(t=>{this.getSelectedFileHistory()?.isEmpty()?this.runDetection():this.editor.graph=this.getSelectedFileHistory()?.get(),this.editor.center()})}openImage(){let t=document.createElement("input");return t.type="file",t.accept="image/png, image/jpeg, image/jpg",t.multiple=!0,t.onchange=()=>{if(t.files){let e=Array.from(t.files);for(let t of e){let e=new sL(t,this.cacheSize);this.fileCache.push(e);let i=new rV(t=>this.selectThumbnail(t));i.setSource(t),this.thumbnailGallery.append(i.toHtml()),this.numImages.value=this.thumbnailGallery.children().length.toString()}e.length>0&&(this.editor.setBackgroundSource(e[0]),this.selectedFile=e[0].name)}},t.click(),!1}openAnnotation(){let t=document.createElement("input");return t.type="file",t.accept=".json,application/json",t.onchange=()=>{if(t.files?.length<=0)return;let e=t.files[0],i=new FileReader;i.onload=t=>{let e=JSON.parse(i.result);for(let t of Object.keys(e)){let i=e[t];if(0==Object.keys(i).length)continue;let n=sO.fromJson(i.points,t=>new sI(t,0,0,[])),r=this.fileCache.find(e=>e.file.name===t&&e.hash===i.sha256);r&&(r.add(n),this.selectedFile===t&&(this.editor.graph=n))}this.editor.draw()},i.readAsText(e)},t.click(),!1}collectAnnotation(){let t={};for(let e of this.fileCache){if(!e.readyToSave)continue;e.markAsSent();let i=e.get();t[e.file.name]={},i&&(t[e.file.name].points=i.toDictArray(),t[e.file.name].sha256=e.hash)}return t}saveAnnotation(){if(this.fileCache.length<=0)return!1;let t=this.collectAnnotation();if(Object.keys(t).length<=0)return!1;let e=JSON.stringify(t);this.getModel().uploadAnnotations(e);let i="data:text/json;charset=utf-8,"+encodeURIComponent(e),n=document.createElement("a");return n.href=i,n.download=Date.now()+"_face_mesh_annotations.json",n.click(),!1}sendAnnotation(){if(this.fileCache.length<=0)return!1;let t=this.collectAnnotation();if(Object.keys(t).length<=0)return!1;let e=JSON.stringify(t);return this.getModel().uploadAnnotations(e),Object.keys(t).forEach(t=>{rV.setStatus(t,sH.saved)}),!1}undo(){return this.getSelectedFileHistory()?.previous(),this.editor.graph=this.getSelectedFileHistory()?.get(),!1}redo(){return this.getSelectedFileHistory()?.next(),this.editor.graph=this.getSelectedFileHistory()?.get(),!1}reset(){return this.getSelectedFileHistory()?.clear(),this.runDetection(),rV.setStatus(this.getSelectedFileHistory().file.name,sH.unedited),!1}addFeatureDrag(t){this.featureDrag.setValue(this.featureDrag.getValue()+t)}setModel(t){t===ph.custom?$("#sendAnno").show(.1):$("#sendAnno").hide(.1),this._modelType=t;let e=document.getElementById("btnModelMediapipe"),i=document.getElementById("btnModelCustom");switch(this.models.mediapipe.selected=!1,this.models.custom.selected=!1,t){case ph.mediapipe:e.checked=!0,this.models.mediapipe.selected=!0;break;case ph.custom:{i.checked=!0,this.models.custom.selected=!0;let t=$("#modelurl"),e=String(t.val());pv.verifyUrl(e).then(i=>{let n=$("#urlErrorText");if(null===i){this.models.custom.model=new pv(e),$("#modalSettingsModel").modal("hide"),n.hide();let t=$("#saveNotification")[0],i=r$.getOrCreateInstance(t);i.show(),localStorage.setItem("apiUrl",e);let r=$("#saveNotificationText");r.text("Webservice url saved!"),setTimeout(()=>{i.hide(),r.text()},5e3)}else{switch(i){case w.InvalidUrl:n.removeAttr("hidden"),n.text("Please enter a valid URL!");break;case w.Unreachable:n.removeAttr("hidden"),n.text("The provided endpoint wasn't reachable!")}t.addClass("wrongInput"),setTimeout(function(){t.removeClass("wrongInput")},500)}});break}default:console.error('No model "'+name+'" found to change to!')}return!1}getModel(){for(let t in this.models)if(this.models[t].selected)return this.models[t].model}deleteFeature(t){switch(this.getSelectedFileHistory()?.add(this.editor.graph),t){case"left_eye":this.deletePoints(fY);break;case"left_eyebrow":this.deletePoints(fq);break;case"right_eye":this.deletePoints(fJ);break;case"right_eyebrow":this.deletePoints(fQ);break;case"nose":this.deletePoints(f1);break;case"mouth":this.deletePoints(fX);break;default:console.error('No feature "'+t+'" found to delete!')}return!1}selectThumbnail(t){if(t===this.selectedFile){this.getSelectedFileHistory().readyToSave=!0,rV.setStatus(t,sH.saved);return}this.selectedFile=t;let e=this.getSelectedFileHistory();e&&this.editor.setBackgroundSource(e.file)}resizeWindow(){this.editor.draw()}runDetection(){this.getModel()?.detect(this.getSelectedFileHistory().file).then(t=>{null!==t&&(this.getSelectedFileHistory()?.add(t),this.editor.center(),this.editor.graph=t)})}getSelectedFileHistory(){return this.fileCache.find(t=>t.file.name===this.selectedFile)}anyReadyToSave(){return this.fileCache.some(t=>(console.log(t.file.name," ",t.readyToSave),t.readyToSave))}deletePoints(t){let e=this.getSelectedFileHistory()?.get();if(e){for(let i of t)e.getById(i).deleted=!0;this.editor.graph=e}}}window.onload=t=>{document.querySelectorAll("[aria-keyshortcuts]").forEach(t=>{t.style.cssText="width: 100%; text-align: start; padding: .2vw;";let e=t.ariaKeyShortcuts.split("+").map(t=>t.replace("Control","CTRL").replace("Shift","SHIFT").replace("Wheel","SCROLL"));if(t.ariaKeyShortcuts.length>0){let i=document.createElement("table");i.style.cssText="width: 100%";let n=document.createElement("tr");i.appendChild(n);let r=document.createElement("td");r.innerHTML=t.innerHTML,n.appendChild(r);let s=document.createElement("td");s.style.cssText="text-align: end;",s.innerHTML=e.map(t=>"<kbd>"+t+"</kbd>").join("+"),n.appendChild(s),t.replaceChildren(i)}});let e=new py(25);document.getElementById("openFile").onclick=()=>e.openImage(),document.getElementById("openAnno").onclick=()=>e.openAnnotation(),document.getElementById("saveAnno").onclick=()=>e.saveAnnotation(),document.getElementById("undo").onclick=()=>e.undo(),document.getElementById("redo").onclick=()=>e.redo(),document.getElementById("reset").onclick=()=>e.reset(),document.getElementById("btnModelMediapipe").onclick=()=>e.setModel(ph.mediapipe),document.getElementById("btnCloseModal").onclick=()=>e.setModel(ph.mediapipe),document.getElementById("btnCancelModal").onclick=()=>e.setModel(ph.mediapipe),document.getElementById("btnSaveCustomModel").onclick=()=>e.setModel(ph.custom),document.getElementById("feat_le").onclick=t=>e.deleteFeature("left_eye"),document.getElementById("feat_leb").onclick=t=>e.deleteFeature("left_eyebrow"),document.getElementById("feat_re").onclick=t=>e.deleteFeature("right_eye"),document.getElementById("feat_reb").onclick=t=>e.deleteFeature("right_eyebrow"),document.getElementById("feat_n").onclick=t=>e.deleteFeature("nose"),document.getElementById("feat_m").onclick=t=>e.deleteFeature("mouth"),window.onresize=()=>e.resizeWindow(),window.onwheel=t=>{t.shiftKey&&e.addFeatureDrag(t.deltaY/100)},$("#sendAnno").on("click",()=>{e.sendAnnotation()}).hide(),$(window).on("beforeunload",()=>{if(e.anyReadyToSave()){if(e.modelType!==ph.custom)return"?";e.sendAnnotation()}}),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&alert("You are using Safari. This website may not function as expected. Please consider using a different browser."),$("#modalSettingsModel").on("shown.bs.modal",function(t){let e=localStorage.getItem("apiUrl");e&&$("#modelurl").val(e)})};
//# sourceMappingURL=index.4de56501.js.map
